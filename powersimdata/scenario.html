
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>Scenario Framework &#8212; documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/sphinx_highlight.js"></script>
    <script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
    <script>mermaid.initialize({startOnLoad:true});</script>
    <link rel="shortcut icon" href="../_static/favicon.svg"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="scenario-framework">
<h1>Scenario Framework<a class="headerlink" href="#scenario-framework" title="Permalink to this heading">¶</a></h1>
<p>A scenario is defined by the following objects:</p>
<ul class="simple">
<li><p>a <strong>power grid</strong>, an interconnected network delivering electricity from producers
to load buses and consisting of:</p>
<ul>
<li><p>thermal (coal, natural gas, etc.) and renewable generators (wind turbines, etc.)
that produce electrical power</p></li>
<li><p>substations that change voltage levels (from high to low, or the reverse)</p></li>
<li><p>transmission lines that carry power from one place to the other (between two
substations, between a substation and load bus, between a generator bus and a
substation, etc.) - Both, high voltage AC and DC lines are used in our model</p></li>
<li><p>generator cost curve that specifies the cost as a function of power generated ($/
MWh) - These are determined by fuel cost and generator efficiency</p></li>
</ul>
</li>
<li><p><strong>time series</strong> for renewable generators and demand - These profiles are calculated
in the <a class="reference external" href="https://github.com/Breakthrough-Energy/PreREISE">PreREISE</a> package</p>
<ul>
<li><p>profile for the renewable generators consists of hourly power output</p></li>
<li><p>load profile gives the hourly demand (MW) in various load zones, which are
geographic entities such as a state or a portion of a state</p></li>
</ul>
</li>
<li><p>a <strong>change table</strong> used to alter the grid and profiles. To illustrate:</p>
<ul>
<li><p>generators and transmission lines (AC and DC) capacity can be scaled up and down</p></li>
<li><p>storage units, generators and transmission lines can be added</p></li>
</ul>
</li>
<li><p>some <strong>simulation parameters</strong> such as the start and end date along with the duration
of the intervals</p></li>
</ul>
<p>The <code class="docutils literal notranslate"><span class="pre">Scenario</span></code> class handles the following tasks:</p>
<ul class="simple">
<li><p>Build a scenario (<strong>create</strong> state)</p></li>
<li><p>Launch the scenario and extract the output data (<strong>execute</strong> state)</p></li>
<li><p>Retrieve the output data (<strong>analyze</strong> state)</p></li>
<li><p>Delete a scenario (<strong>delete</strong> state)</p></li>
<li><p>Move a scenario to a backup disk (<strong>move</strong> state)</p></li>
</ul>
<p>When a <code class="docutils literal notranslate"><span class="pre">Scenario</span></code> class is instantiated, its state is set either to <strong>create</strong>,
<strong>execute</strong> or <strong>analyze</strong>. The initial state of the <code class="docutils literal notranslate"><span class="pre">Scenario</span></code> object is set in the
constructor of the class. The <code class="docutils literal notranslate"><span class="pre">Scenario</span></code> class can be instantiated as follows:</p>
<ul class="simple">
<li><p>no parameter will instantiate the <cite>Scenario</cite> class in the <strong>create</strong> state and a new
scenario can then be built</p></li>
<li><p>a valid scenario identification number (<code class="docutils literal notranslate"><span class="pre">str</span></code> or <code class="docutils literal notranslate"><span class="pre">int</span></code>) or name (<code class="docutils literal notranslate"><span class="pre">str</span></code>) - Then:</p>
<ul>
<li><p>if the scenario has been ran and its output data have been extracted, it will be
in the <strong>analyze</strong> state</p></li>
<li><p>If the scenario has only been created or ran but not extracted, it will be in the
<strong>execute</strong> state</p></li>
</ul>
</li>
</ul>
<p>Note that instantiating a <code class="docutils literal notranslate"><span class="pre">Scenario</span></code> object with a string that doesn’t match any
existing scenarios identification number or name will result in a printout of the list
of existing scenarios and their information.</p>
<section id="creating-a-scenario">
<h2>Creating a Scenario<a class="headerlink" href="#creating-a-scenario" title="Permalink to this heading">¶</a></h2>
<p>A scenario can be created using few lines of code. This is illustrated below:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">powersimdata</span> <span class="kn">import</span> <span class="n">Scenario</span>

<span class="n">scenario</span> <span class="o">=</span> <span class="n">Scenario</span><span class="p">()</span>
<span class="c1"># print name of Scenario object state</span>
<span class="nb">print</span><span class="p">(</span><span class="n">scenario</span><span class="o">.</span><span class="n">state</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>

<span class="c1"># Start building a scenario</span>
<span class="n">scenario</span><span class="o">.</span><span class="n">set_grid</span><span class="p">(</span><span class="n">grid_model</span><span class="o">=</span><span class="s2">&quot;usa_tamu&quot;</span><span class="p">,</span> <span class="n">interconnect</span><span class="o">=</span><span class="s2">&quot;Western&quot;</span><span class="p">)</span>

<span class="c1"># set plan and scenario names</span>
<span class="n">scenario</span><span class="o">.</span><span class="n">set_name</span><span class="p">(</span><span class="s2">&quot;test&quot;</span><span class="p">,</span> <span class="s2">&quot;dummy&quot;</span><span class="p">)</span>
<span class="c1"># set start date, end date and interval</span>
<span class="n">scenario</span><span class="o">.</span><span class="n">set_time</span><span class="p">(</span><span class="s2">&quot;2016-08-01 00:00:00&quot;</span><span class="p">,</span> <span class="s2">&quot;2016-08-31 23:00:00&quot;</span><span class="p">,</span> <span class="s2">&quot;24H&quot;</span><span class="p">)</span>
<span class="c1"># set demand profile version</span>
<span class="n">scenario</span><span class="o">.</span><span class="n">set_base_profile</span><span class="p">(</span><span class="s2">&quot;demand&quot;</span><span class="p">,</span> <span class="s2">&quot;vJan2021&quot;</span><span class="p">)</span>
<span class="c1"># set hydro profile version</span>
<span class="n">scenario</span><span class="o">.</span><span class="n">set_base_profile</span><span class="p">(</span><span class="s2">&quot;hydro&quot;</span><span class="p">,</span> <span class="s2">&quot;vJan2021&quot;</span><span class="p">)</span>
<span class="c1"># set solar profile version</span>
<span class="n">scenario</span><span class="o">.</span><span class="n">set_base_profile</span><span class="p">(</span><span class="s2">&quot;solar&quot;</span><span class="p">,</span> <span class="s2">&quot;vJan2021&quot;</span><span class="p">)</span>
<span class="c1"># set wind profile version</span>
<span class="n">scenario</span><span class="o">.</span><span class="n">set_base_profile</span><span class="p">(</span><span class="s2">&quot;wind&quot;</span><span class="p">,</span> <span class="s2">&quot;vJan2021&quot;</span><span class="p">)</span>

<span class="c1"># scale capacity of solar plants in WA and AZ by 5 and 2.5, respectively</span>
<span class="n">scenario</span><span class="o">.</span><span class="n">change_table</span><span class="o">.</span><span class="n">scale_plant_capacity</span><span class="p">(</span>
  <span class="s2">&quot;solar&quot;</span><span class="p">,</span> <span class="n">zone_name</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;Washington&quot;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="s2">&quot;Arizona&quot;</span><span class="p">:</span> <span class="mf">2.5</span><span class="p">})</span>
<span class="c1"># scale capacity of wind farms in OR and MT by 1.5 and 2, respectively</span>
<span class="n">scenario</span><span class="o">.</span><span class="n">change_table</span><span class="o">.</span><span class="n">scale_plant_capacity</span><span class="p">(</span>
    <span class="s2">&quot;wind&quot;</span><span class="p">,</span> <span class="n">zone_name</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;Oregon&quot;</span><span class="p">:</span> <span class="mf">1.5</span><span class="p">,</span> <span class="s2">&quot;Montana Western&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">})</span>
<span class="c1"># scale capacity of branches in NV and WY by 2</span>
<span class="n">scenario</span><span class="o">.</span><span class="n">change_table</span><span class="o">.</span><span class="n">scale_branch_capacity</span><span class="p">(</span>
    <span class="n">zone_name</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;Nevada&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s2">&quot;Wyoming&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">})</span>

<span class="c1"># add AC lines in NM and CO</span>
<span class="n">scenario</span><span class="o">.</span><span class="n">change_table</span><span class="o">.</span><span class="n">add_branch</span><span class="p">(</span>
    <span class="p">[{</span><span class="s2">&quot;capacity&quot;</span><span class="p">:</span> <span class="mi">200</span><span class="p">,</span> <span class="s2">&quot;from_bus_id&quot;</span><span class="p">:</span> <span class="mi">2053002</span><span class="p">,</span> <span class="s2">&quot;to_bus_id&quot;</span><span class="p">:</span> <span class="mi">2053303</span><span class="p">},</span>
     <span class="p">{</span><span class="s2">&quot;capacity&quot;</span><span class="p">:</span> <span class="mi">150</span><span class="p">,</span> <span class="s2">&quot;from_bus_id&quot;</span><span class="p">:</span> <span class="mi">2060002</span><span class="p">,</span> <span class="s2">&quot;to_bus_id&quot;</span><span class="p">:</span> <span class="mi">2060046</span><span class="p">}])</span>

<span class="c1"># add DC line between CO and CA (Bay Area)</span>
<span class="n">scenario</span><span class="o">.</span><span class="n">change_table</span><span class="o">.</span><span class="n">add_dcline</span><span class="p">(</span>
    <span class="p">[{</span><span class="s2">&quot;capacity&quot;</span><span class="p">:</span> <span class="mi">2000</span><span class="p">,</span> <span class="s2">&quot;from_bus_id&quot;</span><span class="p">:</span> <span class="mi">2060771</span><span class="p">,</span> <span class="s2">&quot;to_bus_id&quot;</span><span class="p">:</span> <span class="mi">2021598</span><span class="p">}])</span>

<span class="c1"># add a solar plant in NV, a coal plant in ID and a natural gas plant in OR</span>
<span class="n">scenario</span><span class="o">.</span><span class="n">change_table</span><span class="o">.</span><span class="n">add_plant</span><span class="p">(</span>
    <span class="p">[{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;solar&quot;</span><span class="p">,</span> <span class="s2">&quot;bus_id&quot;</span><span class="p">:</span> <span class="mi">2030454</span><span class="p">,</span> <span class="s2">&quot;Pmax&quot;</span><span class="p">:</span> <span class="mi">75</span><span class="p">},</span>
     <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;coal&quot;</span><span class="p">,</span> <span class="s2">&quot;bus_id&quot;</span><span class="p">:</span> <span class="mi">2074334</span><span class="p">,</span> <span class="s2">&quot;Pmin&quot;</span><span class="p">:</span> <span class="mi">25</span><span class="p">,</span> <span class="s2">&quot;Pmax&quot;</span><span class="p">:</span> <span class="mi">750</span><span class="p">,</span> <span class="s2">&quot;c0&quot;</span><span class="p">:</span> <span class="mi">1800</span><span class="p">,</span> <span class="s2">&quot;c1&quot;</span><span class="p">:</span> <span class="mi">30</span><span class="p">,</span> <span class="s2">&quot;c2&quot;</span><span class="p">:</span> <span class="mf">0.0025</span><span class="p">},</span>
     <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;ng&quot;</span><span class="p">,</span> <span class="s2">&quot;bus_id&quot;</span><span class="p">:</span> <span class="mi">2090018</span><span class="p">,</span> <span class="s2">&quot;Pmax&quot;</span><span class="p">:</span> <span class="mi">75</span><span class="p">,</span> <span class="s2">&quot;c0&quot;</span><span class="p">:</span> <span class="mi">900</span><span class="p">,</span> <span class="s2">&quot;c1&quot;</span><span class="p">:</span> <span class="mi">30</span><span class="p">,</span> <span class="s2">&quot;c2&quot;</span><span class="p">:</span> <span class="mf">0.0015</span><span class="p">}])</span>

<span class="c1"># add a new bus, and a new one-way DC line connected to this bus</span>
<span class="n">scenario</span><span class="o">.</span><span class="n">change_table</span><span class="o">.</span><span class="n">add_bus</span><span class="p">(</span>
    <span class="p">[{</span><span class="s2">&quot;lat&quot;</span><span class="p">:</span> <span class="mi">48</span><span class="p">,</span> <span class="s2">&quot;lon&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mi">125</span><span class="p">,</span> <span class="s2">&quot;zone_id&quot;</span><span class="p">:</span> <span class="mi">201</span><span class="p">,</span> <span class="s2">&quot;baseKV&quot;</span><span class="p">:</span> <span class="mi">138</span><span class="p">}])</span>
<span class="n">scenario</span><span class="o">.</span><span class="n">change_table</span><span class="o">.</span><span class="n">add_dcline</span><span class="p">(</span>
    <span class="p">[{</span><span class="s2">&quot;from_bus_id&quot;</span><span class="p">:</span> <span class="mi">2090023</span><span class="p">,</span> <span class="s2">&quot;to_bus_id&quot;</span><span class="p">:</span> <span class="mi">2090024</span><span class="p">,</span> <span class="s2">&quot;Pmin&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;Pmax&quot;</span><span class="p">:</span> <span class="mi">200</span><span class="p">}])</span>

<span class="c1"># get grid used in scenario</span>
<span class="n">grid</span> <span class="o">=</span> <span class="n">scenario</span><span class="o">.</span><span class="n">get_grid</span><span class="p">()</span>
<span class="c1"># get change table used to alter the base grid.</span>
<span class="n">ct</span> <span class="o">=</span> <span class="n">scenario</span><span class="o">.</span><span class="n">get_ct</span><span class="p">()</span>
</pre></div>
</div>
<p>It can be convenient to clear the change table when creating a scenario. Let’s say for
instance that a wrong scaling factor has been applied or a generator has been attached
to the wrong bus. To do so, the <code class="docutils literal notranslate"><span class="pre">clear</span></code> method of the <code class="docutils literal notranslate"><span class="pre">ChangeTable</span></code> class can be
used.</p>
<p>There are also a couple of more advanced methods which can selectively scale branches
based on the topology of the existing grid, or based on power flow results from a
previous scenario. These can be called as:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">scenario</span><span class="o">.</span><span class="n">change_table</span><span class="o">.</span><span class="n">scale_renewable_stubs</span><span class="p">()</span>
</pre></div>
</div>
<p>or</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">scenario</span><span class="o">.</span><span class="n">change_table</span><span class="o">.</span><span class="n">scale_congested_mesh_branches</span><span class="p">(</span><span class="n">ref_scenario</span><span class="p">)</span>
</pre></div>
</div>
<p>where <code class="docutils literal notranslate"><span class="pre">ref_scenario</span></code> is a <code class="docutils literal notranslate"><span class="pre">Scenario</span></code> object in <strong>analyze</strong> state.</p>
<p>The final step is to run the <code class="docutils literal notranslate"><span class="pre">create_scenario</span></code> method:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># review information</span>
<span class="n">scenario</span><span class="o">.</span><span class="n">print_scenario_info</span><span class="p">()</span>
<span class="c1"># create scenario</span>
<span class="n">scenario</span><span class="o">.</span><span class="n">create_scenario</span><span class="p">()</span>
<span class="c1"># print name of Scenario object state</span>
<span class="nb">print</span><span class="p">(</span><span class="n">scenario</span><span class="o">.</span><span class="n">state</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
<span class="c1"># print status of scenario</span>
<span class="n">scenario</span><span class="o">.</span><span class="n">print_scenario_status</span><span class="p">()</span>
</pre></div>
</div>
<p>Once the scenario is successfully created, a scenario id is printed on screen and the
state of the <cite>Scenario</cite> object is switched to <strong>execute</strong>. printed on screen.</p>
</section>
<section id="running-the-scenario-and-extracting-output-data">
<h2>Running the Scenario and Extracting Output Data<a class="headerlink" href="#running-the-scenario-and-extracting-output-data" title="Permalink to this heading">¶</a></h2>
<p>It is possible to execute the scenario immediately right after it has been created. One
can also create a new <cite>Scenario</cite> object. This is the option we follow here.</p>
<p>The <strong>execute</strong> state accomplishes the three following tasks:</p>
<ul class="simple">
<li><p>Prepare simulation inputs: the scaled profiles and the MAT-file enclosing all the
information related to the electrical grid</p></li>
<li><p>Launch the simulation</p></li>
<li><p>Extract output data - This operation is performed once the simulation has finished
running.</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">powersimdata</span> <span class="kn">import</span> <span class="n">Scenario</span>

<span class="n">scenario</span> <span class="o">=</span> <span class="n">Scenario</span><span class="p">(</span><span class="s2">&quot;dummy&quot;</span><span class="p">)</span>
<span class="c1"># print scenario information</span>
<span class="n">scenario</span><span class="o">.</span><span class="n">print_scenario_info</span><span class="p">()</span>

<span class="c1"># prepare simulation inputs</span>
<span class="n">scenario</span><span class="o">.</span><span class="n">prepare_simulation_input</span><span class="p">()</span>

<span class="c1"># launch simulation</span>
<span class="n">process_run</span> <span class="o">=</span> <span class="n">scenario</span><span class="o">.</span><span class="n">launch_simulation</span><span class="p">()</span>

<span class="c1"># Get simulation status</span>
<span class="n">scenario</span><span class="o">.</span><span class="n">print_scenario_status</span><span class="p">()</span>
</pre></div>
</div>
<p>Note that the status of the simulation can be accessed using the
<code class="docutils literal notranslate"><span class="pre">print_scenario_status</span></code> method.</p>
<p>As an optional parameter, the number of threads used to run the simulation can be
specified using for example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">process_run</span> <span class="o">=</span> <span class="n">scenario</span><span class="o">.</span><span class="n">launch_simulation</span><span class="p">(</span><span class="n">threads</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>
</pre></div>
</div>
<p>Extracting data from the simulation engine outputs can be a memory intensive process. If
there are resource constraints where the engine resides, it is possible to pause the
data from being extracted using an optional parameter and then manually extracting the
data at a suitable time:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">process_run</span> <span class="o">=</span> <span class="n">scenario</span><span class="o">.</span><span class="n">launch_simulation</span><span class="p">(</span><span class="n">extract_data</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="c1"># Extract data</span>
<span class="n">process_extract</span> <span class="o">=</span> <span class="n">scenario</span><span class="o">.</span><span class="n">extract_simulation_output</span><span class="p">()</span>
</pre></div>
</div>
<p>Note that you will need to create a new <code class="docutils literal notranslate"><span class="pre">Scenario</span></code> object via the scenario id/name to
access the output data.</p>
</section>
<section id="retrieving-scenario-output-data">
<h2>Retrieving Scenario Output Data<a class="headerlink" href="#retrieving-scenario-output-data" title="Permalink to this heading">¶</a></h2>
<p>When the <code class="docutils literal notranslate"><span class="pre">Scenario</span></code> object is in the <strong>analyze</strong> state, the user can access various
scenario information and data. The following code snippet lists the methods implemented
to do so:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">powersimdata</span> <span class="kn">import</span> <span class="n">Scenario</span>

<span class="n">scenario</span> <span class="o">=</span> <span class="n">Scenario</span><span class="p">(</span><span class="mi">600</span><span class="p">)</span>
<span class="c1"># print name of Scenario object state</span>
<span class="nb">print</span><span class="p">(</span><span class="n">scenario</span><span class="o">.</span><span class="n">state</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>

<span class="c1"># print scenario information</span>
<span class="n">scenario</span><span class="o">.</span><span class="n">print_scenario_info</span><span class="p">()</span>

<span class="c1"># get change table</span>
<span class="n">ct</span> <span class="o">=</span> <span class="n">scenario</span><span class="o">.</span><span class="n">get_ct</span><span class="p">()</span>
<span class="c1"># get grid</span>
<span class="n">grid</span> <span class="o">=</span> <span class="n">scenario</span><span class="o">.</span><span class="n">get_grid</span><span class="p">()</span>

<span class="c1"># get demand profile</span>
<span class="n">demand</span> <span class="o">=</span> <span class="n">scenario</span><span class="o">.</span><span class="n">get_demand</span><span class="p">()</span>
<span class="c1"># get hydro profile</span>
<span class="n">hydro</span> <span class="o">=</span> <span class="n">scenario</span><span class="o">.</span><span class="n">get_hydro</span><span class="p">()</span>
<span class="c1"># get solar profile</span>
<span class="n">solar</span> <span class="o">=</span> <span class="n">scenario</span><span class="o">.</span><span class="n">get_solar</span><span class="p">()</span>
<span class="c1"># get wind profile</span>
<span class="n">wind</span> <span class="o">=</span> <span class="n">scenario</span><span class="o">.</span><span class="n">get_wind</span><span class="p">()</span>

<span class="c1"># get generation profile for generators</span>
<span class="n">pg</span> <span class="o">=</span> <span class="n">scenario</span><span class="o">.</span><span class="n">get_pg</span><span class="p">()</span>
<span class="c1"># get generation profile for storage units (if present in scenario)</span>
<span class="n">pg_storage</span> <span class="o">=</span> <span class="n">scenario</span><span class="o">.</span><span class="n">get_storage_pg</span><span class="p">()</span>
<span class="c1"># get energy state of charge of storage units (if present in scenario)</span>
<span class="n">e_storage</span> <span class="o">=</span> <span class="n">scenario</span><span class="o">.</span><span class="n">get_storage_e</span><span class="p">()</span>
<span class="c1"># get power flow profile for AC lines</span>
<span class="n">pf_ac</span> <span class="o">=</span> <span class="n">scenario</span><span class="o">.</span><span class="n">get_pf</span><span class="p">()</span>
<span class="c1"># get power flow profile for DC lines</span>
<span class="n">pf_dc</span> <span class="o">=</span> <span class="n">scenario</span><span class="o">.</span><span class="n">get_dcline_pf</span><span class="p">()</span>
<span class="c1"># get locational marginal price profile for each bus</span>
<span class="n">lmp</span> <span class="o">=</span> <span class="n">scenario</span><span class="o">.</span><span class="n">get_lmp</span><span class="p">()</span>
<span class="c1"># get congestion (upper power flow limit) profile for AC lines</span>
<span class="n">congu</span> <span class="o">=</span> <span class="n">scenario</span><span class="o">.</span><span class="n">get_congu</span><span class="p">()</span>
<span class="c1"># get congestion (lower power flow limit) profile for AC lines</span>
<span class="n">congl</span> <span class="o">=</span> <span class="n">scenario</span><span class="o">.</span><span class="n">get_congl</span><span class="p">()</span>
<span class="c1"># get time averaged congestion (lower and power flow limits) for AC lines</span>
<span class="n">avg_cong</span> <span class="o">=</span> <span class="n">scenario</span><span class="o">.</span><span class="n">get_averaged_cong</span><span class="p">()</span>
<span class="c1"># get load shed profile for each load bus</span>
<span class="n">load_shed</span> <span class="o">=</span> <span class="n">scenario</span><span class="o">.</span><span class="n">get_load_shed</span><span class="p">()</span>
</pre></div>
</div>
<p>If generators or AC/DC lines have been scaled or added to the grid, and/or if the demand
in one or multiple load zones has been scaled for this scenario then the change table
will enclose these changes and the retrieved grid and profiles will be modified
accordingly. Note that the analysis of the scenario using the output data is done in the
<a class="reference external" href="https://github.com/Breakthrough-Energy/PostREISE">PostREISE</a> package.</p>
</section>
<section id="deleting-a-scenario">
<h2>Deleting a Scenario<a class="headerlink" href="#deleting-a-scenario" title="Permalink to this heading">¶</a></h2>
<p>A scenario can be deleted. All the input and output files as well as any entries in
monitoring files will be removed. The <strong>delete</strong> state is only accessible from the
<strong>analyze</strong> state.</p>
</section>
<section id="moving-a-scenario-to-backup-disk">
<h2>Moving a Scenario to Backup disk<a class="headerlink" href="#moving-a-scenario-to-backup-disk" title="Permalink to this heading">¶</a></h2>
<p>A scenario can be move to a backup disk. The <strong>move</strong> state is only accessible from the <strong>analyze</strong> state. The functionality is illustrated below:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">powersimdata</span> <span class="kn">import</span> <span class="n">Scenario</span>
<span class="kn">from</span> <span class="nn">powersimdata.scenario.move</span> <span class="kn">import</span> <span class="n">Move</span>

<span class="n">scenario</span> <span class="o">=</span> <span class="n">Scenario</span><span class="p">(</span><span class="s2">&quot;dummy&quot;</span><span class="p">)</span>
<span class="c1"># print name of Scenario object state</span>
<span class="nb">print</span><span class="p">(</span><span class="n">scenario</span><span class="o">.</span><span class="n">state</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
<span class="c1"># print list of accessible states</span>
<span class="nb">print</span><span class="p">(</span><span class="n">scenario</span><span class="o">.</span><span class="n">state</span><span class="o">.</span><span class="n">allowed</span><span class="p">)</span>

<span class="c1"># switch state</span>
<span class="n">scenario</span><span class="o">.</span><span class="n">change</span><span class="p">(</span><span class="n">Move</span><span class="p">)</span>
<span class="c1"># print name of Scenario object state</span>
<span class="nb">print</span><span class="p">(</span><span class="n">scenario</span><span class="o">.</span><span class="n">state</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>

<span class="c1"># move scenario</span>
<span class="n">scenario</span><span class="o">.</span><span class="n">move_scenario</span><span class="p">()</span>
</pre></div>
</div>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<p class="logo">
  <a href="../index.html">
    <img class="logo" src="../_static/img/BE_Sciences_RGB_Horizontal_Color.svg" alt="Logo"/>
    
  </a>
</p>



<p class="blurb">Modeling a clean energy future for the United States</p>




<p>
<iframe src="https://ghbtns.com/github-btn.html?user=Breakthrough-Energy&repo=docs&type=watch&count=true&size=large&v=2"
  allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
</p>





<h3>Navigation</h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../user/installation_guide.html">1. Installation Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../communication/code_of_conduct.html">2. Code of Conduct</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev/contribution_guide.html">3. Contribution Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user/git_guide.html">4. Working with Git/GitHub</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html">5. PowerSimData</a></li>
<li class="toctree-l1"><a class="reference internal" href="../prereise/index.html">6. PreREISE</a></li>
<li class="toctree-l1"><a class="reference internal" href="../postreise/index.html">7. PostREISE</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reisejl/index.html">8. REISE.jl</a></li>
</ul>

<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  </ul></li>
</ul><h3>Useful Links</h3>
<ul>
  <li><a href="https://www.breakthroughenergy.org/">Breakthrough Energy</a></li>
  <li><a href="https://science.breakthroughenergy.org/">Breakthrough Energy Sciences</a></li>
  <li><a href="https://arxiv.org/abs/2002.06155">publication</a></li>
  <li><a href="https://zenodo.org/record/3530898">data @ zenodo</a></li>
</ul>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script><ul>
<h3>Code</h3>
<a href="../py-modindex.html">Module Index</a>
</ul>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2021, Breakthrough Energy Foundation.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 5.3.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../_sources/powersimdata/scenario.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>