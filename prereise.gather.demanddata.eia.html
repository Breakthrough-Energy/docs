
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17: http://docutils.sourceforge.net/" />

    <title>prereise.gather.demanddata.eia package &#8212; documentation</title>
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <link rel="shortcut icon" href="_static/favicon.svg"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="prereise-gather-demanddata-eia-package">
<h1>prereise.gather.demanddata.eia package<a class="headerlink" href="#prereise-gather-demanddata-eia-package" title="Permalink to this headline">¶</a></h1>
<section id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="prereise.gather.demanddata.eia.tests.html">prereise.gather.demanddata.eia.tests package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="prereise.gather.demanddata.eia.tests.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="prereise.gather.demanddata.eia.tests.html#module-prereise.gather.demanddata.eia.tests.test_clean_data">prereise.gather.demanddata.eia.tests.test_clean_data module</a></li>
<li class="toctree-l2"><a class="reference internal" href="prereise.gather.demanddata.eia.tests.html#module-prereise.gather.demanddata.eia.tests.test_get_eia_data">prereise.gather.demanddata.eia.tests.test_get_eia_data module</a></li>
<li class="toctree-l2"><a class="reference internal" href="prereise.gather.demanddata.eia.tests.html#module-prereise.gather.demanddata.eia.tests.test_map_ba">prereise.gather.demanddata.eia.tests.test_map_ba module</a></li>
<li class="toctree-l2"><a class="reference internal" href="prereise.gather.demanddata.eia.tests.html#module-prereise.gather.demanddata.eia.tests">Module contents</a></li>
</ul>
</li>
</ul>
</div>
</section>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</section>
<section id="module-prereise.gather.demanddata.eia.clean_data">
<span id="prereise-gather-demanddata-eia-clean-data-module"></span><h2>prereise.gather.demanddata.eia.clean_data module<a class="headerlink" href="#module-prereise.gather.demanddata.eia.clean_data" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="prereise.gather.demanddata.eia.clean_data.fill_ba_demand">
<code class="sig-prename descclassname"><span class="pre">prereise.gather.demanddata.eia.clean_data.</span></code><code class="sig-name descname"><span class="pre">fill_ba_demand</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df_ba</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ba_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">day_map</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/prereise/gather/demanddata/eia/clean_data.html#fill_ba_demand"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#prereise.gather.demanddata.eia.clean_data.fill_ba_demand" title="Permalink to this definition">¶</a></dt>
<dd><p>Replace missing data in BA demand and returns result.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df_ba</strong> (<em>pandas.DataFrame</em>) – data frame for BA demand, shifted demand, and day
of the week</p></li>
<li><p><strong>ba_name</strong> (<em>str</em>) – name of the BA in data frame.</p></li>
<li><p><strong>day_map</strong> (<em>dict</em>) – mapping for replacing missing demand data with shifted demand.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>(<em>pandas.Series</em>) –  series of BA demand filled in</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="prereise.gather.demanddata.eia.clean_data.fix_dataframe_outliers">
<code class="sig-prename descclassname"><span class="pre">prereise.gather.demanddata.eia.clean_data.</span></code><code class="sig-name descname"><span class="pre">fix_dataframe_outliers</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">demand</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/prereise/gather/demanddata/eia/clean_data.html#fix_dataframe_outliers"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#prereise.gather.demanddata.eia.clean_data.fix_dataframe_outliers" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a data frame of demand with outliers replaced with values interpolated
from the non-outlier edge points using <a class="reference internal" href="#prereise.gather.demanddata.eia.clean_data.slope_interpolate" title="prereise.gather.demanddata.eia.clean_data.slope_interpolate"><code class="xref py py-func docutils literal notranslate"><span class="pre">slope_interpolate()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>demand</strong> (<em>pandas.Dataframe</em>) – demand data frame with UTC timestamp as indicss
and BA name as column name.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>(<em>pandas.DataFrame</em>) – data frame with anomalous demand values replaced
by interpolated values.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="prereise.gather.demanddata.eia.clean_data.replace_with_shifted_demand">
<code class="sig-prename descclassname"><span class="pre">prereise.gather.demanddata.eia.clean_data.</span></code><code class="sig-name descname"><span class="pre">replace_with_shifted_demand</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">demand</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/prereise/gather/demanddata/eia/clean_data.html#replace_with_shifted_demand"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#prereise.gather.demanddata.eia.clean_data.replace_with_shifted_demand" title="Permalink to this definition">¶</a></dt>
<dd><p>Replace missing data within overall demand data frame with averages of nearby
shifted demand.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>demand</strong> (<em>pandas.DataFrame</em>) – data frame with hourly demand where the columns are
BA regions.</p></li>
<li><p><strong>start</strong> (<em>pandas.Timestamp/numpy.datetime64/datetime.datetime</em>) – start of period
of interest.</p></li>
<li><p><strong>end</strong> (<em>pandas.Timestamp/numpy.datetime64/datetime.datetime</em>) – end of period
of interest.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>(<em>pandas.DataFrame</em>) – data frame with missing demand data filled in.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="prereise.gather.demanddata.eia.clean_data.slope_interpolate">
<code class="sig-prename descclassname"><span class="pre">prereise.gather.demanddata.eia.clean_data.</span></code><code class="sig-name descname"><span class="pre">slope_interpolate</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ba_df</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/prereise/gather/demanddata/eia/clean_data.html#slope_interpolate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#prereise.gather.demanddata.eia.clean_data.slope_interpolate" title="Permalink to this definition">¶</a></dt>
<dd><p>Look for demand outliers by applying a z-score threshold to the demand slope.
Loop through all the outliers detected, determine the non-outlier edge points and
then interpolate a line joining these 2 edge points. The line value at the
timestamp of the the outlier event is used to replace the anomalous value.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>ba_df</strong> (<em>pandas.DataFrame</em>) – demand data frame with UTC timestamp as indices and
BA name as column name.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>(<em>pandas.DataFrame</em>) – data frame indexed with anomalous demand values
replaced by interpolated values.</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>It is implicitly assumed that:</p>
<p>1. demand is correlated with temperature, and temperature rise is limited by
heat capacity which is finite and generally uniform across region; hence,
temperature dependent derivative spikes are unphysical.</p>
<p>2. there is indeed nothing anomalous that happened to electrical usage in the
relevant time range, so using a line to estimate the correct value is
reasonable.</p>
</div>
<div class="admonition-todo admonition" id="id1">
<p class="admonition-title">Todo</p>
<p>If there are more than a few hours (say &gt; 4) of anomalous behavior, linear
interpolation may give a bad estimate. Non-linear interpolation methods
should be considered, and other information may be needed to interpolate
properly, for example, the temperature data or other relevant profiles.</p>
</div>
</dd></dl>

</section>
<section id="module-prereise.gather.demanddata.eia.get_eia_data">
<span id="prereise-gather-demanddata-eia-get-eia-data-module"></span><h2>prereise.gather.demanddata.eia.get_eia_data module<a class="headerlink" href="#module-prereise.gather.demanddata.eia.get_eia_data" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="prereise.gather.demanddata.eia.get_eia_data.EIAgov">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">prereise.gather.demanddata.eia.get_eia_data.</span></code><code class="sig-name descname"><span class="pre">EIAgov</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">token</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">series</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/prereise/gather/demanddata/eia/get_eia_data.html#EIAgov"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#prereise.gather.demanddata.eia.get_eia_data.EIAgov" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Copied from <a class="reference external" href="https://quantcorner.wordpress.com/2014/11/18/downloading-eias-data-with-python/">this link</a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>token</strong> (<em>str</em>) – EIA token.</p></li>
<li><p><strong>series</strong> (<em>list</em>) – id code(s) of the series to be downloaded.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="prereise.gather.demanddata.eia.get_eia_data.EIAgov.get_data">
<code class="sig-name descname"><span class="pre">get_data</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/prereise/gather/demanddata/eia/get_eia_data.html#EIAgov.get_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#prereise.gather.demanddata.eia.get_eia_data.EIAgov.get_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert json files into data frame.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>(<em>pandas.DataFrame</em>) – data frame.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="prereise.gather.demanddata.eia.get_eia_data.EIAgov.raw">
<code class="sig-name descname"><span class="pre">raw</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ser</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/prereise/gather/demanddata/eia/get_eia_data.html#EIAgov.raw"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#prereise.gather.demanddata.eia.get_eia_data.EIAgov.raw" title="Permalink to this definition">¶</a></dt>
<dd><p>Download json files from EIA.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>ser</strong> (<em>str</em>) – list of file names.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>keyError</strong> – when URL or file are either not found or not valid.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="prereise.gather.demanddata.eia.get_eia_data.from_download">
<code class="sig-prename descclassname"><span class="pre">prereise.gather.demanddata.eia.get_eia_data.</span></code><code class="sig-name descname"><span class="pre">from_download</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tok</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_date</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_date</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">offset_days</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">series_list</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/prereise/gather/demanddata/eia/get_eia_data.html#from_download"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#prereise.gather.demanddata.eia.get_eia_data.from_download" title="Permalink to this definition">¶</a></dt>
<dd><p>Download and assemble dataset of demand data per balancing authority for desired
date range.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tok</strong> (<em>str</em>) – token obtained by registering with EIA.</p></li>
<li><p><strong>start_date</strong> (<em>pandas.Timestamp/numpy.datetime64/datetime.datetime</em>) – start date.</p></li>
<li><p><strong>end_date</strong> (<em>pandas.Timestamp/numpy.datetime64/datetime.datetime</em>) – end data.</p></li>
<li><p><strong>series_list</strong> (<em>list</em>) – list of demand series names provided by EIA, e.g.,
[‘EBA.AVA-ALL.D.H’, ‘EBA.AZPS-ALL.D.H’].</p></li>
<li><p><strong>offset_days</strong> (<em>int</em>) – number of business days for data to stabilize.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>(<em>pandas.DataFrame</em>) – data frame with UTC timestamp as indices and
BA series name as column names.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="prereise.gather.demanddata.eia.get_eia_data.from_excel">
<code class="sig-prename descclassname"><span class="pre">prereise.gather.demanddata.eia.get_eia_data.</span></code><code class="sig-name descname"><span class="pre">from_excel</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">directory</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">series_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_date</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_date</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/prereise/gather/demanddata/eia/get_eia_data.html#from_excel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#prereise.gather.demanddata.eia.get_eia_data.from_excel" title="Permalink to this definition">¶</a></dt>
<dd><p>Assemble EIA balancing authority (BA) data from pre-downloaded Excel
spreadsheets. The spreadsheets contain data from July 2015 to present.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>directory</strong> (<em>str</em>) – location of Excel files.</p></li>
<li><p><strong>series_list</strong> (<em>list</em>) – list of BA initials, e.g., [‘PSE’,BPAT’,’CISO’].</p></li>
<li><p><strong>start_date</strong> (<em>datetime.datetime</em>) – desired start of dataset.</p></li>
<li><p><strong>end_date</strong> (<em>datetime.datetime</em>) – desired end of dataset.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>(<em>pandas.DataFrame</em>) – data frame with UTC timestamp as indices and
BA series name as column names.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="prereise.gather.demanddata.eia.get_eia_data.get_ba_demand">
<code class="sig-prename descclassname"><span class="pre">prereise.gather.demanddata.eia.get_eia_data.</span></code><code class="sig-name descname"><span class="pre">get_ba_demand</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ba_code_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_date</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_date</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">api_key</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/prereise/gather/demanddata/eia/get_eia_data.html#get_ba_demand"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#prereise.gather.demanddata.eia.get_eia_data.get_ba_demand" title="Permalink to this definition">¶</a></dt>
<dd><p>Download the demand between two dates for a list of balancing authorities.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ba_code_list</strong> (<em>pandas.DataFrame</em>) – List of BAs to download from eia.</p></li>
<li><p><strong>start_date</strong> (<em>pandas.Timestamp/numpy.datetime64/datetime.datetime</em>) – beginning
bound for the demand data frame.</p></li>
<li><p><strong>end_date</strong> (<em>pandas.Timestamp/numpy.datetime64/datetime.datetime</em>) – end bound for
the demand data frame.</p></li>
<li><p><strong>api_key</strong> (<em>string</em>) – api key to fetch data.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>(<em>pandas.DataFrame</em>) – data frame with columns of demand by BA.</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-prereise.gather.demanddata.eia.map_ba">
<span id="prereise-gather-demanddata-eia-map-ba-module"></span><h2>prereise.gather.demanddata.eia.map_ba module<a class="headerlink" href="#module-prereise.gather.demanddata.eia.map_ba" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="prereise.gather.demanddata.eia.map_ba.aggregate_ba_demand">
<code class="sig-prename descclassname"><span class="pre">prereise.gather.demanddata.eia.map_ba.</span></code><code class="sig-name descname"><span class="pre">aggregate_ba_demand</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">demand</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mapping</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/prereise/gather/demanddata/eia/map_ba.html#aggregate_ba_demand"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#prereise.gather.demanddata.eia.map_ba.aggregate_ba_demand" title="Permalink to this definition">¶</a></dt>
<dd><p>Aggregate demand in BAs to regions as defined in the mapping dictionary</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>demand</strong> (<em>pandas.DataFrame</em>) – demand profiles in BAs.</p></li>
<li><p><strong>mapping</strong> (<em>dict</em>) – dictionary mapping of BA columns to regions.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>(<em>pandas.DataFrame</em>) – aggregated demand profiles</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="prereise.gather.demanddata.eia.map_ba.get_demand_in_loadzone">
<code class="sig-prename descclassname"><span class="pre">prereise.gather.demanddata.eia.map_ba.</span></code><code class="sig-name descname"><span class="pre">get_demand_in_loadzone</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">agg_demand</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bus_map</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/prereise/gather/demanddata/eia/map_ba.html#get_demand_in_loadzone"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#prereise.gather.demanddata.eia.map_ba.get_demand_in_loadzone" title="Permalink to this definition">¶</a></dt>
<dd><p>Get demand in loadzones from aggregated demand of BA regions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>agg_demand</strong> (<em>pandas.DataFrame</em>) – demand profiles as returned by
<a class="reference internal" href="#prereise.gather.demanddata.eia.map_ba.aggregate_ba_demand" title="prereise.gather.demanddata.eia.map_ba.aggregate_ba_demand"><code class="xref py py-func docutils literal notranslate"><span class="pre">aggregate_ba_demand()</span></code></a></p></li>
<li><p><strong>bus_map</strong> (<em>pandas.DataFrame</em>) – data frame used to map BA regions to
load zones using real power demand weighting.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>(<em>pandas.DataFrame</em>) – data frame with demand columns according
to load zone.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="prereise.gather.demanddata.eia.map_ba.map_buses_to_county">
<code class="sig-prename descclassname"><span class="pre">prereise.gather.demanddata.eia.map_ba.</span></code><code class="sig-name descname"><span class="pre">map_buses_to_county</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bus_county_map</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/prereise/gather/demanddata/eia/map_ba.html#map_buses_to_county"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#prereise.gather.demanddata.eia.map_ba.map_buses_to_county" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the county in the U.S. territory that each bus in the query grid
belongs to.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>bus_county_map</strong> (<em>pandas.DataFrame</em>) – data frame contains a list of
entries with lat and long.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>(<em>tuple</em>) – first element is a data frame of counties that buses
locate. Second element is a list of bus indices that no county matches.</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-prereise.gather.demanddata.eia">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-prereise.gather.demanddata.eia" title="Permalink to this headline">¶</a></h2>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<p class="logo">
  <a href="index.html">
    <img class="logo" src="_static/img/BE_Sciences_RGB_Horizontal_Color.svg" alt="Logo"/>
    
  </a>
</p>



<p class="blurb">Modeling a clean energy future for the United States</p>




<p>
<iframe src="https://ghbtns.com/github-btn.html?user=Breakthrough-Energy&repo=docs&type=watch&count=true&size=large&v=2"
  allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
</p>





<h3>Navigation</h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="user/installation_guide.html">Installation Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="communication/code_of_conduct.html">Code of Conduct</a></li>
<li class="toctree-l1"><a class="reference internal" href="dev/contribution_guide.html">Contribution Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="user/git_guide.html">Working with Git</a></li>
<li class="toctree-l1"><a class="reference internal" href="powersimdata/index.html">PowerSimData</a></li>
<li class="toctree-l1"><a class="reference internal" href="prereise_package.html">PreREISE</a></li>
<li class="toctree-l1"><a class="reference internal" href="postreise_package.html">PostREISE</a></li>
<li class="toctree-l1"><a class="reference internal" href="reisejl_package.html">REISE.jl</a></li>
</ul>

<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
  </ul></li>
</ul><h3>Useful Links</h3>
<ul>
  <li><a href="https://www.breakthroughenergy.org/">Breakthrough Energy</a></li>
  <li><a href="https://science.breakthroughenergy.org/">Breakthrough Energy Sciences</a></li>
  <li><a href="https://arxiv.org/abs/2002.06155">publication</a></li>
  <li><a href="https://zenodo.org/record/3530898">data @ zenodo</a></li>
</ul>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script><ul>
<h3>Code</h3>
<a href="py-modindex.html">Module Index</a>
</ul>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2021, Breakthrough Energy Foundation.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 3.5.3</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/prereise.gather.demanddata.eia.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>