
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>prereise.gather.demanddata.transportation_electrification package &#8212; documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/sphinx_highlight.js"></script>
    <script src="https://unpkg.com/mermaid@9.4.0/dist/mermaid.min.js"></script>
    <script>mermaid.initialize({startOnLoad:true});</script>
    <link rel="icon" href="_static/favicon.svg"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="prereise-gather-demanddata-transportation-electrification-package">
<h1>prereise.gather.demanddata.transportation_electrification package<a class="headerlink" href="#prereise-gather-demanddata-transportation-electrification-package" title="Permalink to this heading">¶</a></h1>
<section id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Permalink to this heading">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="prereise.gather.demanddata.transportation_electrification.data.html">prereise.gather.demanddata.transportation_electrification.data package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="prereise.gather.demanddata.transportation_electrification.data.html#module-prereise.gather.demanddata.transportation_electrification.data">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="prereise.gather.demanddata.transportation_electrification.tests.html">prereise.gather.demanddata.transportation_electrification.tests package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="prereise.gather.demanddata.transportation_electrification.tests.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="prereise.gather.demanddata.transportation_electrification.tests.html#module-prereise.gather.demanddata.transportation_electrification.tests.test_dwelling">prereise.gather.demanddata.transportation_electrification.tests.test_dwelling module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="prereise.gather.demanddata.transportation_electrification.tests.html#prereise.gather.demanddata.transportation_electrification.tests.test_dwelling.test_energy_limit"><code class="docutils literal notranslate"><span class="pre">test_energy_limit()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="prereise.gather.demanddata.transportation_electrification.tests.html#prereise.gather.demanddata.transportation_electrification.tests.test_dwelling.test_get_segment"><code class="docutils literal notranslate"><span class="pre">test_get_segment()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="prereise.gather.demanddata.transportation_electrification.tests.html#module-prereise.gather.demanddata.transportation_electrification.tests.test_generate_BEV_vehicle_profiles">prereise.gather.demanddata.transportation_electrification.tests.test_generate_BEV_vehicle_profiles module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="prereise.gather.demanddata.transportation_electrification.tests.html#prereise.gather.demanddata.transportation_electrification.tests.test_generate_BEV_vehicle_profiles.test_ldv_immediate_runs"><code class="docutils literal notranslate"><span class="pre">test_ldv_immediate_runs()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="prereise.gather.demanddata.transportation_electrification.tests.html#module-prereise.gather.demanddata.transportation_electrification.tests.test_immediate">prereise.gather.demanddata.transportation_electrification.tests.test_immediate module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="prereise.gather.demanddata.transportation_electrification.tests.html#prereise.gather.demanddata.transportation_electrification.tests.test_immediate.test_apply_annual_scaling"><code class="docutils literal notranslate"><span class="pre">test_apply_annual_scaling()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="prereise.gather.demanddata.transportation_electrification.tests.html#prereise.gather.demanddata.transportation_electrification.tests.test_immediate.test_apply_daily_adjustments"><code class="docutils literal notranslate"><span class="pre">test_apply_daily_adjustments()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="prereise.gather.demanddata.transportation_electrification.tests.html#module-prereise.gather.demanddata.transportation_electrification.tests.test_immediate_charging_integration">prereise.gather.demanddata.transportation_electrification.tests.test_immediate_charging_integration module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="prereise.gather.demanddata.transportation_electrification.tests.html#prereise.gather.demanddata.transportation_electrification.tests.test_immediate_charging_integration.test_immediate_charging_hdv"><code class="docutils literal notranslate"><span class="pre">test_immediate_charging_hdv()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="prereise.gather.demanddata.transportation_electrification.tests.html#prereise.gather.demanddata.transportation_electrification.tests.test_immediate_charging_integration.test_immediate_charging_hdv_1day"><code class="docutils literal notranslate"><span class="pre">test_immediate_charging_hdv_1day()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="prereise.gather.demanddata.transportation_electrification.tests.html#prereise.gather.demanddata.transportation_electrification.tests.test_immediate_charging_integration.test_immediate_charging_ldv_2days"><code class="docutils literal notranslate"><span class="pre">test_immediate_charging_ldv_2days()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="prereise.gather.demanddata.transportation_electrification.tests.html#prereise.gather.demanddata.transportation_electrification.tests.test_immediate_charging_integration.test_immediate_charging_mdv"><code class="docutils literal notranslate"><span class="pre">test_immediate_charging_mdv()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="prereise.gather.demanddata.transportation_electrification.tests.html#prereise.gather.demanddata.transportation_electrification.tests.test_immediate_charging_integration.test_immediate_charging_mdv_1day"><code class="docutils literal notranslate"><span class="pre">test_immediate_charging_mdv_1day()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="prereise.gather.demanddata.transportation_electrification.tests.html#prereise.gather.demanddata.transportation_electrification.tests.test_immediate_charging_integration.test_immediate_charging_region1"><code class="docutils literal notranslate"><span class="pre">test_immediate_charging_region1()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="prereise.gather.demanddata.transportation_electrification.tests.html#module-prereise.gather.demanddata.transportation_electrification.tests.test_smart_charging_integration">prereise.gather.demanddata.transportation_electrification.tests.test_smart_charging_integration module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="prereise.gather.demanddata.transportation_electrification.tests.html#prereise.gather.demanddata.transportation_electrification.tests.test_smart_charging_integration.test_smart_charging_hdv_2days"><code class="docutils literal notranslate"><span class="pre">test_smart_charging_hdv_2days()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="prereise.gather.demanddata.transportation_electrification.tests.html#prereise.gather.demanddata.transportation_electrification.tests.test_smart_charging_integration.test_smart_charging_ldv_2days"><code class="docutils literal notranslate"><span class="pre">test_smart_charging_ldv_2days()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="prereise.gather.demanddata.transportation_electrification.tests.html#prereise.gather.demanddata.transportation_electrification.tests.test_smart_charging_integration.test_smart_charging_mdv_2days"><code class="docutils literal notranslate"><span class="pre">test_smart_charging_mdv_2days()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="prereise.gather.demanddata.transportation_electrification.tests.html#module-prereise.gather.demanddata.transportation_electrification.tests">Module contents</a></li>
</ul>
</li>
</ul>
</div>
</section>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this heading">¶</a></h2>
</section>
<section id="module-prereise.gather.demanddata.transportation_electrification.charging_optimization">
<span id="prereise-gather-demanddata-transportation-electrification-charging-optimization-module"></span><h2>prereise.gather.demanddata.transportation_electrification.charging_optimization module<a class="headerlink" href="#module-prereise.gather.demanddata.transportation_electrification.charging_optimization" title="Permalink to this heading">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="prereise.gather.demanddata.transportation_electrification.charging_optimization.calculate_optimization">
<span class="sig-prename descclassname"><span class="pre">prereise.gather.demanddata.transportation_electrification.charging_optimization.</span></span><span class="sig-name descname"><span class="pre">calculate_optimization</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">charging_consumption</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rates</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">elimit</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">total_trips</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwh</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">charging_efficiency</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/prereise/gather/demanddata/transportation_electrification/charging_optimization.html#calculate_optimization"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#prereise.gather.demanddata.transportation_electrification.charging_optimization.calculate_optimization" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the minimized charging cost during a specific dwelling activity</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>charging_consumption</strong> (<em>list</em>) – the charging consumption for each trip</p></li>
<li><p><strong>rates</strong> (<em>list</em>) – rates to be used for the cost function</p></li>
<li><p><strong>elimit</strong> (<em>list</em>) – energy limits during the time span of available charging</p></li>
<li><p><strong>seg</strong> (<em>list</em>) – the amount of the segments in the dwelling activity</p></li>
<li><p><strong>total_trips</strong> (<em>int</em>) – total number of trips for the current vehicle</p></li>
<li><p><strong>kwh</strong> (<em>float</em>) – kwhmi * veh_range, amount of energy needed to charge vehicle.</p></li>
<li><p><strong>charging_efficiency</strong> (<em>float</em>) – from grid to battery efficiency.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>(<em>dict</em>) – contains the necessary inputs for the linprog optimization</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="prereise.gather.demanddata.transportation_electrification.charging_optimization.get_constraints">
<span class="sig-prename descclassname"><span class="pre">prereise.gather.demanddata.transportation_electrification.charging_optimization.</span></span><span class="sig-name descname"><span class="pre">get_constraints</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">constraints_df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwhmi</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">power</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trip_strategy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">location_strategy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">location_allowed</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">charging_efficiency</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/prereise/gather/demanddata/transportation_electrification/charging_optimization.html#get_constraints"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#prereise.gather.demanddata.transportation_electrification.charging_optimization.get_constraints" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine the consumption and charging constraints for each trip (hour segment)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>constraints_df</strong> (<em>pandas.DataFrame</em>) – trip data of vehicles for optimization constraints</p></li>
<li><p><strong>kwhmi</strong> (<em>int</em>) – fuel efficiency, should vary based on vehicle type and model_year.</p></li>
<li><p><strong>power</strong> (<em>float</em>) – charger power, EVSE kW.</p></li>
<li><p><strong>trip_strategy</strong> (<em>int</em>) – a toggle that determines if should charge on any trip or
only after last trip (1-anytrip number, 2-last trip)</p></li>
<li><p><strong>location_strategy</strong> (<em>int</em>) – where the vehicle can charge-1, 2, 3, 4, 5, or 6;
1-home only, 2-home and work related, 3-anywhere if possibile,
4-home and school only, 5-home and work and school, 6-only work</p></li>
<li><p><strong>location_allowed</strong> (<em>dict</em>) – starting locations allowed in the dataset</p></li>
<li><p><strong>charging_efficiency</strong> (<em>float</em>) – from grid to battery efficiency.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>(<em>pandas.DataFrame</em>) – a DataFrame adding the calculated constraints
to an individual vehicle’s data</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-prereise.gather.demanddata.transportation_electrification.const">
<span id="prereise-gather-demanddata-transportation-electrification-const-module"></span><h2>prereise.gather.demanddata.transportation_electrification.const module<a class="headerlink" href="#module-prereise.gather.demanddata.transportation_electrification.const" title="Permalink to this heading">¶</a></h2>
</section>
<section id="module-prereise.gather.demanddata.transportation_electrification.data_helper">
<span id="prereise-gather-demanddata-transportation-electrification-data-helper-module"></span><h2>prereise.gather.demanddata.transportation_electrification.data_helper module<a class="headerlink" href="#module-prereise.gather.demanddata.transportation_electrification.data_helper" title="Permalink to this heading">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="prereise.gather.demanddata.transportation_electrification.data_helper.generate_daily_weighting">
<span class="sig-prename descclassname"><span class="pre">prereise.gather.demanddata.transportation_electrification.data_helper.</span></span><span class="sig-name descname"><span class="pre">generate_daily_weighting</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">area_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'urban'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/prereise/gather/demanddata/transportation_electrification/data_helper.html#generate_daily_weighting"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#prereise.gather.demanddata.transportation_electrification.data_helper.generate_daily_weighting" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate daily weighting factors based on vehicle-miles-travelled distributions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>year</strong> (<em>int/str</em>) – year to generate weighting factors for.</p></li>
<li><p><strong>area_type</strong> (<em>str</em>) – Either ‘urban’ or ‘rural’.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>(<em>pandas.Series</em>) – index is the day of the year, values are the fraction
of the year’s vehicle miles travelled are estimated to occur in that day.</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ValueError</strong> – if <code class="docutils literal notranslate"><span class="pre">area_type</span></code> is neither ‘urban’ nor ‘rural’.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="prereise.gather.demanddata.transportation_electrification.data_helper.get_data_day">
<span class="sig-prename descclassname"><span class="pre">prereise.gather.demanddata.transportation_electrification.data_helper.</span></span><span class="sig-name descname"><span class="pre">get_data_day</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/prereise/gather/demanddata/transportation_electrification/data_helper.html#get_data_day"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#prereise.gather.demanddata.transportation_electrification.data_helper.get_data_day" title="Permalink to this definition">¶</a></dt>
<dd><p>Get weekday/weekend designation value from data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>data</strong> (<em>pandas.DataFrame</em>) – the data to get day of week from.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>(<em>numpy.array</em>) – indicates weekend or weekday for every day.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="prereise.gather.demanddata.transportation_electrification.data_helper.get_input_day">
<span class="sig-prename descclassname"><span class="pre">prereise.gather.demanddata.transportation_electrification.data_helper.</span></span><span class="sig-name descname"><span class="pre">get_input_day</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model_year_dti</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DatetimeIndex</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/prereise/gather/demanddata/transportation_electrification/data_helper.html#get_input_day"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#prereise.gather.demanddata.transportation_electrification.data_helper.get_input_day" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine whether each day of the model year is a weekend (1) or weekday (2)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>model_year_dti</strong> (<em>pandas.DatetimeIndex</em>) – a DatetimeIndex encompassing the
model year.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>(<em>numpy.ndarray</em>) – array of 1s and 2s indicating weekend/weekday
designations for the model year.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="prereise.gather.demanddata.transportation_electrification.data_helper.get_kwhmi">
<span class="sig-prename descclassname"><span class="pre">prereise.gather.demanddata.transportation_electrification.data_helper.</span></span><span class="sig-name descname"><span class="pre">get_kwhmi</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model_year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">veh_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">veh_range</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/prereise/gather/demanddata/transportation_electrification/data_helper.html#get_kwhmi"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#prereise.gather.demanddata.transportation_electrification.data_helper.get_kwhmi" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the fuel efficiency value based on the model year and vehicle type.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model_year</strong> (<em>int</em>) – year that is being modelled/projected to, 2017, 2030, 2040, 2050.</p></li>
<li><p><strong>veh_type</strong> (<em>str</em>) – determine which category (MDV, HDV, or Transit) to produce
a fuel efficiency value for.</p></li>
<li><p><strong>veh_range</strong> (<em>int</em>) – 100, 200, or 300, represents how far vehicle can travel on single charge.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>(<em>float</em>) – fuel efficiency value from the Fuel_efficiencies.csv</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ValueError</strong> – if <code class="docutils literal notranslate"><span class="pre">veh_range</span></code> is not 100, 200, or 300 and if <code class="docutils literal notranslate"><span class="pre">veh_type</span></code>
is not ‘LDT’, ‘LDV’, ‘MDV’, ‘HDV’, or ‘Transit</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="prereise.gather.demanddata.transportation_electrification.data_helper.get_model_year_dti">
<span class="sig-prename descclassname"><span class="pre">prereise.gather.demanddata.transportation_electrification.data_helper.</span></span><span class="sig-name descname"><span class="pre">get_model_year_dti</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model_year</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/prereise/gather/demanddata/transportation_electrification/data_helper.html#get_model_year_dti"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#prereise.gather.demanddata.transportation_electrification.data_helper.get_model_year_dti" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a DatetimeIndex based on the input year of the model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>model_year</strong> (<em>int</em>) – the input year of the model</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>(<em>pandas.DatetimeIndex model_year_dti</em>) – a DatetimeIndex encompassing
the model year.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="prereise.gather.demanddata.transportation_electrification.data_helper.get_total_daily_vmt">
<span class="sig-prename descclassname"><span class="pre">prereise.gather.demanddata.transportation_electrification.data_helper.</span></span><span class="sig-name descname"><span class="pre">get_total_daily_vmt</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_day</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">veh_type</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/prereise/gather/demanddata/transportation_electrification/data_helper.html#get_total_daily_vmt"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#prereise.gather.demanddata.transportation_electrification.data_helper.get_total_daily_vmt" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the total VMT and total vehicles for for each day of the model year,
based on if the day is a weekend (1) or weekday (2).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>pandas.DataFrame</em>) – the data returned from <a class="reference internal" href="#prereise.gather.demanddata.transportation_electrification.data_helper.load_data" title="prereise.gather.demanddata.transportation_electrification.data_helper.load_data"><code class="xref py py-func docutils literal notranslate"><span class="pre">load_data()</span></code></a>.</p></li>
<li><p><strong>input_day</strong> (<em>numpy.ndarray</em>) – day of the week for each day in the year derived
from <a class="reference internal" href="#prereise.gather.demanddata.transportation_electrification.data_helper.get_input_day" title="prereise.gather.demanddata.transportation_electrification.data_helper.get_input_day"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_input_day()</span></code></a>.</p></li>
<li><p><strong>veh_type</strong> (<em>pandas.Series</em>) – vehicle class (LDV, LDT, MDV, HDV)</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – Vehicle class is not specified</p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>(<em>np.array</em>) – an array where each element is the daily VMT and total
vehicles for that day.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="prereise.gather.demanddata.transportation_electrification.data_helper.load_data">
<span class="sig-prename descclassname"><span class="pre">prereise.gather.demanddata.transportation_electrification.data_helper.</span></span><span class="sig-name descname"><span class="pre">load_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">census_region</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filepath</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'nhts_census_updated.mat'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/prereise/gather/demanddata/transportation_electrification/data_helper.html#load_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#prereise.gather.demanddata.transportation_electrification.data_helper.load_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Load the data at nhts_census.mat.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>census_region</strong> (<em>int</em>) – the census region to load data from.</p></li>
<li><p><strong>filepath</strong> (<em>str</em>) – the path to the matfile.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – if the census division is not between 1 and 9, inclusive.</p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>(<em>pandas.DataFrame</em>) – the data loaded from nths_census.mat, with column
names added.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="prereise.gather.demanddata.transportation_electrification.data_helper.load_hdv_data">
<span class="sig-prename descclassname"><span class="pre">prereise.gather.demanddata.transportation_electrification.data_helper.</span></span><span class="sig-name descname"><span class="pre">load_hdv_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">veh_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filepath</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/prereise/gather/demanddata/transportation_electrification/data_helper.html#load_hdv_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#prereise.gather.demanddata.transportation_electrification.data_helper.load_hdv_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Load the data at fdata_v10st.mat.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>veh_type</strong> (<em>str</em>) – vehicle type (“hhdv: and “mhdv”) category for trips</p></li>
<li><p><strong>filepath</strong> (<em>str</em>) – the path to the matfile.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>(<em>pandas.DataFrame</em>) – the data loaded from fdata_v10st.mat, with column
names added.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="prereise.gather.demanddata.transportation_electrification.data_helper.load_rural_scaling_factor">
<span class="sig-prename descclassname"><span class="pre">prereise.gather.demanddata.transportation_electrification.data_helper.</span></span><span class="sig-name descname"><span class="pre">load_rural_scaling_factor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model_year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">veh_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">veh_range</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">state</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filepath</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'regional_scaling_factors_RA_'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/prereise/gather/demanddata/transportation_electrification/data_helper.html#load_rural_scaling_factor"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#prereise.gather.demanddata.transportation_electrification.data_helper.load_rural_scaling_factor" title="Permalink to this definition">¶</a></dt>
<dd><p>Load the scaling factor for rural areas based on model year and vehicle
type for the inputted state.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model_year</strong> (<em>int</em>) – year that is being modelled/projected to, 2017, 2030, 2040, 2050.</p></li>
<li><p><strong>veh_type</strong> (<em>str</em>) – determine which category (MDV, HDV, or Transit) to produce
a fuel efficiency value for.</p></li>
<li><p><strong>veh_range</strong> (<em>int</em>) – 100, 200, or 300, represents how far vehicle can travel on single charge.</p></li>
<li><p><strong>state</strong> (<em>str</em>) – the US state the inputted urbanized area is in.</p></li>
<li><p><strong>filepath</strong> (<em>str</em>) – the path to the csv.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>(<em>int/float</em>) – scaling factor value from the regional_scaling_factors_RA_{model_year}.csv</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ValueError</strong> – if <code class="docutils literal notranslate"><span class="pre">veh_range</span></code> is not 100, 200, or 300 and if <code class="docutils literal notranslate"><span class="pre">veh_type</span></code>
is not ‘LDT’, ‘LDV’, ‘MDV’, ‘HDV’, or ‘Transit</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="prereise.gather.demanddata.transportation_electrification.data_helper.load_urbanized_scaling_factor">
<span class="sig-prename descclassname"><span class="pre">prereise.gather.demanddata.transportation_electrification.data_helper.</span></span><span class="sig-name descname"><span class="pre">load_urbanized_scaling_factor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model_year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">veh_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">veh_range</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">urbanized_area</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">state</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filepath</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'regional_scaling_factors_UA_'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/prereise/gather/demanddata/transportation_electrification/data_helper.html#load_urbanized_scaling_factor"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#prereise.gather.demanddata.transportation_electrification.data_helper.load_urbanized_scaling_factor" title="Permalink to this definition">¶</a></dt>
<dd><p>Load the scaling factor for urbanized areas based on model year and vehicle
type for the inputted urbanized area and state.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model_year</strong> (<em>int</em>) – year that is being modelled/projected to, 2017, 2030, 2040, 2050.</p></li>
<li><p><strong>veh_type</strong> (<em>str</em>) – determine which category (MDV, HDV, or Transit) to produce
a fuel efficiency value for.</p></li>
<li><p><strong>veh_range</strong> (<em>int</em>) – 100, 200, or 300, represents how far vehicle can travel on single charge.</p></li>
<li><p><strong>urbanized_area</strong> (<em>str</em>) – name of urbanized area or city.</p></li>
<li><p><strong>state</strong> (<em>str</em>) – the US state the inputted urbanized area is in.</p></li>
<li><p><strong>filepath</strong> (<em>str</em>) – the path to the csv.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>(<em>int/float</em>) – scaling factor value from the regional_scaling_factors_UA_{model_year}.csv</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ValueError</strong> – if <code class="docutils literal notranslate"><span class="pre">veh_range</span></code> is not 100, 200, or 300 and if <code class="docutils literal notranslate"><span class="pre">veh_type</span></code>
is not ‘LDT’, ‘LDV’, ‘MDV’, ‘HDV’, or ‘Transit</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="prereise.gather.demanddata.transportation_electrification.data_helper.remove_ldt">
<span class="sig-prename descclassname"><span class="pre">prereise.gather.demanddata.transportation_electrification.data_helper.</span></span><span class="sig-name descname"><span class="pre">remove_ldt</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/prereise/gather/demanddata/transportation_electrification/data_helper.html#remove_ldt"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#prereise.gather.demanddata.transportation_electrification.data_helper.remove_ldt" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove light duty trucks (vehicle types 4-6) from data loaded from nths_census.mat.
Keep light duty vehicles (vehicle types 1-3).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>data</strong> (<em>pandas.DataFrame</em>) – the data returned from <a class="reference internal" href="#prereise.gather.demanddata.transportation_electrification.data_helper.load_data" title="prereise.gather.demanddata.transportation_electrification.data_helper.load_data"><code class="xref py py-func docutils literal notranslate"><span class="pre">load_data()</span></code></a>.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>(<em>pandas.DataFrame</em>) – the data loaded from <a class="reference internal" href="#prereise.gather.demanddata.transportation_electrification.data_helper.load_data" title="prereise.gather.demanddata.transportation_electrification.data_helper.load_data"><code class="xref py py-func docutils literal notranslate"><span class="pre">load_data()</span></code></a> with all
rows involving LDT removed.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="prereise.gather.demanddata.transportation_electrification.data_helper.remove_ldv">
<span class="sig-prename descclassname"><span class="pre">prereise.gather.demanddata.transportation_electrification.data_helper.</span></span><span class="sig-name descname"><span class="pre">remove_ldv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/prereise/gather/demanddata/transportation_electrification/data_helper.html#remove_ldv"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#prereise.gather.demanddata.transportation_electrification.data_helper.remove_ldv" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove light duty vehicles (vehicle types 1-3) from data loaded from nths_census.mat.
Keep light duty trucks (vehicle types 4-6).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>data</strong> (<em>pandas.DataFrame</em>) – the data returned from <a class="reference internal" href="#prereise.gather.demanddata.transportation_electrification.data_helper.load_data" title="prereise.gather.demanddata.transportation_electrification.data_helper.load_data"><code class="xref py py-func docutils literal notranslate"><span class="pre">load_data()</span></code></a>.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>(<em>pandas.DataFrame</em>) – the data loaded from <a class="reference internal" href="#prereise.gather.demanddata.transportation_electrification.data_helper.load_data" title="prereise.gather.demanddata.transportation_electrification.data_helper.load_data"><code class="xref py py-func docutils literal notranslate"><span class="pre">load_data()</span></code></a> with all
rows involving LDT removed.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="prereise.gather.demanddata.transportation_electrification.data_helper.update_if_weekend">
<span class="sig-prename descclassname"><span class="pre">prereise.gather.demanddata.transportation_electrification.data_helper.</span></span><span class="sig-name descname"><span class="pre">update_if_weekend</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/prereise/gather/demanddata/transportation_electrification/data_helper.html#update_if_weekend"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#prereise.gather.demanddata.transportation_electrification.data_helper.update_if_weekend" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates the “If Weekend” values depending on the “Day of Week” value.
Fridays and Sundays overlap into the weekend or weekday due to the
vehicle time window, 6AM - 5:59AM.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>data</strong> (<em>pandas.DataFrame</em>) – the data returned from <a class="reference internal" href="#prereise.gather.demanddata.transportation_electrification.data_helper.remove_ldt" title="prereise.gather.demanddata.transportation_electrification.data_helper.remove_ldt"><code class="xref py py-func docutils literal notranslate"><span class="pre">remove_ldt()</span></code></a> or
<a class="reference internal" href="#prereise.gather.demanddata.transportation_electrification.data_helper.remove_ldv" title="prereise.gather.demanddata.transportation_electrification.data_helper.remove_ldv"><code class="xref py py-func docutils literal notranslate"><span class="pre">remove_ldv()</span></code></a>.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>(<em>pandas.DataFrame</em>) – the data loaded from <a class="reference internal" href="#prereise.gather.demanddata.transportation_electrification.data_helper.remove_ldt" title="prereise.gather.demanddata.transportation_electrification.data_helper.remove_ldt"><code class="xref py py-func docutils literal notranslate"><span class="pre">remove_ldt()</span></code></a> or
<a class="reference internal" href="#prereise.gather.demanddata.transportation_electrification.data_helper.remove_ldv" title="prereise.gather.demanddata.transportation_electrification.data_helper.remove_ldv"><code class="xref py py-func docutils literal notranslate"><span class="pre">remove_ldv()</span></code></a>
with updated “If Weekend” values.</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-prereise.gather.demanddata.transportation_electrification.data_process">
<span id="prereise-gather-demanddata-transportation-electrification-data-process-module"></span><h2>prereise.gather.demanddata.transportation_electrification.data_process module<a class="headerlink" href="#module-prereise.gather.demanddata.transportation_electrification.data_process" title="Permalink to this heading">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="prereise.gather.demanddata.transportation_electrification.data_process.calculate_dwell_time">
<span class="sig-prename descclassname"><span class="pre">prereise.gather.demanddata.transportation_electrification.data_process.</span></span><span class="sig-name descname"><span class="pre">calculate_dwell_time</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/prereise/gather/demanddata/transportation_electrification/data_process.html#calculate_dwell_time"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#prereise.gather.demanddata.transportation_electrification.data_process.calculate_dwell_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the dwell time, how long a vehicle has been charging. For the last
trip, dwell time is calculated based on the last trip’s end time and the start
time of the first trip. This calculation handles when start times begin past 12AM.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>data</strong> (<em>pandas.DataFrame</em>) – the data to calculate the dwell time from</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>(<em>pandas.Series</em>) – list of dwell times</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="prereise.gather.demanddata.transportation_electrification.data_process.data_filtering">
<span class="sig-prename descclassname"><span class="pre">prereise.gather.demanddata.transportation_electrification.data_process.</span></span><span class="sig-name descname"><span class="pre">data_filtering</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">raw_nhts</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">census_division</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/prereise/gather/demanddata/transportation_electrification/data_process.html#data_filtering"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#prereise.gather.demanddata.transportation_electrification.data_process.data_filtering" title="Permalink to this definition">¶</a></dt>
<dd><p>Filter raw NHTS data to be used in mileage.py</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>raw_nhts</strong> (<em>pandas.DataFrame</em>) – raw NHTS dataframe</p></li>
<li><p><strong>census_division</strong> (<em>int</em>) – any of the 9 census regions defined by the US census bureau</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>(<em>pandas.DataFrame</em>) – filtered and sorted trip data</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-prereise.gather.demanddata.transportation_electrification.dwelling">
<span id="prereise-gather-demanddata-transportation-electrification-dwelling-module"></span><h2>prereise.gather.demanddata.transportation_electrification.dwelling module<a class="headerlink" href="#module-prereise.gather.demanddata.transportation_electrification.dwelling" title="Permalink to this heading">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="prereise.gather.demanddata.transportation_electrification.dwelling.get_energy_limit">
<span class="sig-prename descclassname"><span class="pre">prereise.gather.demanddata.transportation_electrification.dwelling.</span></span><span class="sig-name descname"><span class="pre">get_energy_limit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">power</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">segment</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dwelling_start_time</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dwelling_length</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">charging_efficiency</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/prereise/gather/demanddata/transportation_electrification/dwelling.html#get_energy_limit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#prereise.gather.demanddata.transportation_electrification.dwelling.get_energy_limit" title="Permalink to this definition">¶</a></dt>
<dd><p>Determines the energy limit for the entire dwelling period. Takes into
consideration if charging does not start or end directly on the hour.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>power</strong> (<em>int</em>) – charger power, EVSE kW.</p></li>
<li><p><strong>segment</strong> (<em>int</em>) – the amount of the rates segments the dwelling activity possess.</p></li>
<li><p><strong>dwelling_start_time</strong> (<em>float</em>) – dwelling start time.</p></li>
<li><p><strong>dwelling_length</strong> (<em>float</em>) – length of dwell time.</p></li>
<li><p><strong>charging_efficiency</strong> (<em>float</em>) – grid to battery efficiency.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>(<em>list</em>) – list of energy limits during the time span of available charging</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="prereise.gather.demanddata.transportation_electrification.dwelling.get_rates">
<span class="sig-prename descclassname"><span class="pre">prereise.gather.demanddata.transportation_electrification.dwelling.</span></span><span class="sig-name descname"><span class="pre">get_rates</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cost</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dwelling_start_time</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dwelling_length</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/prereise/gather/demanddata/transportation_electrification/dwelling.html#get_rates"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#prereise.gather.demanddata.transportation_electrification.dwelling.get_rates" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine the rates that will be used for the cost function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cost</strong> (<em>numpy.array</em>) – cost function</p></li>
<li><p><strong>dwelling_start_time</strong> (<em>float</em>) – dwelling start time.</p></li>
<li><p><strong>dwelling_length</strong> (<em>float</em>) – length of dwell time.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>(<em>numpy.array</em>) – rates for the corresponding dwelling period</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="prereise.gather.demanddata.transportation_electrification.dwelling.get_segment">
<span class="sig-prename descclassname"><span class="pre">prereise.gather.demanddata.transportation_electrification.dwelling.</span></span><span class="sig-name descname"><span class="pre">get_segment</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dwelling_start_time</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dwelling_length</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/prereise/gather/demanddata/transportation_electrification/dwelling.html#get_segment"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#prereise.gather.demanddata.transportation_electrification.dwelling.get_segment" title="Permalink to this definition">¶</a></dt>
<dd><p>Get dwelling activity segment.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dwelling_start_time</strong> (<em>float</em>) – dwelling start time.</p></li>
<li><p><strong>dwelling_length</strong> (<em>float</em>) – length of dwell time.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>(<em>int</em>) – the amount of the rates (cost function) segments the dwelling
activity possess.</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-prereise.gather.demanddata.transportation_electrification.generate_BEV_vehicle_profiles">
<span id="prereise-gather-demanddata-transportation-electrification-generate-bev-vehicle-profiles-module"></span><h2>prereise.gather.demanddata.transportation_electrification.generate_BEV_vehicle_profiles module<a class="headerlink" href="#module-prereise.gather.demanddata.transportation_electrification.generate_BEV_vehicle_profiles" title="Permalink to this heading">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="prereise.gather.demanddata.transportation_electrification.generate_BEV_vehicle_profiles.generate_bev_vehicle_profiles">
<span class="sig-prename descclassname"><span class="pre">prereise.gather.demanddata.transportation_electrification.generate_BEV_vehicle_profiles.</span></span><span class="sig-name descname"><span class="pre">generate_bev_vehicle_profiles</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">vehicle_trip_data_filepath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">charging_strategy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">veh_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">veh_range</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">projection_year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">state</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">external_signal</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">power</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">6.6</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">location_strategy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trip_strategy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/prereise/gather/demanddata/transportation_electrification/generate_BEV_vehicle_profiles.html#generate_bev_vehicle_profiles"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#prereise.gather.demanddata.transportation_electrification.generate_BEV_vehicle_profiles.generate_bev_vehicle_profiles" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate Battery Electric Vehicle (BEV) profiles</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>vehicle_trip_data_filepath</strong> (<em>str</em>) – filepath of collected trip data from external sources
representing driving patterns</p></li>
<li><p><strong>charging_strategy</strong> (<em>str</em>) – establishes whether charging happens immediately (“immediate”)
or optimize based on external signals, i.e. smart charging (“smart”)</p></li>
<li><p><strong>veh_type</strong> (<em>str</em>) – vehicle category: LDV: light duty vehicle, LDT: light duty truck,
MDV: medium duty vehicle, HDV: heavy duty vehicle</p></li>
<li><p><strong>veh_range</strong> (<em>int</em>) – 100, 200, or 300, represents how far vehicle can travel on
single charge in miles.</p></li>
<li><p><strong>projection_year</strong> (<em>int</em>) – year that is being modelled/projected to, 2017, 2030, 2040,
2050.</p></li>
<li><p><strong>state</strong> (<em>str</em>) – US state abbreviation</p></li>
<li><p><strong>external_signal</strong> (<em>numpy.ndarray</em><em> (</em><em>optional</em><em>)</em>) – initial load demand (MW for each hour)</p></li>
<li><p><strong>power</strong> (<em>int</em>) – (optional) charger power, EVSE kW; default value: 6.6 kW;</p></li>
<li><p><strong>location_strategy</strong> (<em>int</em>) – (optional) where the vehicle can charge-1, 2, 3, 4, or 5;
1-home only, 2-home and work related, 3-anywhere if possibile,
4-home and school only, 5-home and work and school.
default value: 2</p></li>
<li><p><strong>trip_strategy</strong> (<em>int</em>) – (optional) determine to charge after any trip (1) or only after the
last trip (2); default value: 1</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>(<em>pandas.DataFrame</em>) – yearly charging profiles for all urban areas and the rural area
in each state (MW for each hour)</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="prereise-gather-demanddata-transportation-electrification-generate-scaling-factors-module">
<h2>prereise.gather.demanddata.transportation_electrification.generate_scaling_factors module<a class="headerlink" href="#prereise-gather-demanddata-transportation-electrification-generate-scaling-factors-module" title="Permalink to this heading">¶</a></h2>
</section>
<section id="module-prereise.gather.demanddata.transportation_electrification.immediate">
<span id="prereise-gather-demanddata-transportation-electrification-immediate-module"></span><h2>prereise.gather.demanddata.transportation_electrification.immediate module<a class="headerlink" href="#module-prereise.gather.demanddata.transportation_electrification.immediate" title="Permalink to this heading">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="prereise.gather.demanddata.transportation_electrification.immediate.adjust_bev">
<span class="sig-prename descclassname"><span class="pre">prereise.gather.demanddata.transportation_electrification.immediate.</span></span><span class="sig-name descname"><span class="pre">adjust_bev</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">hourly_profile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">adjustment_values</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">veh_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">veh_range</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bev_vmt</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">charging_efficiency</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/prereise/gather/demanddata/transportation_electrification/immediate.html#adjust_bev"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#prereise.gather.demanddata.transportation_electrification.immediate.adjust_bev" title="Permalink to this definition">¶</a></dt>
<dd><p>Adjusts the charging profiles by applying weighting factors based on
seasonal/monthly values</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>hourly_profile</strong> (<em>numpy.ndarray</em>) – normalized charging profiles</p></li>
<li><p><strong>adjustment_values</strong> (<em>pandas.DataFrame</em>) – weighting factors for each
day of the year loaded from month_info_nhts.mat.</p></li>
<li><p><strong>model_year</strong> (<em>int</em>) – year that is being modelled/projected to, 2017, 2030, 2040, 2050.</p></li>
<li><p><strong>veh_type</strong> (<em>str</em>) – determine which category (MDV or HDV) to produce charging profiles for</p></li>
<li><p><strong>veh_range</strong> (<em>int</em>) – 100, 200, or 300, represents how far vehicle can travel on single charge.</p></li>
<li><p><strong>bev_vmt</strong> (<em>int/float</em>) – BEV VMT value / scaling factor loaded from Regional_scaling_factors.csv</p></li>
<li><p><strong>charging_efficiency</strong> (<em>float</em>) – from grid to battery efficiency.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>(<em>numpy.ndarray</em>) – final adjusted charging profiles.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="prereise.gather.demanddata.transportation_electrification.immediate.apply_annual_scaling">
<span class="sig-prename descclassname"><span class="pre">prereise.gather.demanddata.transportation_electrification.immediate.</span></span><span class="sig-name descname"><span class="pre">apply_annual_scaling</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">hourly_profile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bev_vmt</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">charging_efficiency</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwhmi</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/prereise/gather/demanddata/transportation_electrification/immediate.html#apply_annual_scaling"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#prereise.gather.demanddata.transportation_electrification.immediate.apply_annual_scaling" title="Permalink to this definition">¶</a></dt>
<dd><p>Adjusts the charging profiles by applying weighting factors based on
seasonal/monthly values</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>hourly_profile</strong> (<em>numpy.ndarray</em>) – hourly charging profile</p></li>
<li><p><strong>bev_vmt</strong> (<em>int/float</em>) – BEV VMT value / scaling factor loaded from Regional_scaling_factors.csv</p></li>
<li><p><strong>charging_efficiency</strong> (<em>float</em>) – from grid to battery efficiency.</p></li>
<li><p><strong>kwhmi</strong> (<em>int</em>) – fuel efficiency, should vary based on vehicle type and model_year.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>(<em>numpy.ndarray</em>) – adjusted charging profile</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="prereise.gather.demanddata.transportation_electrification.immediate.apply_daily_adjustments">
<span class="sig-prename descclassname"><span class="pre">prereise.gather.demanddata.transportation_electrification.immediate.</span></span><span class="sig-name descname"><span class="pre">apply_daily_adjustments</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">hourly_profile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">adjustment_values</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_days_per_year</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">365</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_segments_per_day</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">24</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/prereise/gather/demanddata/transportation_electrification/immediate.html#apply_daily_adjustments"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#prereise.gather.demanddata.transportation_electrification.immediate.apply_daily_adjustments" title="Permalink to this definition">¶</a></dt>
<dd><p>Adjusts the charging profiles by applying weighting factors based on
annual vehicle miles traveled (VMT) for battery electric vehicles in a specific geographic region</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>hourly_profile</strong> (<em>numpy.ndarray</em>) – normalized charging profiles</p></li>
<li><p><strong>adjustment_values</strong> (<em>pandas.DataFrame</em>) – weighting factors for each
day of the year loaded from month_info_nhts.mat.</p></li>
<li><p><strong>num_days_per_year</strong> (<em>int</em>) – optional year parameter to facilite easier testing</p></li>
<li><p><strong>num_segments_per_day</strong> (<em>int</em>) – optional specification of hours per day</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>(<em>numpy.ndarray</em>) – adjusted charging profile</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="prereise.gather.demanddata.transportation_electrification.immediate.calculate_charging">
<span class="sig-prename descclassname"><span class="pre">prereise.gather.demanddata.transportation_electrification.immediate.</span></span><span class="sig-name descname"><span class="pre">calculate_charging</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">trips</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">charging_power</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">battery_capacity</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwhmi</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">charging_efficiency</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/prereise/gather/demanddata/transportation_electrification/immediate.html#calculate_charging"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#prereise.gather.demanddata.transportation_electrification.immediate.calculate_charging" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse travel patterns to estimate charging and state-of-charge after each trip.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>trips</strong> (<em>pandas.DataFrame</em>) – trip data.</p></li>
<li><p><strong>charging_power</strong> (<em>int/float</em>) – charging power (kW).</p></li>
<li><p><strong>battery_capacity</strong> (<em>int/float</em>) – battery capacity (kWh).</p></li>
<li><p><strong>kwhmi</strong> (<em>int/float</em>) – vehicle electricity consumption (kWh/ mile).</p></li>
<li><p><strong>charging_efficiency</strong> (<em>int/float</em>) – from grid to battery efficiency.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="prereise.gather.demanddata.transportation_electrification.immediate.immediate_charging">
<span class="sig-prename descclassname"><span class="pre">prereise.gather.demanddata.transportation_electrification.immediate.</span></span><span class="sig-name descname"><span class="pre">immediate_charging</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">census_region</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">veh_range</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">power</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">location_strategy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">veh_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filepath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trip_strategy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_day</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/prereise/gather/demanddata/transportation_electrification/immediate.html#immediate_charging"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#prereise.gather.demanddata.transportation_electrification.immediate.immediate_charging" title="Permalink to this definition">¶</a></dt>
<dd><p>Immediate charging function</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>census_region</strong> (<em>int</em>) – any of the 9 census regions defined by US census bureau.</p></li>
<li><p><strong>model_year</strong> (<em>int</em>) – year that is being modelled/projected to, 2017, 2030, 2040, 2050.</p></li>
<li><p><strong>veh_range</strong> (<em>int</em>) – 100, 200, or 300, represents how far vehicle can travel on single charge.</p></li>
<li><p><strong>power</strong> (<em>int</em>) – charger power, EVSE kW.</p></li>
<li><p><strong>location_strategy</strong> (<em>int</em>) – where the vehicle can charge-1, 2, 3, 4, or 5;
1-home only, 2-home and work related, 3-anywhere if possibile,
4-home and school only, 5-home and work and school.</p></li>
<li><p><strong>veh_type</strong> (<em>str</em>) – determine which category (LDV or LDT) to produce charging profiles for</p></li>
<li><p><strong>filepath</strong> (<em>str</em>) – the path to the nhts mat file.</p></li>
<li><p><strong>trip_strategy</strong> (<em>int</em>) – determine to charge after any trip (1) or only after the last trip (2)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>(<em>numpy.ndarray</em>) – charging profiles.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="prereise.gather.demanddata.transportation_electrification.immediate.resample_daily_charging">
<span class="sig-prename descclassname"><span class="pre">prereise.gather.demanddata.transportation_electrification.immediate.</span></span><span class="sig-name descname"><span class="pre">resample_daily_charging</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">trips</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">charging_power</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/prereise/gather/demanddata/transportation_electrification/immediate.html#resample_daily_charging"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#prereise.gather.demanddata.transportation_electrification.immediate.resample_daily_charging" title="Permalink to this definition">¶</a></dt>
<dd><p>Translate start and end times and power to a 72-hour output array.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>trips</strong> (<em>pandas.DataFrame</em>) – trip data with trip-end and charge-time columns.</p></li>
<li><p><strong>charging_power</strong> (<em>int/float</em>) – charging power (kW).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>(<em>numpy.array</em>) – hourly total charging power for the 72-hour span.</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-prereise.gather.demanddata.transportation_electrification.immediate_charging_HDV">
<span id="prereise-gather-demanddata-transportation-electrification-immediate-charging-hdv-module"></span><h2>prereise.gather.demanddata.transportation_electrification.immediate_charging_HDV module<a class="headerlink" href="#module-prereise.gather.demanddata.transportation_electrification.immediate_charging_HDV" title="Permalink to this heading">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="prereise.gather.demanddata.transportation_electrification.immediate_charging_HDV.calculate_charging">
<span class="sig-prename descclassname"><span class="pre">prereise.gather.demanddata.transportation_electrification.immediate_charging_HDV.</span></span><span class="sig-name descname"><span class="pre">calculate_charging</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">trips</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">charging_power</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">battery_capacity</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwhmi</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">charging_efficiency</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/prereise/gather/demanddata/transportation_electrification/immediate_charging_HDV.html#calculate_charging"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#prereise.gather.demanddata.transportation_electrification.immediate_charging_HDV.calculate_charging" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse travel patterns to estimate charging and state-of-charge after each trip.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>trips</strong> (<em>pandas.DataFrame</em>) – trip data.</p></li>
<li><p><strong>charging_power</strong> (<em>int/float</em>) – charging power (kW).</p></li>
<li><p><strong>battery_capacity</strong> (<em>int/float</em>) – battery capacity (kWh).</p></li>
<li><p><strong>kwhmi</strong> (<em>int/float</em>) – vehicle electricity consumption (kWh/ mile).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>(<em>pandas.DataFrame</em>) – the updated data with the charging and SOC values
for all vehicles.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="prereise.gather.demanddata.transportation_electrification.immediate_charging_HDV.calculate_charging_helper">
<span class="sig-prename descclassname"><span class="pre">prereise.gather.demanddata.transportation_electrification.immediate_charging_HDV.</span></span><span class="sig-name descname"><span class="pre">calculate_charging_helper</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">group</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">battery_capacity</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwhmi</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">charging_power</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">charging_efficiency</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/prereise/gather/demanddata/transportation_electrification/immediate_charging_HDV.html#calculate_charging_helper"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#prereise.gather.demanddata.transportation_electrification.immediate_charging_HDV.calculate_charging_helper" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the charging and state-of-charge after each trip.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>group</strong> (<em>pandas.DataFrame</em>) – group of trips from one vehicle.</p></li>
<li><p><strong>battery_capacity</strong> (<em>int/float</em>) – battery capacity (kWh).</p></li>
<li><p><strong>kwhmi</strong> (<em>int/float</em>) – vehicle electricity consumption (kWh/ mile).</p></li>
<li><p><strong>charging_power</strong> (<em>int/float</em>) – charging power (kW).</p></li>
<li><p><strong>charging_efficiency</strong> (<em>float</em>) – from grid to battery efficiency.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>(<em>pandas.DataFrame</em>) – the updated data with the charging and SOC values
for one group of trips.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="prereise.gather.demanddata.transportation_electrification.immediate_charging_HDV.immediate_hdv_charging">
<span class="sig-prename descclassname"><span class="pre">prereise.gather.demanddata.transportation_electrification.immediate_charging_HDV.</span></span><span class="sig-name descname"><span class="pre">immediate_hdv_charging</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model_year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">veh_range</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">power</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">location_strategy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">veh_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filepath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trip_strategy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/prereise/gather/demanddata/transportation_electrification/immediate_charging_HDV.html#immediate_hdv_charging"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#prereise.gather.demanddata.transportation_electrification.immediate_charging_HDV.immediate_hdv_charging" title="Permalink to this definition">¶</a></dt>
<dd><p>Immediate charging function</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model_year</strong> (<em>int</em>) – year that is being modelled/projected to, 2017, 2030, 2040,
2050.</p></li>
<li><p><strong>veh_range</strong> (<em>int</em>) – 100, 200, or 300, represents how far vehicle can travel on
single charge.</p></li>
<li><p><strong>power</strong> (<em>int</em>) – charger power, EVSE kW.</p></li>
<li><p><strong>location_strategy</strong> (<em>int</em>) – where the vehicle can charge - 1 or 3;
1-base only, 3-anywhere if possibile.</p></li>
<li><p><strong>veh_type</strong> (<em>str</em>) – determine which category (MDV or HDV) to produce charging
profiles for</p></li>
<li><p><strong>filepath</strong> (<em>str</em>) – the path to the HDV data file.</p></li>
<li><p><strong>trip_strategy</strong> (<em>int</em>) – determine to charge after any trip (1) or only after the
last trip (2)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>(<em>numpy.ndarray</em>) – charging profiles.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="prereise.gather.demanddata.transportation_electrification.immediate_charging_HDV.resample_daily_charging">
<span class="sig-prename descclassname"><span class="pre">prereise.gather.demanddata.transportation_electrification.immediate_charging_HDV.</span></span><span class="sig-name descname"><span class="pre">resample_daily_charging</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">trips</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">charging_power</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/prereise/gather/demanddata/transportation_electrification/immediate_charging_HDV.html#resample_daily_charging"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#prereise.gather.demanddata.transportation_electrification.immediate_charging_HDV.resample_daily_charging" title="Permalink to this definition">¶</a></dt>
<dd><p>Translate start and end times and power to a 72-hour output array.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>trips</strong> (<em>pandas.DataFrame</em>) – trip data with trip-end and charge-time columns.</p></li>
<li><p><strong>charging_power</strong> (<em>int/float</em>) – charging power (kW).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>(<em>numpy.array</em>) – hourly total charging power for the 72-hour span.</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-prereise.gather.demanddata.transportation_electrification.smart_charging">
<span id="prereise-gather-demanddata-transportation-electrification-smart-charging-module"></span><h2>prereise.gather.demanddata.transportation_electrification.smart_charging module<a class="headerlink" href="#module-prereise.gather.demanddata.transportation_electrification.smart_charging" title="Permalink to this heading">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="prereise.gather.demanddata.transportation_electrification.smart_charging.hdv_use_all_data_rows">
<span class="sig-prename descclassname"><span class="pre">prereise.gather.demanddata.transportation_electrification.smart_charging.</span></span><span class="sig-name descname"><span class="pre">hdv_use_all_data_rows</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/prereise/gather/demanddata/transportation_electrification/smart_charging.html#hdv_use_all_data_rows"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#prereise.gather.demanddata.transportation_electrification.smart_charging.hdv_use_all_data_rows" title="Permalink to this definition">¶</a></dt>
<dd><p>Helper function to select weekday/weekend data rows</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>int</em>) – data weekday/weekend value</p></li>
<li><p><strong>y</strong> (<em>int</em>) – model year weekday/weekend value</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>(<em>bool</em>) – always returns true to use all data rows</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="prereise.gather.demanddata.transportation_electrification.smart_charging.ldv_weekday_weekend_check">
<span class="sig-prename descclassname"><span class="pre">prereise.gather.demanddata.transportation_electrification.smart_charging.</span></span><span class="sig-name descname"><span class="pre">ldv_weekday_weekend_check</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/prereise/gather/demanddata/transportation_electrification/smart_charging.html#ldv_weekday_weekend_check"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#prereise.gather.demanddata.transportation_electrification.smart_charging.ldv_weekday_weekend_check" title="Permalink to this definition">¶</a></dt>
<dd><p>Helper function to select weekday/weekend data rows</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>int</em>) – data weekday/weekend value</p></li>
<li><p><strong>y</strong> (<em>int</em>) – model year weekday/weekend value</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>(<em>bool</em>) – if data row matches whether the current day is a weekday/weekend</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="prereise.gather.demanddata.transportation_electrification.smart_charging.smart_charging">
<span class="sig-prename descclassname"><span class="pre">prereise.gather.demanddata.transportation_electrification.smart_charging.</span></span><span class="sig-name descname"><span class="pre">smart_charging</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model_year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">veh_range</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">power</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">location_strategy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">veh_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filepath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">external_signal</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bev_vmt</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">census_region</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">daily_values</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwhmi</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trip_strategy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_day</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">debug_printout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/prereise/gather/demanddata/transportation_electrification/smart_charging.html#smart_charging"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#prereise.gather.demanddata.transportation_electrification.smart_charging.smart_charging" title="Permalink to this definition">¶</a></dt>
<dd><p>Smart charging function</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model_year</strong> (<em>int</em>) – year that is being modelled/projected to, 2017, 2030, 2040,
2050.</p></li>
<li><p><strong>veh_range</strong> (<em>int</em>) – 100, 200, or 300, represents how far vehicle can travel on
single charge.</p></li>
<li><p><strong>power</strong> (<em>int</em>) – charger power, EVSE kW.</p></li>
<li><p><strong>location_strategy</strong> (<em>int</em>) – where the vehicle can charge-1, 2, 3, 4, or 5;
1-home only, 2-home and work related, 3-anywhere if possibile,
4-home and school only, 5-home and work and school.</p></li>
<li><p><strong>veh_type</strong> (<em>str</em>) – determine which category (LDV or LDT) to produce charging
profiles for</p></li>
<li><p><strong>filepath</strong> (<em>str</em>) – the path to the nhts mat file.</p></li>
<li><p><strong>external_signal</strong> (<em>np.array</em>) – the initial load demand</p></li>
<li><p><strong>bev_vmt</strong> (<em>float</em>) – BEV VMT value / scaling factor loaded from regional_scaling_factors.csv</p></li>
<li><p><strong>census_region</strong> (<em>int</em>) – any of the 9 census regions defined by US census bureau.</p></li>
<li><p><strong>daily_values</strong> (<em>pandas.Series</em>) – daily weight factors returned from
<code class="xref py py-func docutils literal notranslate"><span class="pre">generate_daily_weighting()</span></code>.</p></li>
<li><p><strong>kwhmi</strong> (<em>int</em>) – fuel efficiency, should vary based on vehicle type and model_year.</p></li>
<li><p><strong>trip_strategy</strong> (<em>int</em>) – determine to charge after any trip (1) or only after the
last trip (2)</p></li>
<li><p><strong>input_day</strong> (<em>numpy.ndarray</em>) – daily list which specifies 1 if the day is a weekend,
and 2 if the day is a weekday</p></li>
<li><p><strong>debug_printout</strong> (<em>bool</em>) – specify if additional model parameters will be printed</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>(<em>numpy.ndarray</em>) – charging profiles.</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-prereise.gather.demanddata.transportation_electrification">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-prereise.gather.demanddata.transportation_electrification" title="Permalink to this heading">¶</a></h2>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<p class="logo">
  <a href="index.html">
    <img class="logo" src="_static/img/BE_Sciences_RGB_Horizontal_Color.svg" alt="Logo"/>
    
  </a>
</p>



<p class="blurb">Modeling a clean energy future for the United States</p>




<p>
<iframe src="https://ghbtns.com/github-btn.html?user=Breakthrough-Energy&repo=docs&type=watch&count=true&size=large&v=2"
  allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
</p>





<h3>Navigation</h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="user/installation_guide.html">1. Installation Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="communication/code_of_conduct.html">2. Code of Conduct</a></li>
<li class="toctree-l1"><a class="reference internal" href="dev/contribution_guide.html">3. Contribution Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="user/git_guide.html">4. Working with Git/GitHub</a></li>
<li class="toctree-l1"><a class="reference internal" href="powersimdata/index.html">5. PowerSimData</a></li>
<li class="toctree-l1"><a class="reference internal" href="prereise/index.html">6. PreREISE</a></li>
<li class="toctree-l1"><a class="reference internal" href="postreise/index.html">7. PostREISE</a></li>
<li class="toctree-l1"><a class="reference internal" href="reisejl/index.html">8. REISE.jl</a></li>
</ul>

<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
  </ul></li>
</ul><h3>Useful Links</h3>
<ul>
  <li><a href="https://www.breakthroughenergy.org/">Breakthrough Energy</a></li>
  <li><a href="https://science.breakthroughenergy.org/">Breakthrough Energy Sciences</a></li>
  <li><a href="https://arxiv.org/abs/2002.06155">publication</a></li>
  <li><a href="https://zenodo.org/record/3530898">data @ zenodo</a></li>
</ul>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script><ul>
<h3>Code</h3>
<a href="py-modindex.html">Module Index</a>
</ul>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2021, Breakthrough Energy Foundation.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 6.2.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.13</a>
      
      |
      <a href="_sources/prereise.gather.demanddata.transportation_electrification.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>