<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>prereise.gather.flexibilitydata.doe package &#8212; documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/sphinx_highlight.js"></script>
    <script src="https://unpkg.com/mermaid@9.4.0/dist/mermaid.min.js"></script>
    <script>mermaid.initialize({startOnLoad:true});</script>
    <link rel="icon" href="_static/favicon.svg"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="prereise-gather-flexibilitydata-doe-package">
<h1>prereise.gather.flexibilitydata.doe package<a class="headerlink" href="#prereise-gather-flexibilitydata-doe-package" title="Permalink to this heading">¶</a></h1>
<section id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Permalink to this heading">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="prereise.gather.flexibilitydata.doe.examples.html">prereise.gather.flexibilitydata.doe.examples package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="prereise.gather.flexibilitydata.doe.examples.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="prereise.gather.flexibilitydata.doe.examples.html#prereise-gather-flexibilitydata-doe-examples-bus-example-module">prereise.gather.flexibilitydata.doe.examples.bus_example module</a></li>
<li class="toctree-l2"><a class="reference internal" href="prereise.gather.flexibilitydata.doe.examples.html#prereise-gather-flexibilitydata-doe-examples-doe-example-module">prereise.gather.flexibilitydata.doe.examples.doe_example module</a></li>
<li class="toctree-l2"><a class="reference internal" href="prereise.gather.flexibilitydata.doe.examples.html#module-prereise.gather.flexibilitydata.doe.examples.geo_example">prereise.gather.flexibilitydata.doe.examples.geo_example module</a></li>
<li class="toctree-l2"><a class="reference internal" href="prereise.gather.flexibilitydata.doe.examples.html#module-prereise.gather.flexibilitydata.doe.examples">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="prereise.gather.flexibilitydata.doe.tests.html">prereise.gather.flexibilitydata.doe.tests package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="prereise.gather.flexibilitydata.doe.tests.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="prereise.gather.flexibilitydata.doe.tests.html#module-prereise.gather.flexibilitydata.doe.tests.test_bus_data">prereise.gather.flexibilitydata.doe.tests.test_bus_data module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="prereise.gather.flexibilitydata.doe.tests.html#prereise.gather.flexibilitydata.doe.tests.test_bus_data.test_get_bus_fips"><code class="docutils literal notranslate"><span class="pre">test_get_bus_fips()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="prereise.gather.flexibilitydata.doe.tests.html#prereise.gather.flexibilitydata.doe.tests.test_bus_data.test_get_bus_zip"><code class="docutils literal notranslate"><span class="pre">test_get_bus_zip()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="prereise.gather.flexibilitydata.doe.tests.html#module-prereise.gather.flexibilitydata.doe.tests.test_geo_data">prereise.gather.flexibilitydata.doe.tests.test_geo_data module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="prereise.gather.flexibilitydata.doe.tests.html#prereise.gather.flexibilitydata.doe.tests.test_geo_data.test_batch_download"><code class="docutils literal notranslate"><span class="pre">test_batch_download()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="prereise.gather.flexibilitydata.doe.tests.html#prereise.gather.flexibilitydata.doe.tests.test_geo_data.test_cache_production"><code class="docutils literal notranslate"><span class="pre">test_cache_production()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="prereise.gather.flexibilitydata.doe.tests.html#module-prereise.gather.flexibilitydata.doe.tests">Module contents</a></li>
</ul>
</li>
</ul>
</div>
</section>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this heading">¶</a></h2>
</section>
<section id="module-prereise.gather.flexibilitydata.doe.batch_process">
<span id="prereise-gather-flexibilitydata-doe-batch-process-module"></span><h2>prereise.gather.flexibilitydata.doe.batch_process module<a class="headerlink" href="#module-prereise.gather.flexibilitydata.doe.batch_process" title="Permalink to this heading">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="prereise.gather.flexibilitydata.doe.batch_process.collect_all_raw_data">
<span class="sig-prename descclassname"><span class="pre">prereise.gather.flexibilitydata.doe.batch_process.</span></span><span class="sig-name descname"><span class="pre">collect_all_raw_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">download_path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/prereise/gather/flexibilitydata/doe/batch_process.html#collect_all_raw_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#prereise.gather.flexibilitydata.doe.batch_process.collect_all_raw_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Download all required raw data needed for producing cached files</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>download_path</strong> (<em>str</em>) – folder to store the downloaded file</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="prereise.gather.flexibilitydata.doe.batch_process.create_geo_cache_files">
<span class="sig-prename descclassname"><span class="pre">prereise.gather.flexibilitydata.doe.batch_process.</span></span><span class="sig-name descname"><span class="pre">create_geo_cache_files</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">raw_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cache_path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/prereise/gather/flexibilitydata/doe/batch_process.html#create_geo_cache_files"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#prereise.gather.flexibilitydata.doe.batch_process.create_geo_cache_files" title="Permalink to this definition">¶</a></dt>
<dd><p>Process downloaded raw files and create cached intermediate files</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>raw_path</strong> (<em>str</em>) – folder that contains downloaded raw data</p></li>
<li><p><strong>cache_path</strong> (<em>str</em>) – folder to store processed cache files</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="prereise.gather.flexibilitydata.doe.batch_process.get_cache_from_blob">
<span class="sig-prename descclassname"><span class="pre">prereise.gather.flexibilitydata.doe.batch_process.</span></span><span class="sig-name descname"><span class="pre">get_cache_from_blob</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cache_path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/prereise/gather/flexibilitydata/doe/batch_process.html#get_cache_from_blob"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#prereise.gather.flexibilitydata.doe.batch_process.get_cache_from_blob" title="Permalink to this definition">¶</a></dt>
<dd><p>Download previously uploaded cached files from BLOB storage</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>cache_path</strong> (<em>str</em>) – folder to store downloaded cache files</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-prereise.gather.flexibilitydata.doe.bus_data">
<span id="prereise-gather-flexibilitydata-doe-bus-data-module"></span><h2>prereise.gather.flexibilitydata.doe.bus_data module<a class="headerlink" href="#module-prereise.gather.flexibilitydata.doe.bus_data" title="Permalink to this heading">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="prereise.gather.flexibilitydata.doe.bus_data.cleanup_zip">
<span class="sig-prename descclassname"><span class="pre">prereise.gather.flexibilitydata.doe.bus_data.</span></span><span class="sig-name descname"><span class="pre">cleanup_zip</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">zipdict</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/prereise/gather/flexibilitydata/doe/bus_data.html#cleanup_zip"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#prereise.gather.flexibilitydata.doe.bus_data.cleanup_zip" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to cleanup a zip dictionary obtained using online query by converting
to 5-digit integers. Several possible mis-format are considered</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>zipdict</strong> (<em>dict</em>) – a dictionary containing raw zip-code of buses</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>(<em>dict</em>) – a dictionary containing 5-digit zip codes</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="prereise.gather.flexibilitydata.doe.bus_data.get_all_bus_eiaid">
<span class="sig-prename descclassname"><span class="pre">prereise.gather.flexibilitydata.doe.bus_data.</span></span><span class="sig-name descname"><span class="pre">get_all_bus_eiaid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bus_csv_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">doe_csv_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cache_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bus_pos</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">out_path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/prereise/gather/flexibilitydata/doe/bus_data.html#get_all_bus_eiaid"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#prereise.gather.flexibilitydata.doe.bus_data.get_all_bus_eiaid" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the EIA ID of each bus in bus.csv from powersimdata using cached files</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>bus_csv_path</strong> (<em>str</em>) – bus.csv in a powersimdata network model</p></li>
<li><p><strong>doe_csv_path</strong> (<em>str</em>) – aggregated .csv DOE flexibility data</p></li>
<li><p><strong>cache_path</strong> (<em>str</em>) – folder to store processed cache files</p></li>
<li><p><strong>bus_pos</strong> (<em>pandas.DataFrame</em>) – (n x 3) dataframe containing bus coordinates</p></li>
<li><p><strong>out_path</strong> (<em>str</em>) – output path to store the bus.csv with EIA ID</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>FileNotFoundError</strong> – when any required cache file is not present</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="prereise.gather.flexibilitydata.doe.bus_data.get_bus_fips">
<span class="sig-prename descclassname"><span class="pre">prereise.gather.flexibilitydata.doe.bus_data.</span></span><span class="sig-name descname"><span class="pre">get_bus_fips</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bus_pos</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cache_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_idx</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/prereise/gather/flexibilitydata/doe/bus_data.html#get_bus_fips"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#prereise.gather.flexibilitydata.doe.bus_data.get_bus_fips" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to get FIPS of each bus in a case mat using FCC AREA API
Can take hours to run, save to cache file for future use</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>bus_pos</strong> (<em>pandas.DataFrame</em>) – a dataframe of (bus, lat, lon)</p></li>
<li><p><strong>cache_path</strong> (<em>str</em>) – folder to store processed cache files</p></li>
<li><p><strong>start_idx</strong> (<em>int</em>) – pointer to the index of a bus to start query from</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="prereise.gather.flexibilitydata.doe.bus_data.get_bus_pos">
<span class="sig-prename descclassname"><span class="pre">prereise.gather.flexibilitydata.doe.bus_data.</span></span><span class="sig-name descname"><span class="pre">get_bus_pos</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">grid</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/prereise/gather/flexibilitydata/doe/bus_data.html#get_bus_pos"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#prereise.gather.flexibilitydata.doe.bus_data.get_bus_pos" title="Permalink to this definition">¶</a></dt>
<dd><p>Read raw files of synthetic grid and extract the lat/lon coordinate of all buses</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>grid</strong> (<a class="reference internal" href="powersimdata.input.html#powersimdata.input.grid.Grid" title="powersimdata.input.grid.Grid"><em>powersimdata.input.grid.Grid</em></a>) – a Grid instance</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>(<em>pandas.DataFrame</em>) – a data frame of bus position</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="prereise.gather.flexibilitydata.doe.bus_data.get_bus_zip">
<span class="sig-prename descclassname"><span class="pre">prereise.gather.flexibilitydata.doe.bus_data.</span></span><span class="sig-name descname"><span class="pre">get_bus_zip</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bus_pos</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cache_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_idx</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/prereise/gather/flexibilitydata/doe/bus_data.html#get_bus_zip"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#prereise.gather.flexibilitydata.doe.bus_data.get_bus_zip" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to get ZIP of each bus in a case mat using geopy
Can take hours to run, save to cache file for future use</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>bus_pos</strong> (<em>pandas.DataFrame</em>) – a dataframe of (bus, lat, lon)</p></li>
<li><p><strong>cache_path</strong> (<em>str</em>) – folder to store processed cache files</p></li>
<li><p><strong>start_idx</strong> (<em>int</em>) – pointer to the index of a bus to start query from</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-prereise.gather.flexibilitydata.doe.doe_data">
<span id="prereise-gather-flexibilitydata-doe-doe-data-module"></span><h2>prereise.gather.flexibilitydata.doe.doe_data module<a class="headerlink" href="#module-prereise.gather.flexibilitydata.doe.doe_data" title="Permalink to this heading">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="prereise.gather.flexibilitydata.doe.doe_data.aggregate_doe">
<span class="sig-prename descclassname"><span class="pre">prereise.gather.flexibilitydata.doe.doe_data.</span></span><span class="sig-name descname"><span class="pre">aggregate_doe</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">root</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">out_path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/prereise/gather/flexibilitydata/doe/doe_data.html#aggregate_doe"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#prereise.gather.flexibilitydata.doe.doe_data.aggregate_doe" title="Permalink to this definition">¶</a></dt>
<dd><p>Aggregate sector flexibilties by summing up the percentage flexibility from all sectors
and store to output csv file</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>root</strong> (<em>str</em>) – the root directory containing raw de-compressed DOE flexibility data</p></li>
<li><p><strong>out_path</strong> (<em>str</em>) – the output file where the aggregated data will be stored</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="prereise.gather.flexibilitydata.doe.doe_data.cleanup_directory">
<span class="sig-prename descclassname"><span class="pre">prereise.gather.flexibilitydata.doe.doe_data.</span></span><span class="sig-name descname"><span class="pre">cleanup_directory</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">root</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/prereise/gather/flexibilitydata/doe/doe_data.html#cleanup_directory"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#prereise.gather.flexibilitydata.doe.doe_data.cleanup_directory" title="Permalink to this definition">¶</a></dt>
<dd><p>Recursively cleanup a folder by deleting meaningless or empty files</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>root</strong> (<em>str</em>) – the root directory containing raw de-compressed DOE flexibility data</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="prereise.gather.flexibilitydata.doe.doe_data.download_doe">
<span class="sig-prename descclassname"><span class="pre">prereise.gather.flexibilitydata.doe.doe_data.</span></span><span class="sig-name descname"><span class="pre">download_doe</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">download_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'data'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/prereise/gather/flexibilitydata/doe/doe_data.html#download_doe"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#prereise.gather.flexibilitydata.doe.doe_data.download_doe" title="Permalink to this definition">¶</a></dt>
<dd><p>Download demand flexibility filters from OEDI, extract and cleanup</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>download_path</strong> (<em>str</em>) – the directory where the original DOE data will be stored</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-prereise.gather.flexibilitydata.doe.geo_data">
<span id="prereise-gather-flexibilitydata-doe-geo-data-module"></span><h2>prereise.gather.flexibilitydata.doe.geo_data module<a class="headerlink" href="#module-prereise.gather.flexibilitydata.doe.geo_data" title="Permalink to this heading">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="prereise.gather.flexibilitydata.doe.geo_data.eiaid_to_fips">
<span class="sig-prename descclassname"><span class="pre">prereise.gather.flexibilitydata.doe.geo_data.</span></span><span class="sig-name descname"><span class="pre">eiaid_to_fips</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">raw_data_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cache_path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/prereise/gather/flexibilitydata/doe/geo_data.html#eiaid_to_fips"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#prereise.gather.flexibilitydata.doe.geo_data.eiaid_to_fips" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the service region (list of FIPS codes) for every LSE identified by their EIA ID
Create a dictionary with EIA ID as keys for list of FIPS codes in the cache folder</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>raw_data_path</strong> (<em>str</em>) – folder that contains downloaded raw data</p></li>
<li><p><strong>cache_path</strong> (<em>str</em>) – folder to store processed cache files</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="prereise.gather.flexibilitydata.doe.geo_data.eiaid_to_zip">
<span class="sig-prename descclassname"><span class="pre">prereise.gather.flexibilitydata.doe.geo_data.</span></span><span class="sig-name descname"><span class="pre">eiaid_to_zip</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">raw_data_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cache_path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/prereise/gather/flexibilitydata/doe/geo_data.html#eiaid_to_zip"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#prereise.gather.flexibilitydata.doe.geo_data.eiaid_to_zip" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the service region (list of ZIP codes) for every LSE identified by their EIA ID
Create a dictionary with EIA ID as keys for list of zip codes in the cache folder</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>raw_data_path</strong> (<em>str</em>) – folder that contains downloaded raw data</p></li>
<li><p><strong>cache_path</strong> (<em>str</em>) – folder to store processed cache files</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="prereise.gather.flexibilitydata.doe.geo_data.fips_to_eiaid">
<span class="sig-prename descclassname"><span class="pre">prereise.gather.flexibilitydata.doe.geo_data.</span></span><span class="sig-name descname"><span class="pre">fips_to_eiaid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">raw_data_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cache_path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/prereise/gather/flexibilitydata/doe/geo_data.html#fips_to_eiaid"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#prereise.gather.flexibilitydata.doe.geo_data.fips_to_eiaid" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the corresponding LSE for all counties identified by their FIPS number</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>raw_data_path</strong> (<em>str</em>) – folder that contains downloaded raw data</p></li>
<li><p><strong>cache_path</strong> (<em>str</em>) – folder to store processed cache files</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="prereise.gather.flexibilitydata.doe.geo_data.fips_zip_conversion">
<span class="sig-prename descclassname"><span class="pre">prereise.gather.flexibilitydata.doe.geo_data.</span></span><span class="sig-name descname"><span class="pre">fips_zip_conversion</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">raw_data_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cache_path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/prereise/gather/flexibilitydata/doe/geo_data.html#fips_zip_conversion"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#prereise.gather.flexibilitydata.doe.geo_data.fips_zip_conversion" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a two-way mapping for all ZIP and FIPS in the crosswalk data
save to dictionary files for future use</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>raw_data_path</strong> (<em>str</em>) – folder that contains downloaded raw data</p></li>
<li><p><strong>cache_path</strong> (<em>str</em>) – folder to store processed cache files</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="prereise.gather.flexibilitydata.doe.geo_data.get_census_data">
<span class="sig-prename descclassname"><span class="pre">prereise.gather.flexibilitydata.doe.geo_data.</span></span><span class="sig-name descname"><span class="pre">get_census_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">download_path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/prereise/gather/flexibilitydata/doe/geo_data.html#get_census_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#prereise.gather.flexibilitydata.doe.geo_data.get_census_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Download county population data from USA Census website</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>download_path</strong> (<em>str</em>) – folder to store the downloaded file</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="prereise.gather.flexibilitydata.doe.geo_data.get_county_fips_data">
<span class="sig-prename descclassname"><span class="pre">prereise.gather.flexibilitydata.doe.geo_data.</span></span><span class="sig-name descname"><span class="pre">get_county_fips_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">download_path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/prereise/gather/flexibilitydata/doe/geo_data.html#get_county_fips_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#prereise.gather.flexibilitydata.doe.geo_data.get_county_fips_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Download county FIPS data</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>download_path</strong> (<em>str</em>) – folder to store the downloaded file</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="prereise.gather.flexibilitydata.doe.geo_data.get_crosswalk_data">
<span class="sig-prename descclassname"><span class="pre">prereise.gather.flexibilitydata.doe.geo_data.</span></span><span class="sig-name descname"><span class="pre">get_crosswalk_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">download_path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/prereise/gather/flexibilitydata/doe/geo_data.html#get_crosswalk_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#prereise.gather.flexibilitydata.doe.geo_data.get_crosswalk_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Download FIPS-ZIP crosswalk data from USPS and convert to csv</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>download_path</strong> (<em>str</em>) – folder to store the downloaded file</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="prereise.gather.flexibilitydata.doe.geo_data.get_fips_population">
<span class="sig-prename descclassname"><span class="pre">prereise.gather.flexibilitydata.doe.geo_data.</span></span><span class="sig-name descname"><span class="pre">get_fips_population</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">raw_data_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cache_path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/prereise/gather/flexibilitydata/doe/geo_data.html#get_fips_population"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#prereise.gather.flexibilitydata.doe.geo_data.get_fips_population" title="Permalink to this definition">¶</a></dt>
<dd><p>Match county population and county FIPS data to produce concise FIPS population
save to a dictonary in cache folder with key being 5-digit FIPS codes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>raw_data_path</strong> (<em>str</em>) – folder that contains downloaded raw data</p></li>
<li><p><strong>cache_path</strong> (<em>str</em>) – folder to store processed cache files</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="prereise.gather.flexibilitydata.doe.geo_data.get_lse_region_data">
<span class="sig-prename descclassname"><span class="pre">prereise.gather.flexibilitydata.doe.geo_data.</span></span><span class="sig-name descname"><span class="pre">get_lse_region_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">download_path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/prereise/gather/flexibilitydata/doe/geo_data.html#get_lse_region_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#prereise.gather.flexibilitydata.doe.geo_data.get_lse_region_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Download LSE service region data</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>download_path</strong> (<em>str</em>) – folder to store the downloaded file</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="prereise.gather.flexibilitydata.doe.geo_data.get_zip_population">
<span class="sig-prename descclassname"><span class="pre">prereise.gather.flexibilitydata.doe.geo_data.</span></span><span class="sig-name descname"><span class="pre">get_zip_population</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">raw_data_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cache_path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/prereise/gather/flexibilitydata/doe/geo_data.html#get_zip_population"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#prereise.gather.flexibilitydata.doe.geo_data.get_zip_population" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute population of each ZIP code using percentage share and FIPS population
save to a dictonary in cache folder with key being zip codes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>raw_data_path</strong> (<em>str</em>) – folder that contains downloaded raw data</p></li>
<li><p><strong>cache_path</strong> (<em>str</em>) – folder to store processed cache files</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="prereise.gather.flexibilitydata.doe.geo_data.zip_to_eiaid">
<span class="sig-prename descclassname"><span class="pre">prereise.gather.flexibilitydata.doe.geo_data.</span></span><span class="sig-name descname"><span class="pre">zip_to_eiaid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">raw_data_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cache_path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/prereise/gather/flexibilitydata/doe/geo_data.html#zip_to_eiaid"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#prereise.gather.flexibilitydata.doe.geo_data.zip_to_eiaid" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the LSE of all zip codes listed in the EIA LSE service regoin data</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>raw_data_path</strong> (<em>str</em>) – folder that contains downloaded raw data</p></li>
<li><p><strong>cache_path</strong> (<em>str</em>) – folder to store processed cache files</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-prereise.gather.flexibilitydata.doe">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-prereise.gather.flexibilitydata.doe" title="Permalink to this heading">¶</a></h2>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<p class="logo">
  <a href="index.html">
    <img class="logo" src="_static/img/BE_Sciences_RGB_Horizontal_Color.svg" alt="Logo"/>
    
  </a>
</p>



<p class="blurb">Modeling a clean energy future for the United States</p>




<p>
<iframe src="https://ghbtns.com/github-btn.html?user=Breakthrough-Energy&repo=docs&type=watch&count=true&size=large&v=2"
  allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
</p>





<h3>Navigation</h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="user/installation_guide.html">1. Installation Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="communication/code_of_conduct.html">2. Code of Conduct</a></li>
<li class="toctree-l1"><a class="reference internal" href="dev/contribution_guide.html">3. Contribution Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="user/git_guide.html">4. Working with Git/GitHub</a></li>
<li class="toctree-l1"><a class="reference internal" href="powersimdata/index.html">5. PowerSimData</a></li>
<li class="toctree-l1"><a class="reference internal" href="prereise/index.html">6. PreREISE</a></li>
<li class="toctree-l1"><a class="reference internal" href="postreise/index.html">7. PostREISE</a></li>
<li class="toctree-l1"><a class="reference internal" href="reisejl/index.html">8. REISE.jl</a></li>
</ul>

<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
  </ul></li>
</ul><h3>Useful Links</h3>
<ul>
  <li><a href="https://www.breakthroughenergy.org/">Breakthrough Energy</a></li>
  <li><a href="https://science.breakthroughenergy.org/">Breakthrough Energy Sciences</a></li>
  <li><a href="https://arxiv.org/abs/2002.06155">publication</a></li>
  <li><a href="https://zenodo.org/record/3530898">data @ zenodo</a></li>
</ul>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script><ul>
<h3>Code</h3>
<a href="py-modindex.html">Module Index</a>
</ul>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2021, Breakthrough Energy Foundation.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 7.0.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.13</a>
      
      |
      <a href="_sources/prereise.gather.flexibilitydata.doe.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>