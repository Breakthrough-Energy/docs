
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>Methodology &#8212; documentation</title>
    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/alabaster.css" />
    <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/sphinx_highlight.js"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="https://unpkg.com/mermaid@9.4.0/dist/mermaid.min.js"></script>
    <script>mermaid.initialize({startOnLoad:true});</script>
    <link rel="icon" href="../../../_static/favicon.svg"/>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
   
  <link rel="stylesheet" href="../../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="methodology">
<h1>Methodology<a class="headerlink" href="#methodology" title="Permalink to this heading">¶</a></h1>
<section id="ev-charging-model-process-and-flowchart">
<span id="ev-charging-model"></span><h2>EV Charging Model Process and Flowchart<a class="headerlink" href="#ev-charging-model-process-and-flowchart" title="Permalink to this heading">¶</a></h2>
<p>This EV charging model simulates the charging behavior of the following on-road vehicle
categories: LDV, LDT, MDV, and HDV. The default LDV and LDT trip data come from the 2017
NHTS, with an example of the data included in <code class="xref std std-numref docutils literal notranslate"><span class="pre">example_daily_trips</span></code>.</p>
<figure class="align-center" id="id35">
<span id="example-daily-trips"></span><img alt="prereise/demand/transportation_electrification/demand/transportation_electrification/img/methodology/daily_trips.png" src="prereise/demand/transportation_electrification/demand/transportation_electrification/img/methodology/daily_trips.png" />
<figcaption>
<p><span class="caption-text">Example daily trips of vehicle data from NHTS</span><a class="headerlink" href="#id35" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<p>These are also divided into Census Divisions, which are then mapped to the corresponding
regions within the grid model. The MDV and HDV trip data are anonymized from the Texas
Commercial Vehicle Survey and calibrated to align with medium- and heavy-duty vehicle
trip statistics. More details about each data set are included in
<code class="xref std std-numref docutils literal notranslate"><span class="pre">vehicle_travel_patterns</span></code> and can be updated to reflect different vehicle
scenarios or incorporate more recent data. In all cases, an average weekday and average
weekend daily pattern of vehicle trips is calculated from the vehicle trip data. Then,
these trips are filtered by vehicle type (e.g. LDV, LDT, MDV, and HDV) and by range for
LDVs and LDTs (e.g. less than 100 miles, less than 200 miles, less than 300 miles) to
capture what is capable for typical battery capacities.  This creates a weekday and
weekend daily pattern of BEV-capable trips that will be used in the subsequent steps.
The LDV and LDT vehicle miles traveled (VMT) by hour is presented in
<code class="xref std std-numref docutils literal notranslate"><span class="pre">vmt_by_hour</span></code>.</p>
<figure class="align-center" id="id36">
<span id="vmt-by-hour"></span><img alt="prereise/demand/transportation_electrification/demand/transportation_electrification/img/methodology/vmt_by_hour.png" src="prereise/demand/transportation_electrification/demand/transportation_electrification/img/methodology/vmt_by_hour.png" />
<figcaption>
<p><span class="caption-text">Light-duty vehicle/truck miles traveled by hour of the day for weekends and weekdays</span><a class="headerlink" href="#id36" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<p>Similarly, Figure <code class="xref std std-numref docutils literal notranslate"><span class="pre">dwelling_over_24h</span></code> illustrates the percentage of vehicles
parked and able to charge at each hour over a 24-hour period.</p>
<figure class="align-center" id="id37">
<span id="dwelling-over-24h"></span><img alt="prereise/demand/transportation_electrification/demand/transportation_electrification/img/methodology/dwelling_over_24h.png" src="prereise/demand/transportation_electrification/demand/transportation_electrification/img/methodology/dwelling_over_24h.png" />
<figcaption>
<p><span class="caption-text">Status of dwelling vehicles over 24-hour period</span><a class="headerlink" href="#id37" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<p>The flowchart in <code class="xref std std-numref docutils literal notranslate"><span class="pre">trip_patterns_flowchart</span></code> illustrates the entire procedure.</p>
<figure class="align-default" id="id38">
<span id="trip-patterns-flowchart"></span><div class="mermaid">
            flowchart TD
   subgraph main[ ]
     subgraph input[ ]
       A(Input: NHTS trip data for LDV/LDT)
       B(Input: Anonymized trip data for MDV/HDV)
     end
     A==&gt;C(Divide into census region)
     C==&gt;D(Create weekday and weekend pattern of typical vehicle trips)
     B==&gt;D
     D==&gt;E(&quot;Filter trips by range [0,100, 0,200, 0,300] miles&quot;)
     E==&gt;F(Create weekday and weekend pattern of BEV-capable trips)
   end

   class input white_no_border
   class main,A,B,C,D,E,F white
   classDef white fill:#ffffff,stroke:#333,stroke-width:3px
   classDef white_no_border fill:#ffffff,stroke:#333,stroke-width:0px
        </div><figcaption>
<p><span class="caption-text">Workflow from input trip data to weekday and weekend trip patterns</span><a class="headerlink" href="#id38" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<p>These daily BEV-capable trip patterns are then further distributed temporally and
spatially, as discussed in more detail in <code class="xref std std-numref docutils literal notranslate"><span class="pre">annual_vehicle_miles_traveled</span></code>.
State-level and UA VMT per capita were taken from the Department of Transportation’s
transportation health tool and create the distribution across rural and urban areas, as
defined by the U.S. Census Bureau <a href="#id1"><span class="problematic" id="id2">:cite:p:`DoT_transportation_health_tool`</span></a>,
<a href="#id3"><span class="problematic" id="id4">:cite:p:`CB_urban_rural_classification`</span></a>. Weight factors from the U.S. EPA model, MOVES,
create the time-of-year scaling of weekday versus weekend and month of the year
<a href="#id5"><span class="problematic" id="id6">:cite:p:`EPA_moves`</span></a>.</p>
<p>Projections from NREL’s EFS provide the adoption rate scaling of BEV demand to create
the base-year and simulation-year profiles of BEV-capable trip patterns
<a href="#id7"><span class="problematic" id="id8">:cite:p:`NREL_electric_technology_adoption`</span></a>. Total charging demand by area (urban and
rural) is scaled based on state-level BEV VMT projections from NREL’s EFS.  As more
granular BEV projections become available, scaling projections could be targeted to
specific urban and rural areas given the model’s structure. The procedure is shown in
<code class="xref std std-numref docutils literal notranslate"><span class="pre">dynamics_flowchart</span></code>.</p>
<figure class="align-default" id="id39">
<span id="dynamics-flowchart"></span><div class="mermaid">
            flowchart LR
   subgraph main[ ]
     direction TB
     subgraph start[ ]
       A(Weekday and weekend pattern &lt;br&gt; of BEV-capable trips)
     end
     subgraph input[ ]
       direction LR
       B(Input: census population data &lt;br&gt; for urban area and states)
       C(Input: DoT Transportation and Health Tool's &lt;br&gt; VMT per capita for urban areas and states)
       B------C
     end
     A====input
     D(Convert state-level VMT per capita into one &lt;br&gt; year's total of urban and rural driving for each state)
     input==&gt;D
     subgraph middle[ ]
       direction LR
       E(Annual amount of VMT is distributed &lt;br&gt; across weeks and months based on &lt;br&gt; driving data from EPA's MOVES)
       F(Input: EPA's MOVES for weekday/weekend &lt;br&gt; and monthly VMT distributions)
       F----E
     end
       D==&gt;middle
     subgraph last[ ]
       direction LR
       G(Create a base-year and simulation-year profile &lt;br&gt; of BEV-capable trips by scaling annual VMT &lt;br&gt; to match NREL's EFS projections)
       H(Input: NREL's EFS projections of &lt;br&gt; future BEV adoption rates)
       H----G
     end
     middle==&gt;last
   end

   class main,A,input,B,C,D,middle,E,F,last,G,H white
   class start white_no_border
   classDef white fill:#ffffff,stroke:#333,stroke-width:3px
   classDef white_no_border fill:#ffffff,stroke:#333,stroke-width:0px
        </div><figcaption>
<p><span class="caption-text">Workflow from weekday and weekend trip patterns to annual VMT pattern</span><a class="headerlink" href="#id39" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<p>Algorithmically, these projections are modeled by making multiple copies of individual
trips, as illustrated in <code class="xref std std-numref docutils literal notranslate"><span class="pre">scaling_process_vehicle_trip</span></code>, which are used in the
smart charging algorithm.</p>
<figure class="align-center" id="id40">
<span id="scaling-process-vehicle-trip"></span><img alt="prereise/demand/transportation_electrification/demand/transportation_electrification/img/methodology/scaling_process_vehicle_trip.png" src="prereise/demand/transportation_electrification/demand/transportation_electrification/img/methodology/scaling_process_vehicle_trip.png" />
<figcaption>
<p><span class="caption-text">Scaling process of vehicle trip</span><a class="headerlink" href="#id40" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<p>With the projected BEV vehicle trips in place, NREL’s EFS is again used to set the fuel
efficiency for the simulated year to determine the amount of electricity needed to
charge after each BEV trip.  Then, the charging model uses one of two charging algorithm
strategies: immediate (uncoordinated) charging and smart (optimal) charging, with
example illustrations shown in <code class="xref std std-numref docutils literal notranslate"><span class="pre">immediate_charging_result</span></code> and
<code class="xref std std-numref docutils literal notranslate"><span class="pre">smart_charging_result</span></code>. Both algorithms are deterministic and directly utilize
the input vehicle trip data to calculate the charging demand based on vehicle travel
distances, dwell locations, and user defined infrastructure parameters. The Smart
Charging algorithm currently uses an optimization function to minimize wholesale prices
via flattening the net load curve. Incorporating additional optimization goals that will
change the cost function, such as minimizing individual vehicle costs in response to
time-varying utility rate structures, could be explored in future work. For the Smart
Charging algorithm, each representative vehicle sequentially sets its charging pattern
in response to the optimization function as well as an aggregate load profile. That
vehicle’s additional charging load is then added to the aggregate load profile, which is
then sent to the next vehicle as an input to its smart charging decision. The aggregate
profile of electricity demand from all smart-charging BEVs is then simply the sum across
all vehicles (see <code class="xref std std-numref docutils literal notranslate"><span class="pre">demand_calculation_flowchart</span></code>).</p>
<figure class="align-default" id="id41">
<span id="demand-calculation-flowchart"></span><div class="mermaid">
            flowchart TB
   subgraph main[ ]
     direction TB
     subgraph input[ ]
       direction RL
       A(Base-year and simulation-year &lt;br&gt; profile of BEV trips)
       B(Input: NREL's EFS for fuel efficiency &lt;br&gt; projections by vehicle type)
       B----&gt;A
      end
      C(Fuel efficiency projections determine &lt;br&gt; charging needed after each vehicle trip)
     input==&gt;C
     D(Charging algorithm: immediate and smart)
     C==&gt;D
     E(Create a simulation-year profile &lt;br&gt; of electricity demand from &lt;br&gt; transportation electrification)
     D==&gt;E
   end

   class main,input,A,B,C,D,E white
   classDef white fill:#ffffff,stroke:#333,stroke-width:3px
   classDef white_no_border fill:#ffffff,stroke:#333,stroke-width:0px
        </div><figcaption>
<p><span class="caption-text">Workflow from the annual VMT pattern to the additional electricity demand from the BEV charging profiles</span><a class="headerlink" href="#id41" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<section id="immediate-and-smart-charging-example-outputs">
<h3>Immediate and Smart Charging Example Outputs<a class="headerlink" href="#immediate-and-smart-charging-example-outputs" title="Permalink to this heading">¶</a></h3>
<p>Immediate Charging refers to full power charging at time of plug-in until full capacity
reached or car unplugged, whichever comes first.</p>
<figure class="align-center" id="id42">
<span id="immediate-charging-result"></span><img alt="prereise/demand/transportation_electrification/demand/transportation_electrification/img/methodology/immediate_charging_result.png" src="prereise/demand/transportation_electrification/demand/transportation_electrification/img/methodology/immediate_charging_result.png" />
<figcaption>
<p><span class="caption-text">Notional results for immediate charging algorithm, with charging hours within the
bracket</span><a class="headerlink" href="#id42" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<p>Smart charging refers to coordinated charging, where drivers provide information on
their travel schedule and charging demand to the electric grid operator.</p>
<figure class="align-center" id="id43">
<span id="smart-charging-result"></span><img alt="prereise/demand/transportation_electrification/demand/transportation_electrification/img/methodology/smart_charging_result.png" src="prereise/demand/transportation_electrification/demand/transportation_electrification/img/methodology/smart_charging_result.png" />
<figcaption>
<p><span class="caption-text">Notional results for smart charging algorithm, with charging hours within the
bracket</span><a class="headerlink" href="#id43" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<p><strong>Example Output – Immediate Charging</strong>. Immediate Charging refers to full power
charging at time of plug-in until the battery is full or until the vehicle departs on
the next driving trip. <code class="xref std std-numref docutils literal notranslate"><span class="pre">ldv_immediate_charging_output</span></code> presents a normalized,
unscaled LDV charging demand alongside a normalization of the underlying
non-transportation base demand (note: the normalization of the charging profile uses the
sum of a full year of charging from the sample vehicles as the denominator).  Notice how
the uncoordinated charging pattern aligns with the underlying non-transportation base
demand.</p>
<p>From there, this normalized profile is then scaled based on the parameters for the
desired simulation year, with an example output shown in
<code class="xref std std-numref docutils literal notranslate"><span class="pre">example_ldv_immediate_load</span></code>. These parameters include the projected VMT for the
simulated year, the fuel efficiency projection (e.g. number of kWh consumed per mile
traveled), and the efficiency of the charging process. Notice that the peak demand
increases due to the uncoordinated charging pattern.</p>
<figure class="align-center" id="id44">
<span id="ldv-immediate-charging-output"></span><img alt="prereise/demand/transportation_electrification/demand/transportation_electrification/img/methodology/ldv_immediate_charging_output.png" src="prereise/demand/transportation_electrification/demand/transportation_electrification/img/methodology/ldv_immediate_charging_output.png" />
<figcaption>
<p><span class="caption-text">Normalized LDV Immediate Charging output for 1 example week</span><a class="headerlink" href="#id44" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<p><strong>Example Output – Smart Charging</strong>. Smart charging refers to coordinated charging,
where drivers provide information on their travel schedule and charging demand to the
electric grid operator. Vehicle charging is optimized based on cost (e.g., time-of-use
rates), grid support needs, travel considerations, and vehicle constraints.
<code class="xref std std-numref docutils literal notranslate"><span class="pre">ldv_smart_charging_output</span></code> presents a normalized, unscaled LDV smart charging
demand alongside a normalization of the underlying non-transportation base demand.
Notice how in this case the smart charging pattern no longer aligns with the underlying
non-transportation base demand. <code class="xref std std-numref docutils literal notranslate"><span class="pre">example_ldv_smart_load</span></code> shows an example of the
results from LDV smart charging at scale that was optimized for grid support needs by
flattening net demand (e.g. “filling in the valleys”).</p>
<figure class="align-center" id="id45">
<span id="ldv-smart-charging-output"></span><img alt="prereise/demand/transportation_electrification/demand/transportation_electrification/img/methodology/ldv_smart_charging_output.png" src="prereise/demand/transportation_electrification/demand/transportation_electrification/img/methodology/ldv_smart_charging_output.png" />
<figcaption>
<p><span class="caption-text">Normalized LDV Smart Charging output for 1 example week</span><a class="headerlink" href="#id45" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
</section>
</section>
<section id="vehicle-travel-patterns">
<span id="id9"></span><h2>Vehicle Travel Patterns<a class="headerlink" href="#vehicle-travel-patterns" title="Permalink to this heading">¶</a></h2>
<section id="light-duty-travel-patterns">
<h3>Light-duty Travel patterns<a class="headerlink" href="#light-duty-travel-patterns" title="Permalink to this heading">¶</a></h3>
<p>The 2017 National Household Travel Survey (NHTS) documents the light-duty vehicle and
light-duty truck travel patterns (<a class="reference external" href="https://nhts.ornl.gov/">https://nhts.ornl.gov/</a>). Data from the NHTS 2017
<code class="docutils literal notranslate"><span class="pre">trippub.csv</span></code> dataset were filtered to identify all vehicle trips. Relevant data were
then divided into nine datasets, one for each Census Division, as defined within the
dataset, see <code class="xref std std-numref docutils literal notranslate"><span class="pre">census_divisions_table</span></code>.</p>
<span id="census-divisions-table"></span><table class="docutils align-default" id="id46">
<caption><span class="caption-text">Census divisions</span><a class="headerlink" href="#id46" title="Permalink to this table">¶</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Division Number</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>States Included</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>01</p></td>
<td><p>New England</p></td>
<td><p>CT, MA, ME, NH, RI, VT</p></td>
</tr>
<tr class="row-odd"><td><p>02</p></td>
<td><p>Middle Atlantic</p></td>
<td><p>PA, NJ, NY</p></td>
</tr>
<tr class="row-even"><td><p>03</p></td>
<td><p>East North Central</p></td>
<td><p>IL, IN, MI, OH, WI</p></td>
</tr>
<tr class="row-odd"><td><p>04</p></td>
<td><p>West North Central</p></td>
<td><p>IA, KS, MN, MO, ND, NE, SD</p></td>
</tr>
<tr class="row-even"><td><p>05</p></td>
<td><p>South Atlantic</p></td>
<td><p>DE, FL, GA, MD, NC, SC, VA, WV, (DC)</p></td>
</tr>
<tr class="row-odd"><td><p>06</p></td>
<td><p>East South Central</p></td>
<td><p>AL, KY, MS, TN</p></td>
</tr>
<tr class="row-even"><td><p>07</p></td>
<td><p>West South Central</p></td>
<td><p>AR, LA, OK, TX</p></td>
</tr>
<tr class="row-odd"><td><p>08</p></td>
<td><p>Mountain</p></td>
<td><p>AZ, CO, ID, MT, NM, NV, UT, WY</p></td>
</tr>
<tr class="row-even"><td><p>09</p></td>
<td><p>Pacific</p></td>
<td><p>AK, CA, HI, OR, WA</p></td>
</tr>
</tbody>
</table>
<p>The definition for each column in the final datasets is in
<code class="xref std std-numref docutils literal notranslate"><span class="pre">nhts_trip_dataset_table</span></code>. Columns 1-20 are taken directly from the NHTS
dataset, and columns 21-28 are calculated values based on the preceding columns.</p>
<span id="nhts-trip-dataset-table"></span><table class="docutils align-default" id="id47">
<caption><span class="caption-text">Columns in modified NHTS trip Dataset</span><a class="headerlink" href="#id47" title="Permalink to this table">¶</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Column</p></th>
<th class="head"><p>Variable</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>Household</p></td>
</tr>
<tr class="row-odd"><td><p>2</p></td>
<td><p>Vehicle ID</p></td>
</tr>
<tr class="row-even"><td><p>3</p></td>
<td><p>Person ID</p></td>
</tr>
<tr class="row-odd"><td><p>4</p></td>
<td><p>Scaling Factor Applied</p></td>
</tr>
<tr class="row-even"><td><p>5</p></td>
<td><p>Trip Number</p></td>
</tr>
<tr class="row-odd"><td><p>6</p></td>
<td><p>Date (YYYYMM)</p></td>
</tr>
<tr class="row-even"><td><p>7</p></td>
<td><p>Day of Week (1 - 7)</p></td>
</tr>
<tr class="row-odd"><td><p>8</p></td>
<td><p>If Weekend</p></td>
</tr>
<tr class="row-even"><td><p>9</p></td>
<td><p>Trip Start Time (HHMM)</p></td>
</tr>
<tr class="row-odd"><td><p>10</p></td>
<td><p>Trip End Time (HHMM)</p></td>
</tr>
<tr class="row-even"><td><p>11</p></td>
<td><p>Travel Minutes</p></td>
</tr>
<tr class="row-odd"><td><p>12</p></td>
<td><p>Dwell Time</p></td>
</tr>
<tr class="row-even"><td><p>13</p></td>
<td><p>Miles Traveled</p></td>
</tr>
<tr class="row-odd"><td><p>14</p></td>
<td><p>Vehicle Miles Traveled</p></td>
</tr>
<tr class="row-even"><td><p>15</p></td>
<td><p>Why From</p></td>
</tr>
<tr class="row-odd"><td><p>16</p></td>
<td><p>Why To</p></td>
</tr>
<tr class="row-even"><td><p>17</p></td>
<td><p>Vehicle Type (1-4 LDV, 5+ LDT)</p></td>
</tr>
<tr class="row-odd"><td><p>18</p></td>
<td><p>Household Vehicle Count</p></td>
</tr>
<tr class="row-even"><td><p>19</p></td>
<td><p>Household Size</p></td>
</tr>
<tr class="row-odd"><td><p>20</p></td>
<td><p>Trip Type</p></td>
</tr>
<tr class="row-even"><td><p>21</p></td>
<td><p>Start Time (hour decimal)</p></td>
</tr>
<tr class="row-odd"><td><p>22</p></td>
<td><p>End Time (hour decimal)</p></td>
</tr>
<tr class="row-even"><td><p>23</p></td>
<td><p>Dwell Time (hour decimal)</p></td>
</tr>
<tr class="row-odd"><td><p>24</p></td>
<td><p>Travel Time (hour decimal)</p></td>
</tr>
<tr class="row-even"><td><p>25</p></td>
<td><p>Vehicle Speed (mi/hour)</p></td>
</tr>
<tr class="row-odd"><td><p>26</p></td>
<td><p>Sample Vehicle Number</p></td>
</tr>
<tr class="row-even"><td><p>27</p></td>
<td><p>Total Vehicle Trips</p></td>
</tr>
<tr class="row-odd"><td><p>28</p></td>
<td><p>Total Vehicle Miles Traveled</p></td>
</tr>
</tbody>
</table>
<p>Total vehicle trips variable refers to the total number of trips a single vehicle takes
in the sample window (24 hours). Trips are divided into weekday and weekend trips. The
resulting charging profile for each day type is replicated across the year, i.e., each
weekday and each weekend are the same set of trips across the year.
<code class="xref std std-numref docutils literal notranslate"><span class="pre">trip_count_table</span></code> presents the total number of trips in the trip datasets for
each vehicle category. The weekday and weekend trips are weighted based on the MOVES
weight factors. The charging demand is scaled up and down further based on the MOVES
monthly weight factors depending on the month of the year.</p>
<span id="trip-count-table"></span><table class="docutils align-default" id="id48">
<caption><span class="caption-text">Trip count by vehicle category, census division, and day of week</span><a class="headerlink" href="#id48" title="Permalink to this table">¶</a></caption>
<thead>
<tr class="row-odd"><th class="head" rowspan="2"><p>Vehicle Category</p></th>
<th class="head" rowspan="2"><p>Census Division</p></th>
<th class="head" colspan="2"><p>Trip Count</p></th>
</tr>
<tr class="row-even"><th class="head"><p>Weekday</p></th>
<th class="head"><p>Weekend</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><td rowspan="9"><p>LDV</p></td>
<td><p>01</p></td>
<td><p>3979</p></td>
<td><p>1235</p></td>
</tr>
<tr class="row-even"><td><p>02</p></td>
<td><p>32831</p></td>
<td><p>10664</p></td>
</tr>
<tr class="row-odd"><td><p>03</p></td>
<td><p>30815</p></td>
<td><p>5116</p></td>
</tr>
<tr class="row-even"><td><p>04</p></td>
<td><p>8962</p></td>
<td><p>2885</p></td>
</tr>
<tr class="row-odd"><td><p>05</p></td>
<td><p>58173</p></td>
<td><p>9620</p></td>
</tr>
<tr class="row-even"><td><p>06</p></td>
<td><p>2294</p></td>
<td><p>611</p></td>
</tr>
<tr class="row-odd"><td><p>07</p></td>
<td><p>52982</p></td>
<td><p>7818</p></td>
</tr>
<tr class="row-even"><td><p>08</p></td>
<td><p>9127</p></td>
<td><p>2033</p></td>
</tr>
<tr class="row-odd"><td><p>09</p></td>
<td><p>53554</p></td>
<td><p>16386</p></td>
</tr>
<tr class="row-even"><td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td rowspan="9"><p>LDT</p></td>
<td><p>01</p></td>
<td><p>2881</p></td>
<td><p>935</p></td>
</tr>
<tr class="row-even"><td><p>02</p></td>
<td><p>29513</p></td>
<td><p>9347</p></td>
</tr>
<tr class="row-odd"><td><p>03</p></td>
<td><p>31788</p></td>
<td><p>5478</p></td>
</tr>
<tr class="row-even"><td><p>04</p></td>
<td><p>10157</p></td>
<td><p>2960</p></td>
</tr>
<tr class="row-odd"><td><p>05</p></td>
<td><p>58900</p></td>
<td><p>9465</p></td>
</tr>
<tr class="row-even"><td><p>06</p></td>
<td><p>2416</p></td>
<td><p>678</p></td>
</tr>
<tr class="row-odd"><td><p>07</p></td>
<td><p>60929</p></td>
<td><p>8530</p></td>
</tr>
<tr class="row-even"><td><p>08</p></td>
<td><p>10006</p></td>
<td><p>2084</p></td>
</tr>
<tr class="row-odd"><td><p>09</p></td>
<td><p>40161</p></td>
<td><p>12116</p></td>
</tr>
<tr class="row-even"><td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>MDV</p></td>
<td><p>All</p></td>
<td><p>8302</p></td>
<td><p>same</p></td>
</tr>
<tr class="row-even"><td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>HDV</p></td>
<td><p>All</p></td>
<td><p>8407</p></td>
<td><p>same</p></td>
</tr>
</tbody>
</table>
</section>
<section id="medium-and-heavy-duty-vehicles">
<h3>Medium- and Heavy-duty Vehicles<a class="headerlink" href="#medium-and-heavy-duty-vehicles" title="Permalink to this heading">¶</a></h3>
<p>The construction of the original representative datasets is described in
<a href="#id10"><span class="problematic" id="id11">:cite:p:`2020:forest`</span></a>.</p>
<p>The following is a description of the data that are rendered from the initial,
representative HDV dataset.</p>
<ol class="arabic simple">
<li><p>Trip times, trip count, and miles traveled – data on trips was taken from the
original trip datasets and scaled to align with known statistics for the target
region.  Only trip count, times, and miles traveled were included. Information on
locations, vehicle identity, vehicle class, and vocation are excluded.</p></li>
<li><p>Dwell location – dwell locations are simplified to being either a “home base
location” or not. Home base locations are defined as depots that are owned, managed,
and/or under contract with the same entity as the fleet vehicle.</p></li>
<li><p>Trip start and stop times – travel and dwell times by time of day.</p></li>
</ol>
<p>The final data table structure is presented in <code class="xref std std-numref docutils literal notranslate"><span class="pre">mdv_and_hdv_trip_dataset</span></code>. Each
row of the data table is a unique trip taken by the specified vehicle.</p>
<span id="mdv-and-hdv-trip-dataset"></span><table class="docutils align-default" id="id49">
<caption><span class="caption-text">Columns in modified MDV and HDV trip datasets</span><a class="headerlink" href="#id49" title="Permalink to this table">¶</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Column</p></th>
<th class="head"><p>Variable</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>Vehicle Number</p></td>
<td><p>Unique vehicle number</p></td>
</tr>
<tr class="row-odd"><td><p>2</p></td>
<td><p>Trip Number</p></td>
<td><p>Current trip number of vehicle</p></td>
</tr>
<tr class="row-even"><td><p>3</p></td>
<td><p>Destination (home base or not)</p></td>
<td><p>Where the trip ends, 1 = home base,
2 = not home base</p></td>
</tr>
<tr class="row-odd"><td><p>4</p></td>
<td><p>Trip Distance</p></td>
<td><p>Miles traveled in the trip</p></td>
</tr>
<tr class="row-even"><td><p>5</p></td>
<td><p>Trip Start</p></td>
<td><p>Time of trip start</p></td>
</tr>
<tr class="row-odd"><td><p>6</p></td>
<td><p>Trip End</p></td>
<td><p>Time of trip end</p></td>
</tr>
<tr class="row-even"><td><p>7</p></td>
<td><p>Dwell Time</p></td>
<td><p>Length of time vehicle parked between
trips</p></td>
</tr>
<tr class="row-odd"><td><p>8</p></td>
<td><p>Trip Time</p></td>
<td><p>Length of travel time</p></td>
</tr>
<tr class="row-even"><td><p>9</p></td>
<td><p>Total Vehicle Trips</p></td>
<td><p>Total count of trips taken by the
identified vehicle in the time window</p></td>
</tr>
<tr class="row-odd"><td><p>10</p></td>
<td><p>Total Vehicle Miles</p></td>
<td><p>Total vehicle miles traveled by
vehicle in time window</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="annual-vehicle-miles-traveled">
<span id="id12"></span><h2>Annual Vehicle Miles Traveled<a class="headerlink" href="#annual-vehicle-miles-traveled" title="Permalink to this heading">¶</a></h2>
<p>The model is structured for a single base year (2017) and 33 future years (2018-2050).
Each year is unique based on vehicle miles traveled (VMT) and fuel economy (miles per
gallon of gasoline equivalent, mi/GGE), which together determine annual vehicle
electricity demand. The base year and future projections of battery electric vehicle
miles traveled are taken from NREL’s EFS <a href="#id13"><span class="problematic" id="id14">:cite:p:`NREL_electric_technology_adoption`</span></a>. BEV
VMT is divided into VMT occurring in UAs and RAs. UA is a term assigned by the U.S.
Census Bureau and is described as areas with a population of 50,000 people or more
<a href="#id15"><span class="problematic" id="id16">:cite:p:`CB_urban_rural_classification`</span></a>. Other years are available from NREL, if
desired.</p>
<section id="electric-vehicle-miles-traveled-projections-by-urban-and-rural-area">
<span id="electric-vehicle-miles-traveled-projections"></span><h3>Electric Vehicle Miles Traveled Projections by Urban and Rural Area<a class="headerlink" href="#electric-vehicle-miles-traveled-projections-by-urban-and-rural-area" title="Permalink to this heading">¶</a></h3>
<p>VMT per capita for each state and UA was taken from the Department of Transportation’s
transportation health tool <a href="#id17"><span class="problematic" id="id18">:cite:p:`DoT_transportation_health_tool`</span></a>. To determine total
state VMT, state population was taken from Census data and was multiplied by the above
state VMT per capita data <a href="#id19"><span class="problematic" id="id20">:cite:p:`DoT_transportation_health_tool`</span></a>
<a href="#id21"><span class="problematic" id="id22">:cite:p:`CB_urban_rural_classification`</span></a>. Then, to calculate the fraction of total state
VMT that is allocated to each UA and RA, the UA population was also pulled from Census
data <a href="#id23"><span class="problematic" id="id24">:cite:p:`CB_urban_rural_classification`</span></a>. From there, the UA population was
multiplied by UA VMT per capita to get total UA VMT. Lastly, UA VMT is subtracted from
state VMT to determine the RA VMT for the state. These calculations are summarized
below:</p>
<div class="math notranslate nohighlight">
\[V_{\rm state} = A_{\rm state} \times P_{\rm state}\]</div>
<div class="line-block">
<div class="line">where:</div>
<div class="line"><span class="math notranslate nohighlight">\(V_{\rm state}\)</span> is the state VMT,</div>
<div class="line"><span class="math notranslate nohighlight">\(A_{\rm state}\)</span> is the VMT per capita,</div>
<div class="line"><span class="math notranslate nohighlight">\(P_{\rm state}\)</span> is the state population.</div>
</div>
<div class="math notranslate nohighlight">
\[V_{\rm UA} = A_{\rm UA} \times P_{\rm UA}\]</div>
<div class="line-block">
<div class="line">where:</div>
<div class="line"><span class="math notranslate nohighlight">\(V_{\rm UA}\)</span> is the urban area VMT,</div>
<div class="line"><span class="math notranslate nohighlight">\(A_{\rm UA}\)</span> is the VMT per capita,</div>
<div class="line"><span class="math notranslate nohighlight">\(P_{\rm UA}\)</span> is the urban area population.</div>
</div>
<div class="math notranslate nohighlight">
\[V_{\rm RA} = A_{\rm state} - \sum V_{\rm UA}\]</div>
<div class="line-block">
<div class="line">where:</div>
<div class="line"><span class="math notranslate nohighlight">\(V_{\rm RA}\)</span> is the rural area VMT.</div>
</div>
</section>
<section id="monthly-and-daily-weight-factors">
<h3>Monthly and Daily Weight Factors<a class="headerlink" href="#monthly-and-daily-weight-factors" title="Permalink to this heading">¶</a></h3>
<p>Along with the rural/urban distribution, the default scenarios also use weekday/weekend
and monthly weight factors to distribute annual VMT. These weight factors come directly
from the U.S. EPA’s MOVES model <a href="#id25"><span class="problematic" id="id26">:cite:p:`EPA_moves`</span></a>. The weight factor values are listed
in <code class="xref std std-numref docutils literal notranslate"><span class="pre">weekday_vs_weekend_weight_table</span></code> and <code class="xref std std-numref docutils literal notranslate"><span class="pre">month_weight_table</span></code>.</p>
<span id="weekday-vs-weekend-weight-table"></span><table class="docutils align-default" id="id50">
<caption><span class="caption-text">Weekday versus weekend weight factors</span><a class="headerlink" href="#id50" title="Permalink to this table">¶</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Day Type</p></th>
<th class="head"><p>Rural</p></th>
<th class="head"><p>Urban</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Weekday (divided over 5 days)</p></td>
<td><p>0.72118</p></td>
<td><p>0.762365</p></td>
</tr>
<tr class="row-odd"><td><p>Weekend (divided over 2 days)</p></td>
<td><p>0.27882</p></td>
<td><p>0.237635</p></td>
</tr>
</tbody>
</table>
<span id="month-weight-table"></span><table class="docutils align-default" id="id51">
<caption><span class="caption-text">Month weight factors</span><a class="headerlink" href="#id51" title="Permalink to this table">¶</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Month</p></th>
<th class="head"><p>Weight Factor</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>January</p></td>
<td><p>0.0731</p></td>
</tr>
<tr class="row-odd"><td><p>February</p></td>
<td><p>0.0697</p></td>
</tr>
<tr class="row-even"><td><p>March</p></td>
<td><p>0.0817</p></td>
</tr>
<tr class="row-odd"><td><p>April</p></td>
<td><p>0.0823</p></td>
</tr>
<tr class="row-even"><td><p>May</p></td>
<td><p>0.0875</p></td>
</tr>
<tr class="row-odd"><td><p>June</p></td>
<td><p>0.0883</p></td>
</tr>
<tr class="row-even"><td><p>July</p></td>
<td><p>0.0923</p></td>
</tr>
<tr class="row-odd"><td><p>August</p></td>
<td><p>0.0934</p></td>
</tr>
<tr class="row-even"><td><p>September</p></td>
<td><p>0.0847</p></td>
</tr>
<tr class="row-odd"><td><p>October</p></td>
<td><p>0.0865</p></td>
</tr>
<tr class="row-even"><td><p>November</p></td>
<td><p>0.0802</p></td>
</tr>
<tr class="row-odd"><td><p>December</p></td>
<td><p>0.0802</p></td>
</tr>
</tbody>
</table>
</section>
<section id="bev-vmt-projections">
<span id="id27"></span><h3>BEV VMT Projections<a class="headerlink" href="#bev-vmt-projections" title="Permalink to this heading">¶</a></h3>
<p>To calculate the BEV VMT by vehicle class for each UA, state-level BEV VMT projections
were based on NREL’s EFS for 8 vehicle types
<a href="#id28"><span class="problematic" id="id29">:cite:p:`NREL_electric_technology_adoption`</span></a>:</p>
<ol class="arabic simple">
<li><p>LDV BEV Cars: 100 mi, 200 mi, 300 mi</p></li>
<li><p>LDV BEV Trucks: 100 mi, 200 mi, 300 mi</p></li>
<li><p>MDV Trucks</p></li>
<li><p>HDV Trucks</p></li>
</ol>
<p>Projections were used for 2018-2050. The 2017 base year assumptions were calibrated
based on historical data. For all years, BEV VMT at the state level was translated to
BEV VMT at the UA level by multiplying the state-level projections by the fraction of
state VMT allocated to each UA. It is assumed that the proportion of VMT occurring in
urban areas relative to total state VMT will be constant moving into the future. There
are some UAs that did not have VMT data. Out of 481 UAs, 56 did not have VMT per capita
data from the DOT, so those entries will use their respective state’s VMT per capita.</p>
<p>Once each UA and the state’s RA have their projected annual VMT for a simulation year,
the annual VMT is distributed to each day of the year based on weight factors from U.S.
EPA MOVES model, see <code class="xref std std-numref docutils literal notranslate"><span class="pre">scaling_table</span></code>. Each daily weight factor represents the
fraction of annual VMT that is traveled in that specific day. The daily weight factors
vary by month, whether the VMT is in a UA or a RA, and whether the day is a weekday or
a weekend day. For example, within a given urban area all weekdays in January have the
same weight factor and therefore the same allocated VMT.</p>
<span id="scaling-table"></span><table class="docutils align-default" id="id52">
<caption><span class="caption-text">Urban and rural scaling factors by month and weekday vs weekend</span><a class="headerlink" href="#id52" title="Permalink to this table">¶</a></caption>
<thead>
<tr class="row-odd"><th class="head"></th>
<th class="head" colspan="2"><p>Urban</p></th>
<th class="head" colspan="2"><p>Rural</p></th>
</tr>
<tr class="row-even"><th class="head"><p>Month</p></th>
<th class="head"><p>Weekday</p></th>
<th class="head"><p>Weekend</p></th>
<th class="head"><p>Weekday</p></th>
<th class="head"><p>Weekend</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><td><p>January</p></td>
<td><p>0.00252</p></td>
<td><p>0.00196</p></td>
<td><p>0.00238</p></td>
<td><p>0.00230</p></td>
</tr>
<tr class="row-even"><td><p>February</p></td>
<td><p>0.00266</p></td>
<td><p>0.00207</p></td>
<td><p>0.00251</p></td>
<td><p>0.00243</p></td>
</tr>
<tr class="row-odd"><td><p>March</p></td>
<td><p>0.00279</p></td>
<td><p>0.00218</p></td>
<td><p>0.00266</p></td>
<td><p>0.00257</p></td>
</tr>
<tr class="row-even"><td><p>April</p></td>
<td><p>0.00296</p></td>
<td><p>0.00231</p></td>
<td><p>0.00268</p></td>
<td><p>0.00277</p></td>
</tr>
<tr class="row-odd"><td><p>May</p></td>
<td><p>0.00299</p></td>
<td><p>0.00233</p></td>
<td><p>0.00285</p></td>
<td><p>0.00275</p></td>
</tr>
<tr class="row-even"><td><p>June</p></td>
<td><p>0.00313</p></td>
<td><p>0.00244</p></td>
<td><p>0.00297</p></td>
<td><p>0.00287</p></td>
</tr>
<tr class="row-odd"><td><p>July</p></td>
<td><p>0.00321</p></td>
<td><p>0.00250</p></td>
<td><p>0.00301</p></td>
<td><p>0.00291</p></td>
</tr>
<tr class="row-even"><td><p>August</p></td>
<td><p>0.00319</p></td>
<td><p>0.00249</p></td>
<td><p>0.00304</p></td>
<td><p>0.00294</p></td>
</tr>
<tr class="row-odd"><td><p>September</p></td>
<td><p>0.00302</p></td>
<td><p>0.00236</p></td>
<td><p>0.00285</p></td>
<td><p>0.00276</p></td>
</tr>
<tr class="row-even"><td><p>October</p></td>
<td><p>0.00298</p></td>
<td><p>0.00232</p></td>
<td><p>0.00282</p></td>
<td><p>0.00272</p></td>
</tr>
<tr class="row-odd"><td><p>November</p></td>
<td><p>0.00284</p></td>
<td><p>0.00221</p></td>
<td><p>0.00270</p></td>
<td><p>0.00261</p></td>
</tr>
<tr class="row-even"><td><p>December</p></td>
<td><p>0.00279</p></td>
<td><p>0.00217</p></td>
<td><p>0.00262</p></td>
<td><p>0.00253</p></td>
</tr>
</tbody>
</table>
<p>The trip data are scaled based on the allocated daily VMT. The daily patterns are
adjusted by scaling the VMT of each trip within the daily patterns so that the total
across the simulation matches the Annual VMT projection for each state.</p>
</section>
<section id="fuel-efficiency-projections">
<span id="id30"></span><h3>Fuel Efficiency Projections<a class="headerlink" href="#fuel-efficiency-projections" title="Permalink to this heading">¶</a></h3>
<p>NREL’s Electrification Futures Study also projects average BEV fuel economy over time,
based on assumptions regarding technology improvements and vehicle range
<a href="#id31"><span class="problematic" id="id32">:cite:p:`NREL_efs`</span></a>. NREL provides a range of possible BEV fuel economies (“Slow
Advancement”, “Moderate Advancement”, and “Rapid Advancement”). The charging model uses
the “Moderate Advancement” values as the default fuel economy for each vehicle category
and year, as shown in <code class="xref std std-numref docutils literal notranslate"><span class="pre">bev_fuel_economy_table</span></code>.</p>
<span id="bev-fuel-economy-table"></span><table class="docutils align-default" id="id53">
<caption><span class="caption-text">Default BEV fuel economy by vehicle category and year</span><a class="headerlink" href="#id53" title="Permalink to this table">¶</a></caption>
<thead>
<tr class="row-odd"><th class="head" rowspan="2"><p>Vehicle Type</p></th>
<th class="head" colspan="5"><p>Fuel Economy (mile/GGE)</p></th>
</tr>
<tr class="row-even"><th class="head"><p>2017-2019</p></th>
<th class="head"><p>2020-2024</p></th>
<th class="head"><p>2025-2034</p></th>
<th class="head"><p>2035-2044</p></th>
<th class="head"><p>2045-2050</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><td><p>LDV BEV cars, 100 mile range</p></td>
<td><p>103</p></td>
<td><p>117</p></td>
<td><p>137</p></td>
<td><p>153</p></td>
<td><p>159</p></td>
</tr>
<tr class="row-even"><td><p>LDV BEV cars, 200 mile range</p></td>
<td><p>97</p></td>
<td><p>112</p></td>
<td><p>133</p></td>
<td><p>149</p></td>
<td><p>155</p></td>
</tr>
<tr class="row-odd"><td><p>LDV BEV cars, 300 mile range</p></td>
<td><p>85</p></td>
<td><p>102</p></td>
<td><p>124</p></td>
<td><p>138</p></td>
<td><p>144</p></td>
</tr>
<tr class="row-even"><td><p>LDT BEV trucks, 100 mile range</p></td>
<td><p>60</p></td>
<td><p>69</p></td>
<td><p>78</p></td>
<td><p>83</p></td>
<td><p>85</p></td>
</tr>
<tr class="row-odd"><td><p>LDT BEV trucks, 200 mile range</p></td>
<td><p>57</p></td>
<td><p>66</p></td>
<td><p>76</p></td>
<td><p>81</p></td>
<td><p>83</p></td>
</tr>
<tr class="row-even"><td><p>LDT BEV trucks, 300 mile range</p></td>
<td><p>50</p></td>
<td><p>60</p></td>
<td><p>72</p></td>
<td><p>76</p></td>
<td><p>79</p></td>
</tr>
<tr class="row-odd"><td><p>MDV trucks</p></td>
<td><p>16</p></td>
<td><p>17</p></td>
<td><p>19</p></td>
<td><p>21</p></td>
<td><p>22</p></td>
</tr>
<tr class="row-even"><td><p>HDV trucks</p></td>
<td><p>9</p></td>
<td><p>10</p></td>
<td><p>13</p></td>
<td><p>14</p></td>
<td><p>15</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="smart-charging-optimization-algorithm">
<h2>Smart Charging Optimization Algorithm<a class="headerlink" href="#smart-charging-optimization-algorithm" title="Permalink to this heading">¶</a></h2>
<p>The smart charging algorithm was developed by <a href="#id33"><span class="problematic" id="id34">:cite:p:`2014:zhang`</span></a>. The algorithm is a
least cost optimization problem, with the cost function as follows:</p>
<div class="math notranslate nohighlight">
\[min \sum_{i=1}^n \sum_{j=1}^{seg(i)} f_{ij} x_{ij}\]</div>
<div class="line-block">
<div class="line">where:</div>
<div class="line"><span class="math notranslate nohighlight">\(f\)</span> is the cost of electricity in [$/kWh],</div>
<div class="line"><span class="math notranslate nohighlight">\(x\)</span> is the increase in vehicle state of charge in [kWh],</div>
<div class="line"><span class="math notranslate nohighlight">\(i\)</span> is the dwell period per trip count,</div>
<div class="line"><span class="math notranslate nohighlight">\(seg(i)\)</span> is the number of dwell segments for dwell period <span class="math notranslate nohighlight">\(i\)</span>,</div>
<div class="line"><span class="math notranslate nohighlight">\(j\)</span> is the dwell segment in [h],</div>
<div class="line"><span class="math notranslate nohighlight">\(n\)</span> is the total number of dwell per trip periods</div>
</div>
<p>The total number of dwell segments <span class="math notranslate nohighlight">\(seg(i)\)</span> will depend on the how long the
vehicle is parked.</p>
<p><strong>Equality</strong> constraint:</p>
<div class="math notranslate nohighlight">
\[\sum_{i=1}^n \sum_{j=1}^{seg(i)} x_{ij} + \sum_{i=1}^n y_i = 0\]</div>
<div class="line-block">
<div class="line">where:</div>
<div class="line"><span class="math notranslate nohighlight">\(y\)</span> is the discharged energy from driving</div>
</div>
<p><strong>Inequality</strong> constraints:</p>
<div class="math notranslate nohighlight">
\[ \begin{align}\begin{aligned}y_1 &amp; &gt; -c\\y_1 &amp; + \sum_{j=1}^{seg(1)} x_{1j} + y_2 &gt; -c\\y_1 &amp; + \sum_{j=1}^{seg(1)} x_{1j} + y_2 + \dotsc + \sum_{j=1}^{seg(n-1)} x_{n-1j} + y_n &gt; -c\end{aligned}\end{align} \]</div>
<div class="line-block">
<div class="line">where:</div>
<div class="line"><span class="math notranslate nohighlight">\(c\)</span> is the battery energy capacity in [kWh]</div>
</div>
<p><strong>Bounds</strong>:</p>
<div class="math notranslate nohighlight">
\[0 \leq x_{ij} \leq p_{ij} \times \Delta t_{ij} \times \eta\]</div>
<div class="line-block">
<div class="line">where:</div>
<div class="line"><span class="math notranslate nohighlight">\(p\)</span> is the rated power of charger in [kW]</div>
<div class="line"><span class="math notranslate nohighlight">\(\Delta t\)</span> is the dwell time in [h]</div>
<div class="line"><span class="math notranslate nohighlight">\(\eta\)</span> is the charging efficiency</div>
</div>
<p>The optimization is structured to minimize the cost to charge each battery electric
vehicle within defined battery constraints. It is conducted at hourly timescale, meaning
that cost and electricity demand are provided in hourly segments. Charging efficiency is
dependent on the type of electric vehicle supply equipment (EVSE). Efficiency tends to
increase with higher charging rates. The model currently distinguishes between the lower
charging efficiency of AC level 2 charging (90%) and DC charging (95%), where AC
charging is assumed for charging rates at or below 19.2 kW, and DC charging is assumed
for charging rates above 19.2 kW. If a dwell time (<span class="math notranslate nohighlight">\(\Delta t\)</span>) falls below one
hour, the charge (<span class="math notranslate nohighlight">\(x\)</span>) available for that segment will be reduced proportional to
the amount of time spent parked (i.e., if a vehicle is parked for 30 minutes, the charge
will be reduced to <span class="math notranslate nohighlight">\(1/2\)</span>). The default minimum dwell time to consider a charging
event is 0.2 hours, or 12 minutes. This value can be modified depending on the user’s
scenario. The minimum dwell time is set in order to avoid impractical charging events
where, in the real world, a vehicle operator would not plug in their vehicle due to the
shortness of the stop. If the charging rate available is high (e.g., DC Fast Charging),
a shorter minimum dwell time may be warranted.</p>
</section>
<section id="adoption-rate">
<h2>Adoption Rate<a class="headerlink" href="#adoption-rate" title="Permalink to this heading">¶</a></h2>
<p>As discussed in <code class="xref std std-numref docutils literal notranslate"><span class="pre">bev_vmt_projections</span></code>, the default BEV adoption rates used in
this model are the VMT projections from NREL’s EFS data.  NREL used their Automotive
Deployment Options Projection Tool (ADOPT) in 2017 to generate the 2018-2050
projections.  Once actual adoption rates become available, those values could be used at
the state and/or UA level to update all remaining VMT projections.  As an example, the
California Energy Commission publishes a dashboard of the Light Duty Vehicle Population
by fuel type (including BEVs) in California for past years.</p>
<p>Similarly, other updates of BEV adoption rate projections at both state and UA levels
undoubtedly will arise over time.  As discussed in the User Manual section above, using
the user interface and modifying the accompanying datasets would allow updated adoption
rate projections to create corresponding BEV charging profiles when desired. Links for
these data sources are available in <a class="reference internal" href="../../index.html#data-sources"><span class="std std-numref">Section 6.2.2.5</span></a>.</p>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<p class="logo">
  <a href="../../../index.html">
    <img class="logo" src="../../../_static/img/BE_Sciences_RGB_Horizontal_Color.svg" alt="Logo"/>
    
  </a>
</p>



<p class="blurb">Modeling a clean energy future for the United States</p>




<p>
<iframe src="https://ghbtns.com/github-btn.html?user=Breakthrough-Energy&repo=docs&type=watch&count=true&size=large&v=2"
  allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
</p>





<h3>Navigation</h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../user/installation_guide.html">1. Installation Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../communication/code_of_conduct.html">2. Code of Conduct</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../dev/contribution_guide.html">3. Contribution Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../user/git_guide.html">4. Working with Git/GitHub</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../powersimdata/index.html">5. PowerSimData</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../index.html">6. PreREISE</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../postreise/index.html">7. PostREISE</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../reisejl/index.html">8. REISE.jl</a></li>
</ul>

<h3>Related Topics</h3>
<ul>
  <li><a href="../../../index.html">Documentation overview</a><ul>
  </ul></li>
</ul><h3>Useful Links</h3>
<ul>
  <li><a href="https://www.breakthroughenergy.org/">Breakthrough Energy</a></li>
  <li><a href="https://science.breakthroughenergy.org/">Breakthrough Energy Sciences</a></li>
  <li><a href="https://arxiv.org/abs/2002.06155">publication</a></li>
  <li><a href="https://zenodo.org/record/3530898">data @ zenodo</a></li>
</ul>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script><ul>
<h3>Code</h3>
<a href="../../../py-modindex.html">Module Index</a>
</ul>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2021, Breakthrough Energy Foundation.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 6.1.3</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.13</a>
      
      |
      <a href="../../../_sources/prereise/demand/transportation_electrification/methodology.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>