<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>Formulation &#8212; documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/sphinx_highlight.js"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="https://unpkg.com/mermaid@9.4.0/dist/mermaid.min.js"></script>
    <script>mermaid.initialize({startOnLoad:true});</script>
    <link rel="icon" href="../_static/favicon.svg"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="formulation">
<h1>Formulation<a class="headerlink" href="#formulation" title="Permalink to this heading">¶</a></h1>
<section id="sets">
<h2>Sets<a class="headerlink" href="#sets" title="Permalink to this heading">¶</a></h2>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(B\)</span>: Set of buses indexed by <span class="math notranslate nohighlight">\(b\)</span>.</p></li>
<li><p><span class="math notranslate nohighlight">\(I\)</span>: Set of generators indexed by <span class="math notranslate nohighlight">\(i\)</span>.</p></li>
<li><p><span class="math notranslate nohighlight">\(L\)</span>: Set of transmission network branches indexed by <span class="math notranslate nohighlight">\(l\)</span>.</p></li>
<li><p><span class="math notranslate nohighlight">\(S\)</span>: Set of generation cost curve segments indexed by <span class="math notranslate nohighlight">\(s\)</span>.</p></li>
<li><p><span class="math notranslate nohighlight">\(T\)</span>: Set of time periods indexed by <span class="math notranslate nohighlight">\(t\)</span></p></li>
</ul>
<section id="subsets">
<h3>Subsets<a class="headerlink" href="#subsets" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(I^{\rm H}\)</span>: Set of hydro generators.</p></li>
<li><p><span class="math notranslate nohighlight">\(I^{\rm S}\)</span>: Set of solar generators.</p></li>
<li><p><span class="math notranslate nohighlight">\(I^{\rm W}\)</span>: Set of wind generators.</p></li>
</ul>
</section>
</section>
<section id="variables">
<h2>Variables<a class="headerlink" href="#variables" title="Permalink to this heading">¶</a></h2>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(E_{b,\,t}\)</span>: Energy available in energy storage devices at bus <span class="math notranslate nohighlight">\(b\)</span> at time
<span class="math notranslate nohighlight">\(t\)</span>.</p></li>
<li><p><span class="math notranslate nohighlight">\(f_{l,\,t}\)</span>: Power flowing on branch <span class="math notranslate nohighlight">\(l\)</span> at time <span class="math notranslate nohighlight">\(t\)</span>.</p></li>
<li><p><span class="math notranslate nohighlight">\(g_{i,\,t}\)</span>: Power injected by each generator <span class="math notranslate nohighlight">\(i\)</span> at time <span class="math notranslate nohighlight">\(t\)</span>.</p></li>
<li><p><span class="math notranslate nohighlight">\(g_{i,\,s,\,t}\)</span>: Power injected by each generator <span class="math notranslate nohighlight">\(i\)</span> from cost curve
segment <span class="math notranslate nohighlight">\(i\)</span> at time <span class="math notranslate nohighlight">\(t\)</span>.</p></li>
<li><p><span class="math notranslate nohighlight">\(J^{\rm chg}_{b,\,t}\)</span>: Charging power of energy storage devices at bus
<span class="math notranslate nohighlight">\(b\)</span> at
time <span class="math notranslate nohighlight">\(t\)</span>.</p></li>
<li><p><span class="math notranslate nohighlight">\(J^{\rm dis}_{b,\,t}\)</span>: Discharging power of energy storage devices at bus
<span class="math notranslate nohighlight">\(b\)</span>
at time <span class="math notranslate nohighlight">\(t\)</span>.</p></li>
<li><p><span class="math notranslate nohighlight">\(s_{b,\,t}\)</span>: Load shed at bus <span class="math notranslate nohighlight">\(b\)</span> at time <span class="math notranslate nohighlight">\(t\)</span>.</p></li>
<li><p><span class="math notranslate nohighlight">\(v_{l,\,t}\)</span>: Branch limit violation for branch <span class="math notranslate nohighlight">\(l\)</span> at time <span class="math notranslate nohighlight">\(t\)</span>.</p></li>
<li><p><span class="math notranslate nohighlight">\(\delta^{\rm down}_{b,\,t}\)</span>: Amount of flexible demand curtailed at bus
<span class="math notranslate nohighlight">\(b\)</span> at time <span class="math notranslate nohighlight">\(t\)</span>.</p></li>
<li><p><span class="math notranslate nohighlight">\(\delta^{\rm up}_{b,\,t}\)</span>: Amount of flexible demand added at bus <span class="math notranslate nohighlight">\(b\)</span> at
time <span class="math notranslate nohighlight">\(t\)</span>.</p></li>
<li><p><span class="math notranslate nohighlight">\(\theta_{b,\,t}\)</span>: Voltage angle of bus <span class="math notranslate nohighlight">\(b\)</span> at time <span class="math notranslate nohighlight">\(t\)</span>.</p></li>
</ul>
</section>
<section id="parameters">
<h2>Parameters<a class="headerlink" href="#parameters" title="Permalink to this heading">¶</a></h2>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(a^{\rm shed}\)</span>: Binary parameter, whether load shedding is enabled.</p></li>
<li><p><span class="math notranslate nohighlight">\(a^{\rm viol}\)</span>: Binary parameter, whether transmission limit violation is
enabled.</p></li>
<li><p><span class="math notranslate nohighlight">\(c_{i,\,s}\)</span>: Cost coefficient for segment <span class="math notranslate nohighlight">\(s\)</span> of generator <span class="math notranslate nohighlight">\(i\)</span>.</p></li>
<li><p><span class="math notranslate nohighlight">\(c^{\rm min}_{i}\)</span>: Cost of running generator <span class="math notranslate nohighlight">\(i\)</span> at its minimum power
level.</p></li>
<li><p><span class="math notranslate nohighlight">\(d_{b,\,t}\)</span>: Power demand at bus <span class="math notranslate nohighlight">\(b\)</span> at time <span class="math notranslate nohighlight">\(t\)</span>.</p></li>
<li><p><span class="math notranslate nohighlight">\(E_{b,\,0}\)</span>: Initial energy available in energy storage devices at bus
<span class="math notranslate nohighlight">\(b\)</span>.</p></li>
<li><p><span class="math notranslate nohighlight">\(E^{\rm max}_{b}\)</span>: Maximum energy stored in energy storage devices at bus
<span class="math notranslate nohighlight">\(b\)</span>.</p></li>
<li><p><span class="math notranslate nohighlight">\(f^{\rm max}_{l}\)</span>: Maximum flow over branch <span class="math notranslate nohighlight">\(l\)</span>.</p></li>
<li><p><span class="math notranslate nohighlight">\(g^{\rm min}_{i}\)</span>: Minimum generation for generator <span class="math notranslate nohighlight">\(i\)</span>.</p></li>
<li><p><span class="math notranslate nohighlight">\(g^{\rm max}_{i,\,s}\)</span>: Width of cost curve segment <span class="math notranslate nohighlight">\(s\)</span> of generator
<span class="math notranslate nohighlight">\(i\)</span>.</p></li>
<li><p><span class="math notranslate nohighlight">\(J^{max}_{b}\)</span>: Maximum charging/discharging power of energy storage devices at
bus <span class="math notranslate nohighlight">\(b\)</span>.</p></li>
<li><dl class="simple">
<dt><span class="math notranslate nohighlight">\(m^{\rm line}_{l,\,b}\)</span>: Mapping of branches to buses.</dt><dd><ul>
<li><p><span class="math notranslate nohighlight">\(m^{\rm line}_{l,\,b} = 1\)</span> if branch <span class="math notranslate nohighlight">\(l\)</span> starts at bus <span class="math notranslate nohighlight">\(b\)</span>,</p></li>
<li><p><span class="math notranslate nohighlight">\(m^{\rm line}_{l,\,b} = -1\)</span> if branch <span class="math notranslate nohighlight">\(l\)</span> ends at bus <span class="math notranslate nohighlight">\(b\)</span>,</p></li>
<li><p><span class="math notranslate nohighlight">\(m^{\rm line}_{l,\,b} = 0\)</span> otherwise.</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><span class="math notranslate nohighlight">\(m^{\rm unit}_{i,\,b}\)</span>: Mapping of generators to buses.</dt><dd><ul>
<li><p><span class="math notranslate nohighlight">\(m^{\rm unit}_{i,\,b} = 1\)</span> if generator <span class="math notranslate nohighlight">\(i\)</span> is located at bus
<span class="math notranslate nohighlight">\(b\)</span>,</p></li>
<li><p><span class="math notranslate nohighlight">\(m^{\rm unit}_{i,\,b} = 0\)</span> otherwise.</p></li>
</ul>
</dd>
</dl>
</li>
<li><p><span class="math notranslate nohighlight">\(M\)</span>: An arbitrarily-large constant, used in ‘big-M’ constraints to either
constrain to <span class="math notranslate nohighlight">\(0\)</span>, or relax constraint.</p></li>
<li><p><span class="math notranslate nohighlight">\(p^{\rm e}\)</span>: Value of stored energy at beginning/end of interval (so that
optimization does not automatically drain the storage by end-of-interval).</p></li>
<li><p><span class="math notranslate nohighlight">\(p^{\rm s}\)</span>: Load shed penalty factor.</p></li>
<li><p><span class="math notranslate nohighlight">\(p^{\rm v}\)</span>: Transmission violation penalty factor.</p></li>
<li><p><span class="math notranslate nohighlight">\(r^{\rm up}_{i}\)</span>: Ramp-up limit for generator <span class="math notranslate nohighlight">\(i\)</span>.</p></li>
<li><p><span class="math notranslate nohighlight">\(r^{\rm down}_{i}\)</span>: Ramp-down limit for generator <span class="math notranslate nohighlight">\(i\)</span>.</p></li>
<li><p><span class="math notranslate nohighlight">\(w_{i,\,t}\)</span>: Power available at time <span class="math notranslate nohighlight">\(t\)</span> from time-varying generator
(hydro, wind, solar) <span class="math notranslate nohighlight">\(i\)</span>.</p></li>
<li><p><span class="math notranslate nohighlight">\(x_{l}\)</span>: Impedance of branch <span class="math notranslate nohighlight">\(l\)</span>.</p></li>
<li><p><span class="math notranslate nohighlight">\(\underline{\delta}_{b,\,t}\)</span>: Demand flexibility curtailments available (in
MW) at bus <span class="math notranslate nohighlight">\(b\)</span> at time <span class="math notranslate nohighlight">\(t\)</span>.</p></li>
<li><p><span class="math notranslate nohighlight">\(\overline{\delta}_{b,\,t}\)</span>: Demand flexibility additions available (in MW) at
bus <span class="math notranslate nohighlight">\(b\)</span> at time <span class="math notranslate nohighlight">\(t\)</span>.</p></li>
<li><p><span class="math notranslate nohighlight">\(\Delta^{\rm balance}\)</span>: The length of the rolling load balance window (in
hours), used to account for the duration that flexible demand is deviating from the
base demand.</p></li>
<li><p><span class="math notranslate nohighlight">\(\eta^{\rm chg}_{b}\)</span>: Charging efficiency of storage device at bus <span class="math notranslate nohighlight">\(b\)</span>.</p></li>
<li><p><span class="math notranslate nohighlight">\(\eta^{\rm dis}_{b}\)</span>: Discharging efficiency of storage device at bus <span class="math notranslate nohighlight">\(b\)</span>.</p></li>
</ul>
</section>
<section id="constraints">
<h2>Constraints<a class="headerlink" href="#constraints" title="Permalink to this heading">¶</a></h2>
<p>All equations apply over all entries in the indexed sets unless otherwise listed.</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(0 \le g_{i,\,s,\,t} \le g^{\rm max}_{i,\,s,\,t}\)</span>: Generator segment power is
non-negative and less than the segment width.</p></li>
<li><p><span class="math notranslate nohighlight">\(0 \le s_{b,\,t} \le a^{\rm shed} \cdot
\left ( d_{b,\,t} + \delta^{\rm up}_{b,\,t} - \delta^{\rm down}_{b,\,t} \right )\)</span>:
Load shed is non-negative and less than the demand at that bus (including the impact
of demand flexibility), if load shedding is enabled. If not, load shed is fixed to
<span class="math notranslate nohighlight">\(0\)</span>.</p></li>
<li><p><span class="math notranslate nohighlight">\(0 \le v_{b,\,t} \le a^{\rm viol} \cdot M\)</span>: Transmission violations are non-
negative, if they are enabled (<span class="math notranslate nohighlight">\(M\)</span> is a sufficiently large constant that there
is no effective upper limit when <span class="math notranslate nohighlight">\(a^{\rm shed} = 1\)</span>). If not, they are fixed to
<span class="math notranslate nohighlight">\(0\)</span>.</p></li>
<li><p><span class="math notranslate nohighlight">\(0 \le J_{b,\,t}^{\rm chg} \le J_{b}^{\rm max}\)</span>: Storage charging power is
non-negative and limited by the maximum charging power at that bus.</p></li>
<li><p><span class="math notranslate nohighlight">\(0 \le J_{b,\,t}^{\rm dis} \le J_{b}^{\rm max}\)</span>: Storage discharging power is
non-negative and limited by the maximum discharging power at that bus.</p></li>
<li><p><span class="math notranslate nohighlight">\(0 \le E_{b,\,t} \le E_{b}^{\rm max}\)</span>: Storage state-of-charge is non-negative
and limited by the maximum state of charge at that bus.</p></li>
<li><p><span class="math notranslate nohighlight">\(g_{i,\,t} = w_{i,\,t} \quad \forall i \in I^{\rm H}\)</span>: Hydro generator power is
fixed to the profiles.</p></li>
<li><p><span class="math notranslate nohighlight">\(0 \le g_{i,\,t} \le w_{i,\,t} \quad \forall i \in I^{\rm S} \cup I^{\rm W}\)</span>:
Solar and wind generator power is non-negative and not greater than the availability
profiles.</p></li>
<li><p><span class="math notranslate nohighlight">\(\sum_{i \in I} m_{i,\,b}^{\rm unit} g_{i,\,t} +
\sum_{l \in L} m_{l,\,b}^{\rm line} f_{l,\,t} +
J_{b,\,t}^{\rm dis} + s_{b,\, t} + \delta_{b,\, t}^{\rm down} =
d_{b,\,t} + J_{b,\,t}^{\rm chg} + \delta_{b,\,t}^{\rm up}\)</span>: Power balance at each bus
<span class="math notranslate nohighlight">\(b\)</span> at time <span class="math notranslate nohighlight">\(t\)</span>.</p></li>
<li><p><span class="math notranslate nohighlight">\(g_{i,\,t} = g_{i}^{\rm min} + \sum_{s \in \rm S} g_{i,\,s,\,t}\)</span>: Total
generator power is equal to the minimum power plus the power from each segment.</p></li>
<li><p><span class="math notranslate nohighlight">\(E_{b,\,t} = E_{b,\,t-1} + \eta_{b}^{\rm chg} J_{b,\, t}^{\rm chg} -
\frac{1}{\eta_{b}^{\rm dis}} J_{b,\,t}^{\rm dis}\)</span>: Conservation of energy for energy
storage state-of-charge.</p></li>
<li><p><span class="math notranslate nohighlight">\(g_{i,\,t} - g_{i,\,t-1} \le r_{i}^{\rm up}\)</span>: Ramp-up constraint.</p></li>
<li><p><span class="math notranslate nohighlight">\(g_{i,\,t} - g_{i,\,t-1} \ge r_{i}^{\rm down}\)</span>: Ramp-down constraint.</p></li>
<li><p><span class="math notranslate nohighlight">\(-\left ( f_{l}^{\rm max} + v_{l,\,t} \right ) \le f_{l,\,t} \le
\left ( f_{l}^{\rm max} + v_{l,\,t} \right )\)</span>: Power flow over each branch is limited
by the branch power limit, and can only exceed this value by using the ‘violation’
variable (if enabled),
which is penalized in the objective function.</p></li>
<li><p><span class="math notranslate nohighlight">\(f_{l,\,t} = \frac{1}{x_{l}} \sum_{b \in B} m_{l,\,b}^{\rm line}
\theta_{b,\,t}\)</span>: Power flow over each branch is proportional to the admittance and
the angle difference.</p></li>
<li><p><span class="math notranslate nohighlight">\(0 \le \delta_{b,\,t}^{\rm down} \le \underline{\delta}_{b,\,t}\)</span>: Bound on the
amount of demand that flexible demand resources can curtail.</p></li>
<li><p><span class="math notranslate nohighlight">\(0 \le \delta_{b,\,t}^{\rm up} \le \overline{\delta}_{b,\,t}\)</span>: Bound on the
amount of demand that flexible demand resources can add.</p></li>
<li><p><span class="math notranslate nohighlight">\(\sum_{t = k}^{k + \Delta^{\rm balance}} \delta_{b,\,t}^{\rm up} -
\delta_{b,\,t}^{\rm down} \ge 0, \quad \forall b \in B, \quad k = 1, ..., |T| -
\Delta^{\rm balance}\)</span>: Rolling load balance for flexible demand resources; used to
restrict the time that flexible demand resources can deviate from the base demand.</p></li>
<li><p><span class="math notranslate nohighlight">\(\sum_{t \in T} \delta_{b,\,t}^{\rm up} - \delta_{b,\,t}^{\rm down} \ge 0,
\quad \forall b \in B\)</span>: Interval load balance for flexible demand resources.</p></li>
</ul>
</section>
<section id="objective-function">
<h2>Objective Function<a class="headerlink" href="#objective-function" title="Permalink to this heading">¶</a></h2>
<p><span class="math notranslate nohighlight">\(\min \left [ \sum_{t \in T} \sum_{i \in I} \left [ C_{i}^{\rm min} +
\sum_{s \in \rm S} c_{i,\,s} g_{i,\,s,\,t} \right ] +
p^{\rm s} \sum_{t \in T} \sum_{b \in B} s_{b,\,t} +
p^{\rm v} \sum_{t \in T} \sum_{l \in L} v_{l,\,t} +
p^{\rm e} \sum_{b \in B} \left [ E_{b,\,0} - E_{b,\,|T|} \right ] \right ]\)</span></p>
<p>There are four main components to the objective function:</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(\sum_{t \in T} \sum_{i \in I} [ C_{i}^{\rm min} + \sum_{s \in \rm S} c_{i,\,s}
g_{i,\,s,\,t} ]\)</span>: The cost of operating generators, fixed costs plus variable costs,
which can consist of several cost curve segments for each generator.</p></li>
<li><p><span class="math notranslate nohighlight">\(p^{\rm s} \sum_{t \in T} \sum_{b \in B} s_{b,\,t}\)</span>: Penalty for load shedding
(if load shedding is enabled).</p></li>
<li><p><span class="math notranslate nohighlight">\(p^{\rm v} \sum_{t \in T} \sum_{l \in L} v_{l,\,t}\)</span>: Penalty for transmission
line limit violations (if transmission violations are enabled).</p></li>
<li><p><span class="math notranslate nohighlight">\(p^{\rm e} \sum_{b \in B} \left [ E_{b,\,0} - E_{b,\,|T|} \right ]\)</span>: Penalty for
ending the interval with less stored energy than the start, or reward for ending with
more.</p></li>
</ul>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<p class="logo">
  <a href="../index.html">
    <img class="logo" src="../_static/img/BE_Sciences_RGB_Horizontal_Color.svg" alt="Logo"/>
    
  </a>
</p>



<p class="blurb">Modeling a clean energy future for the United States</p>




<p>
<iframe src="https://ghbtns.com/github-btn.html?user=Breakthrough-Energy&repo=docs&type=watch&count=true&size=large&v=2"
  allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
</p>





<h3>Navigation</h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../user/installation_guide.html">1. Installation Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../communication/code_of_conduct.html">2. Code of Conduct</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev/contribution_guide.html">3. Contribution Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user/git_guide.html">4. Working with Git/GitHub</a></li>
<li class="toctree-l1"><a class="reference internal" href="../powersimdata/index.html">5. PowerSimData</a></li>
<li class="toctree-l1"><a class="reference internal" href="../prereise/index.html">6. PreREISE</a></li>
<li class="toctree-l1"><a class="reference internal" href="../postreise/index.html">7. PostREISE</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html">8. REISE.jl</a></li>
</ul>

<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  </ul></li>
</ul><h3>Useful Links</h3>
<ul>
  <li><a href="https://www.breakthroughenergy.org/">Breakthrough Energy</a></li>
  <li><a href="https://science.breakthroughenergy.org/">Breakthrough Energy Sciences</a></li>
  <li><a href="https://arxiv.org/abs/2002.06155">publication</a></li>
  <li><a href="https://zenodo.org/record/3530898">data @ zenodo</a></li>
</ul>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script><ul>
<h3>Code</h3>
<a href="../py-modindex.html">Module Index</a>
</ul>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2021, Breakthrough Energy Foundation.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 7.0.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.13</a>
      
      |
      <a href="../_sources/reisejl/formulation.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>