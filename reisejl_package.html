
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>REISE.jl &#8212; documentation</title>
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <link rel="shortcut icon" href="_static/favicon.svg"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="PostREISE" href="postreise_package.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="reise-jl">
<h1>REISE.jl<a class="headerlink" href="#reise-jl" title="Permalink to this headline">¶</a></h1>
<p>Renewable Energy Integration Simulation Engine.</p>
<p>This repository contains, in the <strong>src</strong> folder, the Julia scripts to run the power-flow study in the U.S. electric grid. The simulation engine relies on <a class="reference external" href="https://www.gurobi.com">Gurobi</a> as the optimization solver.</p>
<div class="section" id="dependencies">
<h2>Dependencies<a class="headerlink" href="#dependencies" title="Permalink to this headline">¶</a></h2>
<p>This package requires installations of the following</p>
<ul class="simple">
<li><p><a class="reference external" href="https://julialang.org/">Julia</a></p></li>
<li><p><a class="reference external" href="https://www.gurobi.com">Gurobi</a></p></li>
<li><p><a class="reference external" href="https://www.python.org/">Python</a></p></li>
</ul>
<p>For sample data to use with the simulation, please visit <a class="reference external" href="https://zenodo.org/record/3530898">Zenodo</a>.</p>
</div>
<div class="section" id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h2>
<div class="section" id="julia-package">
<h3>Julia package<a class="headerlink" href="#julia-package" title="Permalink to this headline">¶</a></h3>
<p>The most reliable way to install this package is by cloning the repo locally, navigating to the project folder, activating the project, and instantiating it. This approach will copy install all dependencies in the <strong>exact</strong> version as they were installed during package development. <strong>Note</strong>: if <code class="docutils literal notranslate"><span class="pre">Gurobi.jl</span></code> is not already installed in your Julia environment, then its build step will fail if it cannot find the Gurobi installation folder. To avoid this, you can specify an environment variable for <code class="docutils literal notranslate"><span class="pre">GUROBI_HOME</span></code>, pointing to the Gurobi <code class="docutils literal notranslate"><span class="pre">&lt;installdir&gt;</span></code>.</p>
<p>For more information, see https://github.com/JuliaOpt/Gurobi.jl#installation.</p>
<p>To instantiate:</p>
<div class="highlight-julia notranslate"><div class="highlight"><pre><span></span><span class="n">pkg</span><span class="o">&gt;</span> <span class="n">activate</span> <span class="o">.</span>

<span class="p">(</span><span class="n">REISE</span><span class="p">)</span> <span class="n">pkg</span><span class="o">&gt;</span> <span class="n">instantiate</span>
</pre></div>
</div>
<p>Another way is to install the package using the list of dependencies specified in the <code class="docutils literal notranslate"><span class="pre">Project.toml</span></code> file, which will pull the most recent allowed version of the dependencies. Currently, this package is known to be compatible with JuMP v0.21.3; this is specified in the <code class="docutils literal notranslate"><span class="pre">Project.toml</span></code> file, but there may be other packages for which the latest version does not maintain backward-compatibility.</p>
<p>This package is not registered. Therefore, it must be added to a Julia environment either directly from GitHub:</p>
<div class="highlight-julia notranslate"><div class="highlight"><pre><span></span><span class="n">pkg</span><span class="o">&gt;</span> <span class="n">add</span> <span class="n">https</span><span class="o">://</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">Breakthrough</span><span class="o">-</span><span class="n">Energy</span><span class="o">/</span><span class="n">REISE</span><span class="o">.</span><span class="n">jl</span><span class="c">#develop</span>
</pre></div>
</div>
<p>or by cloning the repository locally and then specifying the path to the repo:</p>
<div class="highlight-julia notranslate"><div class="highlight"><pre><span></span><span class="n">pkg</span><span class="o">&gt;</span> <span class="n">add</span> <span class="o">/</span><span class="n">YOUR_PATH_HERE</span><span class="o">/</span><span class="n">REISE</span><span class="o">.</span><span class="n">jl</span><span class="c">#develop</span>
</pre></div>
</div>
<p>Instead of calling <code class="docutils literal notranslate"><span class="pre">add</span> <span class="pre">PACKAGE</span></code>, it is also possible to call <code class="docutils literal notranslate"><span class="pre">dev</span> <span class="pre">PACKAGE</span></code>, which will always import the latest version of the code on your local machine. See the documentation for the Julia package manager for more information: https://julialang.github.io/Pkg.jl/v1/.</p>
</div>
<div class="section" id="associated-python-scripts">
<h3>Associated python scripts<a class="headerlink" href="#associated-python-scripts" title="Permalink to this headline">¶</a></h3>
<p>The dependencies of the python scripts contained in <code class="docutils literal notranslate"><span class="pre">pyreisejl</span></code> are not
automatically installed. See <code class="docutils literal notranslate"><span class="pre">requirements.txt</span></code> for details. These requirements
can be installed using pip:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip install -r requirements.txt
</pre></div>
</div>
</div>
</div>
<div class="section" id="usage-julia">
<h2>Usage (Julia)<a class="headerlink" href="#usage-julia" title="Permalink to this headline">¶</a></h2>
<p>Installation registers a package named <code class="docutils literal notranslate"><span class="pre">REISE</span></code>. Following Julia naming conventions, the <code class="docutils literal notranslate"><span class="pre">.jl</span></code> is dropped. The package can be imported using: <code class="docutils literal notranslate"><span class="pre">import</span> <span class="pre">REISE</span></code> to call <code class="docutils literal notranslate"><span class="pre">REISE.run_scenario()</span></code>, or <code class="docutils literal notranslate"><span class="pre">using</span> <span class="pre">REISE</span></code> to call <code class="docutils literal notranslate"><span class="pre">run_scenario()</span></code>.</p>
<p>To run a scenario which starts at the <code class="docutils literal notranslate"><span class="pre">1</span></code>st hour of the year, runs in <code class="docutils literal notranslate"><span class="pre">3</span></code> intervals of <code class="docutils literal notranslate"><span class="pre">24</span></code> hours each, loading input data from your present working directory (<code class="docutils literal notranslate"><span class="pre">pwd()</span></code>) and depositing results in the folder <code class="docutils literal notranslate"><span class="pre">output</span></code>, call:</p>
<div class="highlight-julia notranslate"><div class="highlight"><pre><span></span><span class="n">REISE</span><span class="o">.</span><span class="n">run_scenario</span><span class="p">(;</span>
    <span class="n">interval</span><span class="o">=</span><span class="mi">24</span><span class="p">,</span> <span class="n">n_interval</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">start_index</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">outputfolder</span><span class="o">=</span><span class="s">&quot;output&quot;</span><span class="p">,</span>
    <span class="n">inputfolder</span><span class="o">=</span><span class="n">pwd</span><span class="p">())</span>
</pre></div>
</div>
<p>An optional keyword argument <code class="docutils literal notranslate"><span class="pre">num_segments</span></code> controls the linearization of cost curves into piecewise-linear segments (default is 1). For example:</p>
<div class="highlight-julia notranslate"><div class="highlight"><pre><span></span><span class="n">REISE</span><span class="o">.</span><span class="n">run_scenario</span><span class="p">(;</span>
    <span class="n">interval</span><span class="o">=</span><span class="mi">24</span><span class="p">,</span> <span class="n">n_interval</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">start_index</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">outputfolder</span><span class="o">=</span><span class="s">&quot;output&quot;</span><span class="p">,</span>
    <span class="n">inputfolder</span><span class="o">=</span><span class="n">pwd</span><span class="p">(),</span> <span class="n">num_segments</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="usage-python">
<h2>Usage (Python)<a class="headerlink" href="#usage-python" title="Permalink to this headline">¶</a></h2>
<p>The python scripts included in <code class="docutils literal notranslate"><span class="pre">pyreisejl</span></code> perform some additional input validation for the Julia engine before running the simulation and extract data from  the resulting <code class="docutils literal notranslate"><span class="pre">.mat</span></code> files to <code class="docutils literal notranslate"><span class="pre">.pkl</span></code> files.</p>
<p>There are two main python scripts included in <code class="docutils literal notranslate"><span class="pre">pyreisejl</span></code>:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">pyreisejl/utility/call.py</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pyreisejl/utility/extract_data.py</span></code></p></li>
</ul>
<p>The first of these scripts transforms more descriptive input parameters into the
ones necessary for the Julia engine while also performing some additional input
validation. The latter, which can be set to automatically occur after the
simulation has completed, extracts key metrics from the resulting <code class="docutils literal notranslate"><span class="pre">.mat</span></code> files
to <code class="docutils literal notranslate"><span class="pre">.pkl</span></code> files.</p>
<p>For example, a simulation can be run as follows:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pyreisejl/utility/call.py -s <span class="s1">&#39;2016-01-01&#39;</span> -e <span class="s1">&#39;2016-01-07&#39;</span> -int <span class="m">24</span> -i <span class="s1">&#39;/PATH/TO/INPUT/FILES&#39;</span>
</pre></div>
</div>
<p>After the simulation has completed, the extraction can be run using the same start and end date as were used to run the simulation:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pyreisejl/utility/extract_data.py -s <span class="s1">&#39;2016-01-01&#39;</span> -e <span class="s1">&#39;2016-01-07&#39;</span> -x <span class="s1">&#39;/PATH/TO/OUTPUT/FILES&#39;</span>
</pre></div>
</div>
<div class="section" id="running-a-simulation">
<h3>Running a Simulation<a class="headerlink" href="#running-a-simulation" title="Permalink to this headline">¶</a></h3>
<p><strong>Note</strong> To see the available options for the <code class="docutils literal notranslate"><span class="pre">call.py</span></code> or <code class="docutils literal notranslate"><span class="pre">extract_data.py</span></code> script, use the <code class="docutils literal notranslate"><span class="pre">-h,</span> <span class="pre">--help</span></code> flag when calling the script.</p>
<p>To run the <code class="docutils literal notranslate"><span class="pre">REISE.jl</span></code> simulation from python, run <code class="docutils literal notranslate"><span class="pre">call.py</span></code> with the following required options:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>  <span class="o">-</span><span class="n">s</span><span class="p">,</span> <span class="o">--</span><span class="n">start</span><span class="o">-</span><span class="n">date</span> <span class="n">START_DATE</span>
                        <span class="n">The</span> <span class="n">start</span> <span class="n">date</span> <span class="k">for</span> <span class="n">the</span> <span class="n">simulation</span> <span class="ow">in</span> <span class="nb">format</span>
			<span class="s1">&#39;YYYY-MM-DD&#39;</span><span class="o">.</span> <span class="s1">&#39;YYYY-MM-DD HH&#39;</span><span class="o">.</span> <span class="s1">&#39;YYYY-MM-DD HH:MM&#39;</span><span class="p">,</span>
			<span class="ow">or</span> <span class="s1">&#39;YYYY-MM-DD HH:MM:SS&#39;</span><span class="o">.</span>
  <span class="o">-</span><span class="n">e</span><span class="p">,</span> <span class="o">--</span><span class="n">end</span><span class="o">-</span><span class="n">date</span> <span class="n">END_DATE</span>
                        <span class="n">The</span> <span class="n">end</span> <span class="n">date</span> <span class="k">for</span> <span class="n">the</span> <span class="n">simulation</span> <span class="ow">in</span> <span class="nb">format</span>
			<span class="s1">&#39;YYYY-MM-DD&#39;</span><span class="o">.</span> <span class="s1">&#39;YYYY-MM-DD HH&#39;</span><span class="o">.</span> <span class="s1">&#39;YYYY-MM-DD HH:MM&#39;</span><span class="p">,</span>
			<span class="ow">or</span> <span class="s1">&#39;YYYY-MM-DD HH:MM:SS&#39;</span><span class="o">.</span> <span class="n">If</span> <span class="n">only</span> <span class="n">the</span> <span class="n">date</span> <span class="ow">is</span> <span class="n">specified</span>
			<span class="p">(</span><span class="n">without</span> <span class="nb">any</span> <span class="n">hours</span><span class="p">),</span> <span class="n">the</span> <span class="n">entire</span> <span class="n">end</span><span class="o">-</span><span class="n">date</span> <span class="n">will</span> <span class="n">be</span>
			<span class="n">included</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">simulation</span><span class="o">.</span>
  <span class="o">-</span><span class="nb">int</span><span class="p">,</span> <span class="o">--</span><span class="n">interval</span> <span class="n">INTERVAL</span>
                        <span class="n">The</span> <span class="n">length</span> <span class="n">of</span> <span class="n">each</span> <span class="n">interval</span> <span class="ow">in</span> <span class="n">hours</span><span class="o">.</span>
  <span class="o">-</span><span class="n">i</span><span class="p">,</span> <span class="o">--</span><span class="nb">input</span><span class="o">-</span><span class="nb">dir</span> <span class="n">INPUT_DIR</span>
                        <span class="n">The</span> <span class="n">directory</span> <span class="n">containing</span> <span class="n">the</span> <span class="nb">input</span> <span class="n">data</span> <span class="n">files</span><span class="o">.</span> <span class="n">Required</span>
			<span class="n">files</span> <span class="n">are</span> <span class="s1">&#39;case.mat&#39;</span><span class="p">,</span> <span class="s1">&#39;demand.csv&#39;</span><span class="p">,</span> <span class="s1">&#39;hydro.csv&#39;</span><span class="p">,</span>
			<span class="s1">&#39;solar.csv&#39;</span><span class="p">,</span> <span class="ow">and</span> <span class="s1">&#39;wind.csv&#39;</span><span class="o">.</span>
</pre></div>
</div>
<p>Note that the start and end dates need to match dates contained in the input
profiles (demand, hydro, solar, wind).</p>
<p>This python script will validate some of the inputs and translate them into the
required Julia inputs listed below. By default, the Julia engine creates
<code class="docutils literal notranslate"><span class="pre">result_*.mat</span></code> files in an <code class="docutils literal notranslate"><span class="pre">output</span></code> folder created in the given input directory.
To save the matlab files to a different directory, there is an optional flag to
specify the execute directory. If this directory already exists, any existing
computations will be overwritten.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>  <span class="o">-</span><span class="n">x</span> <span class="n">EXECUTE_DIR</span><span class="p">,</span> <span class="o">--</span><span class="n">execute</span><span class="o">-</span><span class="nb">dir</span> <span class="n">EXECUTE_DIR</span>
                        <span class="n">The</span> <span class="n">directory</span> <span class="n">to</span> <span class="n">store</span> <span class="n">the</span> <span class="n">results</span><span class="o">.</span> <span class="n">This</span> <span class="ow">is</span> <span class="n">optional</span>
			<span class="ow">and</span> <span class="n">defaults</span> <span class="n">to</span> <span class="n">an</span> <span class="n">execute</span> <span class="n">folder</span> <span class="n">that</span> <span class="n">will</span> <span class="n">be</span> <span class="n">created</span>
			<span class="ow">in</span> <span class="n">the</span> <span class="nb">input</span> <span class="n">directory</span> <span class="k">if</span> <span class="n">it</span> <span class="n">does</span> <span class="ow">not</span> <span class="n">exist</span><span class="o">.</span>
</pre></div>
</div>
<p>There is another optional flag to specify the number of threads to use for the
simulation run in <code class="docutils literal notranslate"><span class="pre">Gurobi</span></code>. If the number of threads specified is higher than
the number of logical processor count available, the simulation will still run
with a warning. Specifying zero threads defaults to Auto.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>  <span class="o">-</span><span class="n">t</span> <span class="n">THREADS</span><span class="p">,</span> <span class="o">--</span><span class="n">threads</span> <span class="n">THREADS</span>
                        <span class="n">The</span> <span class="n">number</span> <span class="n">of</span> <span class="n">threads</span> <span class="k">with</span> <span class="n">which</span> <span class="n">to</span> <span class="n">run</span> <span class="n">the</span> <span class="n">simulation</span><span class="o">.</span>
			<span class="n">This</span> <span class="ow">is</span> <span class="n">optional</span> <span class="ow">and</span> <span class="n">defaults</span> <span class="n">to</span> <span class="n">Auto</span><span class="o">.</span>
</pre></div>
</div>
<p>The documentation for these options can also been accessed by using the
help flag:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>  <span class="o">-</span><span class="n">h</span><span class="p">,</span> <span class="o">--</span><span class="n">help</span>            <span class="n">show</span> <span class="n">this</span> <span class="n">help</span> <span class="n">message</span> <span class="ow">and</span> <span class="n">exit</span>
</pre></div>
</div>
</div>
<div class="section" id="extracting-simulation-results">
<h3>Extracting Simulation Results<a class="headerlink" href="#extracting-simulation-results" title="Permalink to this headline">¶</a></h3>
<p>The script <code class="docutils literal notranslate"><span class="pre">extract_data.py</span></code> extracts the following Pandas DataFrames from the
matlab files generated by the Julia engine:</p>
<ul class="simple">
<li><p>PF.pkl (power flow)</p></li>
<li><p>PG.pkl (power generated)</p></li>
<li><p>LMP.pkl (locational marginal price)</p></li>
<li><p>CONGU.pkl (congestion, upper flow limit)</p></li>
<li><p>CONGL.pkl (congestion, lower flow limit)</p></li>
<li><p>AVERAGED_CONG.pkl (time averaged congestion)</p></li>
</ul>
<p>If the simulation was run with the necessary input data, the following will
also be extracted:</p>
<ul class="simple">
<li><p>PF_DCLINE.pkl (power flow on DC lines)</p></li>
<li><p>STORAGE_PG.pkl (power generated by storage units)</p></li>
<li><p>STORAGE_E.pkl (energy state of charge)</p></li>
<li><p>LOAD_SHED.pkl (load shed profile for each load bus)</p></li>
</ul>
<p>The extraction process can be memory intensive, so it does not automatically
happen after a simulation run by default. If resource constraints are not a
concern, however, the below flag can be used with <code class="docutils literal notranslate"><span class="pre">call.py</span></code> to automatically
extract the data after a simulation run without having to manually initiate it:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>  <span class="o">-</span><span class="n">d</span><span class="p">,</span> <span class="o">--</span><span class="n">extract</span><span class="o">-</span><span class="n">data</span>    <span class="n">If</span> <span class="n">this</span> <span class="n">flag</span> <span class="ow">is</span> <span class="n">used</span><span class="p">,</span> <span class="n">the</span> <span class="n">data</span> <span class="n">generated</span> <span class="n">by</span> <span class="n">the</span>
      			<span class="n">simulation</span> <span class="n">after</span> <span class="n">the</span> <span class="n">engine</span> <span class="n">has</span> <span class="n">finished</span> <span class="n">running</span> <span class="n">will</span> <span class="n">be</span>
			<span class="n">automatically</span> <span class="n">extracted</span> <span class="n">into</span> <span class="o">.</span><span class="n">pkl</span> <span class="n">files</span><span class="p">,</span> <span class="ow">and</span> <span class="n">the</span>
			<span class="n">result</span><span class="o">.</span><span class="n">mat</span> <span class="n">files</span> <span class="n">will</span> <span class="n">be</span> <span class="n">deleted</span><span class="o">.</span> <span class="n">The</span> <span class="n">extraction</span> <span class="n">process</span>
			<span class="n">can</span> <span class="n">be</span> <span class="n">memory</span> <span class="n">intensive</span><span class="o">.</span> <span class="n">This</span> <span class="ow">is</span> <span class="n">optional</span> <span class="ow">and</span> <span class="n">defaults</span>
			<span class="n">to</span> <span class="kc">False</span> <span class="k">if</span> <span class="n">the</span> <span class="n">flag</span> <span class="ow">is</span> <span class="n">omitted</span><span class="o">.</span>
</pre></div>
</div>
<p>To manually extract the data, run <code class="docutils literal notranslate"><span class="pre">extract_data.py</span></code> with the following options:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>  <span class="o">-</span><span class="n">s</span> <span class="n">START_DATE</span><span class="p">,</span> <span class="o">--</span><span class="n">start</span><span class="o">-</span><span class="n">date</span> <span class="n">START_DATE</span>
                        <span class="n">The</span> <span class="n">start</span> <span class="n">date</span> <span class="k">as</span> <span class="n">provided</span> <span class="n">to</span> <span class="n">run</span> <span class="n">the</span> <span class="n">simulation</span><span class="o">.</span>
			<span class="n">Supported</span> <span class="n">formats</span> <span class="n">are</span> <span class="s1">&#39;YYYY-MM-DD&#39;</span><span class="o">.</span> <span class="s1">&#39;YYYY-MM-DD HH&#39;</span><span class="o">.</span>
			<span class="s1">&#39;YYYY-MM-DD HH:MM&#39;</span><span class="p">,</span> <span class="ow">or</span> <span class="s1">&#39;YYYY-MM-DD HH:MM:SS&#39;</span><span class="o">.</span>
  <span class="o">-</span><span class="n">e</span> <span class="n">END_DATE</span><span class="p">,</span> <span class="o">--</span><span class="n">end</span><span class="o">-</span><span class="n">date</span> <span class="n">END_DATE</span>
                        <span class="n">The</span> <span class="n">end</span> <span class="n">date</span> <span class="k">as</span> <span class="n">provided</span> <span class="n">to</span> <span class="n">run</span> <span class="n">the</span> <span class="n">simulation</span><span class="o">.</span>
			<span class="n">Supported</span> <span class="n">formats</span> <span class="n">are</span> <span class="s1">&#39;YYYY-MM-DD&#39;</span><span class="o">.</span> <span class="s1">&#39;YYYY-MM-DD HH&#39;</span><span class="o">.</span>
			<span class="s1">&#39;YYYY-MM-DD HH:MM&#39;</span><span class="p">,</span> <span class="ow">or</span> <span class="s1">&#39;YYYY-MM-DD HH:MM:SS&#39;</span><span class="o">.</span>
  <span class="o">-</span><span class="n">x</span> <span class="n">EXECUTE_DIR</span><span class="p">,</span> <span class="o">--</span><span class="n">execute</span><span class="o">-</span><span class="nb">dir</span> <span class="n">EXECUTE_DIR</span>
                        <span class="n">The</span> <span class="n">directory</span> <span class="n">where</span> <span class="n">the</span> <span class="n">REISE</span><span class="o">.</span><span class="n">jl</span> <span class="n">results</span> <span class="n">are</span> <span class="n">stored</span><span class="o">.</span>
</pre></div>
</div>
<p>When manually running the <code class="docutils literal notranslate"><span class="pre">extract_data</span></code> process, the script assumes the
frequency of the input profile csv’s are hourly and will construct the
timestamps for the resulting data accordingly. If a different frequency was
used for the input data, it can be specified with the following option:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>  <span class="o">-</span><span class="n">f</span> <span class="p">[</span><span class="n">FREQUENCY</span><span class="p">],</span> <span class="o">--</span><span class="n">frequency</span> <span class="p">[</span><span class="n">FREQUENCY</span><span class="p">]</span>
                        <span class="n">The</span> <span class="n">frequency</span> <span class="n">of</span> <span class="n">data</span> <span class="n">points</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">original</span> <span class="n">profile</span>
			<span class="n">csvs</span> <span class="k">as</span> <span class="n">a</span> <span class="n">Pandas</span> <span class="n">frequency</span> <span class="n">string</span><span class="o">.</span> <span class="n">This</span> <span class="ow">is</span> <span class="n">optional</span>
			<span class="ow">and</span> <span class="n">defaults</span> <span class="n">to</span> <span class="n">an</span> <span class="n">hour</span><span class="o">.</span>
</pre></div>
</div>
<p>The following optional options are available to both <code class="docutils literal notranslate"><span class="pre">call.py</span></code> when using the
automatic extraction flag and to <code class="docutils literal notranslate"><span class="pre">extract_data.py</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>  <span class="o">-</span><span class="n">o</span> <span class="n">OUTPUT_DIR</span><span class="p">,</span> <span class="o">--</span><span class="n">output</span><span class="o">-</span><span class="nb">dir</span> <span class="n">OUTPUT_DIR</span>
                        <span class="n">The</span> <span class="n">directory</span> <span class="n">to</span> <span class="n">store</span> <span class="n">the</span> <span class="n">extracted</span> <span class="n">data</span><span class="o">.</span> <span class="n">This</span> <span class="ow">is</span>
			<span class="n">optional</span> <span class="ow">and</span> <span class="n">defaults</span> <span class="n">to</span> <span class="n">the</span> <span class="n">execute</span> <span class="n">directory</span><span class="o">.</span>
			<span class="n">This</span> <span class="n">flag</span> <span class="ow">is</span> <span class="n">only</span> <span class="n">used</span> <span class="k">if</span> <span class="n">the</span> <span class="n">extract</span><span class="o">-</span><span class="n">data</span> <span class="n">flag</span> <span class="ow">is</span> <span class="nb">set</span><span class="o">.</span>
  <span class="o">-</span><span class="n">m</span> <span class="n">MATLAB_DIR</span><span class="p">,</span> <span class="o">--</span><span class="n">matlab</span><span class="o">-</span><span class="nb">dir</span> <span class="n">MATLAB_DIR</span>
                        <span class="n">The</span> <span class="n">directory</span> <span class="n">to</span> <span class="n">store</span> <span class="n">the</span> <span class="n">modified</span> <span class="n">case</span><span class="o">.</span><span class="n">mat</span> <span class="n">used</span> <span class="n">by</span>
			<span class="n">the</span> <span class="n">engine</span><span class="o">.</span> <span class="n">This</span> <span class="ow">is</span> <span class="n">optional</span> <span class="ow">and</span> <span class="n">defaults</span> <span class="n">to</span> <span class="n">the</span> <span class="n">execute</span>
			<span class="n">directory</span><span class="o">.</span> <span class="n">This</span> <span class="n">flag</span> <span class="ow">is</span> <span class="n">only</span> <span class="n">used</span> <span class="k">if</span> <span class="n">the</span> <span class="n">extract</span><span class="o">-</span><span class="n">data</span>
			<span class="n">flag</span> <span class="ow">is</span> <span class="nb">set</span><span class="o">.</span>
  <span class="o">-</span><span class="n">k</span><span class="p">,</span> <span class="o">--</span><span class="n">keep</span><span class="o">-</span><span class="n">matlab</span>     <span class="n">The</span> <span class="n">result</span><span class="o">.</span><span class="n">mat</span> <span class="n">files</span> <span class="n">found</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">execute</span> <span class="n">directory</span> <span class="n">will</span>
      			<span class="n">be</span> <span class="n">kept</span> <span class="n">instead</span> <span class="n">of</span> <span class="n">deleted</span> <span class="n">after</span> <span class="n">extraction</span><span class="o">.</span> <span class="n">This</span> <span class="n">flag</span>
			<span class="ow">is</span> <span class="n">only</span> <span class="n">used</span> <span class="k">if</span> <span class="n">the</span> <span class="n">extract</span><span class="o">-</span><span class="n">data</span> <span class="n">flag</span> <span class="ow">is</span> <span class="nb">set</span><span class="o">.</span>
</pre></div>
</div>
</div>
<div class="section" id="compatibility-with-powersimdata">
<h3>Compatibility with PowerSimData<a class="headerlink" href="#compatibility-with-powersimdata" title="Permalink to this headline">¶</a></h3>
<p>Within the python code in this repo, there is some code to maintain
compatibility with the <code class="docutils literal notranslate"><span class="pre">PowerSimData</span></code> framework.</p>
<p>Both <code class="docutils literal notranslate"><span class="pre">call.py</span></code> and <code class="docutils literal notranslate"><span class="pre">extract_data.py</span></code> can be called using a positional
argument that corresponds to a scenario id as generated by the
<code class="docutils literal notranslate"><span class="pre">PowerSimData</span></code> framework. Using this invocation assumes the presence
of the <code class="docutils literal notranslate"><span class="pre">PowerSimData</span></code> infrastructure including both a Scenario List
Manager and Execute List Manager. This option is not intended for manual
simulation runs.</p>
<p>Note also the different naming convention for various directories by
<code class="docutils literal notranslate"><span class="pre">PowerSimData</span></code> as compared to the options for the python scripts within
this repository.</p>
</div>
</div>
<div class="section" id="docker">
<h2>Docker<a class="headerlink" href="#docker" title="Permalink to this headline">¶</a></h2>
<p>The easiest way to setup this engine is within a Docker image. There is an
included <code class="docutils literal notranslate"><span class="pre">Dockerfile</span></code> that can be used to build the Docker image. With the
Docker daemon installed and running, navigate to the <code class="docutils literal notranslate"><span class="pre">REISE.jl</span></code> folder
containing the <code class="docutils literal notranslate"><span class="pre">Dockerfile</span></code> and build the image:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">docker</span> <span class="n">build</span> <span class="o">.</span> <span class="o">-</span><span class="n">t</span> <span class="n">reisejl</span>
</pre></div>
</div>
<p>To run the Docker image, you will need to mount two volumes; one containing the
<code class="docutils literal notranslate"><span class="pre">Gurobi</span></code> license file and another containing the necessary input files for the
engine.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">docker</span> <span class="n">run</span> <span class="o">-</span><span class="n">i</span> <span class="o">-</span><span class="n">v</span> <span class="o">/</span><span class="n">LOCAL</span><span class="o">/</span><span class="n">PATH</span><span class="o">/</span><span class="n">TO</span><span class="o">/</span><span class="n">GUROBI</span><span class="o">.</span><span class="n">LIC</span><span class="p">:</span><span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">share</span><span class="o">/</span><span class="n">gurobi_license</span> <span class="o">-</span><span class="n">v</span> <span class="o">/</span><span class="n">LOCAL</span><span class="o">/</span><span class="n">PATH</span><span class="o">/</span><span class="n">TO</span><span class="o">/</span><span class="n">DATA</span><span class="p">:</span><span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">share</span><span class="o">/</span><span class="n">data</span> <span class="n">reisejl</span>
</pre></div>
</div>
<p>Once the container is running, you can run a simulation using the <code class="docutils literal notranslate"><span class="pre">python</span></code>
commands described above. For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="n">pyreisejl</span><span class="o">/</span><span class="n">utility</span><span class="o">/</span><span class="n">call</span><span class="o">.</span><span class="n">py</span> <span class="o">-</span><span class="n">s</span> <span class="s1">&#39;2016-01-01&#39;</span> <span class="o">-</span><span class="n">e</span> <span class="s1">&#39;2016-01-07&#39;</span> <span class="o">-</span><span class="nb">int</span> <span class="mi">24</span> <span class="o">-</span><span class="n">i</span> <span class="s1">&#39;/usr/share/data&#39;</span>
</pre></div>
</div>
<p>Note that loading the <code class="docutils literal notranslate"><span class="pre">REISE.jl</span></code> package can take up to a couple of minutes,
so there may not be any output in this time.</p>
</div>
<div class="section" id="package-structure">
<h2>Package Structure<a class="headerlink" href="#package-structure" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">REISE.jl</span></code> contains only imports and includes. Individual type and function definitions are all in the other files in the <code class="docutils literal notranslate"><span class="pre">src</span></code> folder.</p>
</div>
<div class="section" id="formulation">
<h2>Formulation<a class="headerlink" href="#formulation" title="Permalink to this headline">¶</a></h2>
<div class="section" id="sets">
<h3>Sets<a class="headerlink" href="#sets" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p><img alt="B" src="https://render.githubusercontent.com/render/math?math=B" />:
Set of buses, indexed by
<img alt="b" src="https://render.githubusercontent.com/render/math?math=b" />.</p></li>
<li><p><img alt="I" src="https://render.githubusercontent.com/render/math?math=I" />:
Set of generators, indexed by
<img alt="i" src="https://render.githubusercontent.com/render/math?math=i" />.</p></li>
<li><p><img alt="L" src="https://render.githubusercontent.com/render/math?math=L" />:
Set of transmission network branches, indexed by
<img alt="l" src="https://render.githubusercontent.com/render/math?math=l" />.</p></li>
<li><p><img alt="S" src="https://render.githubusercontent.com/render/math?math=S" />:
Set of generation cost curve segments, indexed by
<img alt="s" src="https://render.githubusercontent.com/render/math?math=s" />.</p></li>
<li><p><img alt="T" src="https://render.githubusercontent.com/render/math?math=T" />:
Set of time periods, indexed by
<img alt="t" src="https://render.githubusercontent.com/render/math?math=t" />.</p></li>
</ul>
<div class="section" id="subsets">
<h4>Subsets<a class="headerlink" href="#subsets" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p><img alt="I^{\text{H}}" src="https://render.githubusercontent.com/render/math?math=I%5E%7B%5Ctext%7BH%7D%7D" />:
Set of hydro generators.</p></li>
<li><p><img alt="I^{\text{S}}" src="https://render.githubusercontent.com/render/math?math=I%5E%7B%5Ctext%7BS%7D%7D" />:
Set of solar generators.</p></li>
<li><p><img alt="I^{\text{W}}" src="https://render.githubusercontent.com/render/math?math=I%5E%7B%5Ctext%7BW%7D%7D" />:
Set of wind generators.</p></li>
</ul>
</div>
</div>
<div class="section" id="variables">
<h3>Variables<a class="headerlink" href="#variables" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p><img alt="E_{b,t}" src="https://render.githubusercontent.com/render/math?math=E_%7Bb%2Ct%7D" />:
Energy available in energy storage devices at bus <img alt="b" src="https://render.githubusercontent.com/render/math?math=b" />
at time <img alt="t" src="https://render.githubusercontent.com/render/math?math=t" />.</p></li>
<li><p><img alt="f_{l,t}" src="https://render.githubusercontent.com/render/math?math=f_%7Bl%2Ct%7D" />:
Power flowing on branch <img alt="l" src="https://render.githubusercontent.com/render/math?math=l" />
at time <img alt="t" src="https://render.githubusercontent.com/render/math?math=t" />.</p></li>
<li><p><img alt="g_{i,t}" src="https://render.githubusercontent.com/render/math?math=g_%7Bi%2Ct%7D" />:
Power injected by each generator <img alt="i" src="https://render.githubusercontent.com/render/math?math=i" />
at time <img alt="t" src="https://render.githubusercontent.com/render/math?math=t" />.</p></li>
<li><p><img alt="g_{i,s,t}" src="https://render.githubusercontent.com/render/math?math=g_%7Bi%2Cs%2Ct%7D" />:
Power injected by each generator <img alt="i" src="https://render.githubusercontent.com/render/math?math=i" />
from cost curve segment <img alt="s" src="https://render.githubusercontent.com/render/math?math=s" />
at time <img alt="t" src="https://render.githubusercontent.com/render/math?math=t" />.</p></li>
<li><p><img alt="J_{b,t}^{\text{chg}}" src="https://render.githubusercontent.com/render/math?math=J_%7Bb%2Ct%7D%5E%7B%5Ctext%7Bchg%7D%7D" />:
Charging power of energy storage devices at bus <img alt="b" src="https://render.githubusercontent.com/render/math?math=b" />
at time <img alt="t" src="https://render.githubusercontent.com/render/math?math=t" />.</p></li>
<li><p><img alt="J_{b,t}^{\text{dis}}" src="https://render.githubusercontent.com/render/math?math=J_%7Bb%2Ct%7D%5E%7B%5Ctext%7Bdis%7D%7D" />:
Discharging power of energy storage devices at bus <img alt="b" src="https://render.githubusercontent.com/render/math?math=b" />
at time <img alt="t" src="https://render.githubusercontent.com/render/math?math=t" />.</p></li>
<li><p><img alt="s_{b,t}" src="https://render.githubusercontent.com/render/math?math=s_%7Bb%2Ct%7D" />:
Load shed at bus <img alt="b" src="https://render.githubusercontent.com/render/math?math=b" />
at time <img alt="t" src="https://render.githubusercontent.com/render/math?math=t" />.</p></li>
<li><p><img alt="v_{l,t}" src="https://render.githubusercontent.com/render/math?math=v_%7Bl%2Ct%7D" />:
Branch limit violation for branch <img alt="l" src="https://render.githubusercontent.com/render/math?math=l" />
at time <img alt="t" src="https://render.githubusercontent.com/render/math?math=t" />.</p></li>
<li><p><img alt="{\theta}_{b,t}" src="https://render.githubusercontent.com/render/math?math=%7B%5Ctheta%7D_%7Bb%2Ct%7D" />:
Voltage angle of bus <img alt="b" src="https://render.githubusercontent.com/render/math?math=b" />
at time <img alt="t" src="https://render.githubusercontent.com/render/math?math=t" />.</p></li>
</ul>
</div>
<div class="section" id="parameters">
<h3>Parameters<a class="headerlink" href="#parameters" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p><img alt="a^{\text{shed}}" src="https://render.githubusercontent.com/render/math?math=a%5E%7B%5Ctext%7Bshed%7D%7D" />:
Binary parameter, whether load shedding is enabled.</p></li>
<li><p><img alt="a^{\text{viol}}" src="https://render.githubusercontent.com/render/math?math=a%5E%7B%5Ctext%7Bviol%7D%7D" />:
Binary parameter, whether transmission limit violation is enabled.</p></li>
<li><p><img alt="c_{i,s}" src="https://render.githubusercontent.com/render/math?math=c_%7Bi%2Cs%7D" />:
Cost coefficient for segment <img alt="s" src="https://render.githubusercontent.com/render/math?math=s" />
of generator <img alt="i" src="https://render.githubusercontent.com/render/math?math=i" />.</p></li>
<li><p><img alt="C_{i}^{\text{min}}" src="https://render.githubusercontent.com/render/math?math=C_%7Bi%7D%5E%7B%5Ctext%7Bmin%7D%7D" />:
Cost of running generator <img alt="i" src="https://render.githubusercontent.com/render/math?math=i" />
at its minimum power level.</p></li>
<li><p><img alt="d_{b,t}" src="https://render.githubusercontent.com/render/math?math=d_%7Bb%2Ct%7D" />:
Power demand at bus <img alt="b" src="https://render.githubusercontent.com/render/math?math=b" />
at time at time <img alt="t" src="https://render.githubusercontent.com/render/math?math=t" />.</p></li>
<li><p><img alt="E_{b,0}" src="https://render.githubusercontent.com/render/math?math=E_%7Bb%2C0%7D" />:
Initial energy available in energy storage devices at bus <img alt="b" src="https://render.githubusercontent.com/render/math?math=b" />.</p></li>
<li><p><img alt="E_{b}^{\text{max}}" src="https://render.githubusercontent.com/render/math?math=E_%7Bb%7D%5E%7B%5Ctext%7Bmax%7D%7D" />:
Maximum energy stored in energy storage devices at bus <img alt="b" src="https://render.githubusercontent.com/render/math?math=b" />.</p></li>
<li><p><img alt="f_{l}^{\text{max}}" src="https://render.githubusercontent.com/render/math?math=f_%7Bl%7D%5E%7B%5Ctext%7Bmax%7D%7D" />:
Maximum flow over line <img alt="l" src="https://render.githubusercontent.com/render/math?math=l" />.</p></li>
<li><p><img alt="g_{i}^{\text{min}}" src="https://render.githubusercontent.com/render/math?math=g_%7Bi%7D%5E%7B%5Ctext%7Bmin%7D%7D" />:
Minimum generation for generator <img alt="i" src="https://render.githubusercontent.com/render/math?math=i" />.</p></li>
<li><p><img alt="g_{i,s}^{\text{max}}" src="https://render.githubusercontent.com/render/math?math=g_%7Bi%2Cs%7D%5E%7B%5Ctext%7Bmax%7D%7D" />:
Generator cost curve segment width.</p></li>
<li><p><img alt="J_{b}^{\text{max}}" src="https://render.githubusercontent.com/render/math?math=J_%7Bb%7D%5E%7B%5Ctext%7Bmax%7D%7D" />:
Maximum charging/discharging power of energy storage devices at bus <img alt="b" src="https://render.githubusercontent.com/render/math?math=b" />.</p></li>
<li><p><img alt="m_{l,b}^{\text{line}}" src="https://render.githubusercontent.com/render/math?math=m_%7Bl%2Cb%7D%5E%7B%5Ctext%7Bline%7D%7D" />:
Mapping of branches to buses.
<img alt="m_{l,b}^{\text{line}} = 1" src="https://render.githubusercontent.com/render/math?math=m_%7Bl%2Cb%7D%5E%7B%5Ctext%7Bline%7D%7D%20%3D%201" />
if branch <img alt="l" src="https://render.githubusercontent.com/render/math?math=l" /> ‘starts’
at bus <img alt="b" src="https://render.githubusercontent.com/render/math?math=b" />,
<img alt="m_{l,b}^{\text{line}} = -1" src="https://render.githubusercontent.com/render/math?math=m_%7Bl%2Cb%7D%5E%7B%5Ctext%7Bline%7D%7D%20%3D%20-1" />
if branch <img alt="l" src="https://render.githubusercontent.com/render/math?math=l" /> ‘ends’
at bus <img alt="b" src="https://render.githubusercontent.com/render/math?math=b" />,
otherwise <img alt="m_{l,b}^{\text{line}} = 0" src="https://render.githubusercontent.com/render/math?math=m_%7Bl%2Cb%7D%5E%7B%5Ctext%7Bline%7D%7D%20%3D%200" />.</p></li>
<li><p><img alt="m_{i,b}^{\text{unit}}" src="https://render.githubusercontent.com/render/math?math=m_%7Bi%2Cb%7D%5E%7B%5Ctext%7Bunit%7D%7D" />:
Mapping of generators to buses.
<img alt="m_{i,b}^{\text{unit}} = 1" src="https://render.githubusercontent.com/render/math?math=m_%7Bi%2Cb%7D%5E%7B%5Ctext%7Bunit%7D%7D%20%3D%201" />
if generator <img alt="i" src="https://render.githubusercontent.com/render/math?math=i" />
is located at bus <img alt="b" src="https://render.githubusercontent.com/render/math?math=b" />,
otherwise <img alt="m_{i,b}^{\text{unit}} = 0" src="https://render.githubusercontent.com/render/math?math=m_%7Bi%2Cb%7D%5E%7B%5Ctext%7Bunit%7D%7D%20%3D%200" />.</p></li>
<li><p><img alt="M" src="https://render.githubusercontent.com/render/math?math=M" />:
An arbitrarily-large constant, used in ‘big-M’ constraints to either constrain to 0, or relax constraint.</p></li>
<li><p><img alt="p^{\text{e}}" src="https://render.githubusercontent.com/render/math?math=p%5E%7B%5Ctext%7Be%7D%7D" />:
Value of stored energy at beginning/end of interval (so that optimization does not automatically drain the storage by end-of-interval).</p></li>
<li><p><img alt="p^{\text{s}}" src="https://render.githubusercontent.com/render/math?math=p%5E%7B%5Ctext%7Bs%7D%7D" />:
Load shed penalty factor.</p></li>
<li><p><img alt="p^{\text{v}}" src="https://render.githubusercontent.com/render/math?math=p%5E%7B%5Ctext%7Bv%7D%7D" />:
Transmission violation penalty factor.</p></li>
<li><p><img alt="r_{i}^{\text{up}}" src="https://render.githubusercontent.com/render/math?math=r_%7Bi%7D%5E%7B%5Ctext%7Bup%7D%7D" />:
Ramp-up limit for generator <img alt="i" src="https://render.githubusercontent.com/render/math?math=i" />.</p></li>
<li><p><img alt="r_{i}^{\text{down}}" src="https://render.githubusercontent.com/render/math?math=r_%7Bi%7D%5E%7B%5Ctext%7Bdown%7D%7D" />:
Ramp-down limit for generator <img alt="i" src="https://render.githubusercontent.com/render/math?math=i" />.</p></li>
<li><p><img alt="w_{i,t}" src="https://render.githubusercontent.com/render/math?math=w_%7Bi%2Ct%7D" />:
Power available from time-varying generator (hydro, wind, solar) <img alt="i" src="https://render.githubusercontent.com/render/math?math=i" />
at time <img alt="t" src="https://render.githubusercontent.com/render/math?math=t" />.</p></li>
<li><p><img alt="x_{l}" src="https://render.githubusercontent.com/render/math?math=x_%7Bl%7D" />:
Impedance of branch <img alt="l" src="https://render.githubusercontent.com/render/math?math=l" />.</p></li>
<li><p><img alt="\eta_{b}^{\text{chg}}" src="https://render.githubusercontent.com/render/math?math=%5Ceta_%7Bb%7D%5E%7B%5Ctext%7Bchg%7D%7D" />:
Charging efficiency of storage device at bus <img alt="b" src="https://render.githubusercontent.com/render/math?math=b" />.</p></li>
<li><p><img alt="\eta_{b}^{\text{dis}}" src="https://render.githubusercontent.com/render/math?math=%5Ceta_%7Bb%7D%5E%7B%5Ctext%7Bdis%7D%7D" />:
Discharging efficiency of storage device at bus <img alt="b" src="https://render.githubusercontent.com/render/math?math=b" />.</p></li>
</ul>
</div>
<div class="section" id="constraints">
<h3>Constraints<a class="headerlink" href="#constraints" title="Permalink to this headline">¶</a></h3>
<p>All equations apply over all entries in the indexed sets unless otherwise listed.</p>
<ul class="simple">
<li><p><img alt="0 \le g_{i,s,t} \le g_{i,s,t}^{\text{max}}" src="https://render.githubusercontent.com/render/math?math=0%5Cle%20g_%7Bi%2Cs%2Ct%7D%5Cle%20g%5E%7B%5Ctext%7Bmax%7D%7D_%7Bi%2Cs%2Ct%7D" />:
generator segment power is non-negative and less than the segment width.</p></li>
<li><p><img alt="0 \le s_{b,t} \le a^{\text{shed}} \cdot d_{b,t}" src="https://render.githubusercontent.com/render/math?math=0%20%5Cle%20s_%7Bb%2Ct%7D%20%5Cle%20a%5E%7B%5Ctext%7Bshed%7D%7D%20%5Ccdot%20d_%7Bb%2Ct%7D" />:
load shed is non-negative and less than the demand at that bus, if load shedding is enabled.
If not, load shed is fixed to 0.</p></li>
<li><p><img alt="0 \le v_{b,t} \le a^{\text{viol}} \cdot M" src="https://render.githubusercontent.com/render/math?math=0%20%5Cle%20v_%7Bb%2Ct%7D%20%5Cle%20a%5E%7B%5Ctext%7Bshed%7D%7D%20%5Ccdot%20M" />:
transmission violations are non-negative, if they are enabled
(<img alt="M" src="https://render.githubusercontent.com/render/math?math=M" /> is a sufficiently large constant that there is no effective upper limit when <img alt="a^{\text{shed}} = 1" src="https://render.githubusercontent.com/render/math?math=a%5E%7B%5Ctext%7Bshed%7D%7D%20%3D%201" />).
If not, they are fixed to zero.</p></li>
<li><p><img alt="0 \le J_{b,t}^{\text{chg}} \le J_{b}^{\text{max}}" src="https://render.githubusercontent.com/render/math?math=0%20%5Cle%20J_%7Bb%2Ct%7D%5E%7B%5Ctext%7Bchg%7D%7D%20%5Cle%20J_%7Bb%7D%5E%7B%5Ctext%7Bmax%7D%7D" />:
Storage charging power is non-negative and limited by the maximum charging power at that bus.</p></li>
<li><p><img alt="0 \le J_{b,t}^{\text{dis}} \le J_{b}^{\text{max}}" src="https://render.githubusercontent.com/render/math?math=0%20%5Cle%20J_%7Bb%2Ct%7D%5E%7B%5Ctext%7Bdis%7D%7D%20%5Cle%20J_%7Bb%7D%5E%7B%5Ctext%7Bmax%7D%7D" />:
Storage discharging power is non-negative and limited by the maximum discharging power at that bus.</p></li>
<li><p><img alt="0 \le E_{b,t} \le E_{b}^{\text{max}}" src="https://render.githubusercontent.com/render/math?math=0%20%5Cle%20E_%7Bb%2Ct%7D%20%5Cle%20E_%7Bb%7D%5E%7B%5Ctext%7Bmax%7D%7D" />:
Storage state-of-charge is non-negative and limited by the maximum state of charge at that bus.</p></li>
<li><p><img alt="g_{i,t} = w_{i,t} \forall i \in I^{\text{H}}" src="https://render.githubusercontent.com/render/math?math=g_%7Bi%2Cs%7D%20%3D%20w_%7Bi%2Ct%7D%20%5Cforall%20i%20%5Cin%20I%5E%7B%5Ctext%7BH%7D%7D" />:
Hydro generator power is fixed to the profiles.</p></li>
<li><p><img alt="0 \le g_{i,t} \le w_{i,t} \forall i \in I^{\text{S}} \cup I^{\text{W}}" src="https://render.githubusercontent.com/render/math?math=0%20%5Cle%20g_%7Bi%2Cs%7D%20%5Cle%20w_%7Bi%2Ct%7D%20%5Cforall%20i%20%5Cin%20I%5E%7B%5Ctext%7BS%7D%7D%20%5Ccup%20I%5E%7B%5Ctext%7BW%7D%7D" />:
Solar and wind generator power is non-negative and not greater than the availability profiles.</p></li>
<li><p><img alt="\sum_{i \in I} m_{i,b}^{\text{unit}} g_{i,t} + \sum_{l \in L} m_{l,b}^{\text{line}} f_{l,t} + J_{b,t}^{\text{dis}} + s_{b,t} = d_{b,t} + J_{b,t}^{\text{chg}}" src="https://render.githubusercontent.com/render/math?math=%5Csum_%7Bi%20%5Cin%20I%7D%20m_%7Bi%2Cb%7D%5E%7B%5Ctext%7Bunit%7D%7D%20g_%7Bi%2Ct%7D%20%2B%20%5Csum_%7Bl%20%5Cin%20L%7D%20m_%7Bl%2Cb%7D%5E%7B%5Ctext%7Bline%7D%7D%20f_%7Bl%2Ct%7D%20%2B%20J_%7Bb%2Ct%7D%5E%7B%5Ctext%7Bdis%7D%7D%20%2B%20s_%7Bb%2Ct%7D%20%3D%20d_%7Bb%2Ct%7D%20%2B%20J_%7Bb%2Ct%7D%5E%7B%5Ctext%7Bchg%7D%7D" />:
Power balance at each bus <img alt="b" src="https://render.githubusercontent.com/render/math?math=b" />
at time <img alt="t" src="https://render.githubusercontent.com/render/math?math=t" />.</p></li>
<li><p><img alt="g_{i,t} = g_{i}^{\text{min}} + \sum_{s \in S} g_{i,s,t}" src="https://render.githubusercontent.com/render/math?math=g_%7Bi%2Ct%7D%20%3D%20g_%7Bi%7D%5E%7B%5Ctext%7Bmin%7D%7D%20%2B%20%5Csum_%7Bs%20%5Cin%20S%7D%20g_%7Bi%2Cs%2Ct%7D" />:
Total generator power is equal to the minimum power plus the power from each segment.</p></li>
<li><p><img alt="E_{b,t} = E_{b,t-1} + \eta_{b}^{\text{chg}} J_{b,t}^{\text{chg}} - \frac{1}{\eta_{b}^{\text{dis}}} J_{b,t}^{\text{dis}}" src="https://render.githubusercontent.com/render/math?math=E_%7Bb%2Ct%7D%20%3D%20E_%7Bb%2Ct-1%7D%20%2B%20%5Ceta_%7Bb%7D%5E%7B%5Ctext%7Bchg%7D%7D%20J_%7Bb%2Ct%7D%5E%7B%5Ctext%7Bchg%7D%7D%20-%20%5Cfrac%7B1%7D%7B%5Ceta_%7Bb%7D%5E%7B%5Ctext%7Bdis%7D%7D%7D%20J_%7Bb%2Ct%7D%5E%7B%5Ctext%7Bdis%7D%7D" />:
Conservation of energy for energy storage state-of-charge.</p></li>
<li><p><img alt="g_{i,t} - g_{i,t-1} \le r_{i}^{\text{up}}" src="https://render.githubusercontent.com/render/math?math=g_%7Bi%2Ct%7D%20-%20g_%7Bi%2Ct-1%7D%20%5Cle%20r_%7Bi%7D%5E%7B%5Ctext%7Bup%7D%7D" />:
Ramp-up constraint.</p></li>
<li><p><img alt="g_{i,t} - g_{i,t-1} \ge r_{i}^{\text{down}}" src="https://render.githubusercontent.com/render/math?math=g_%7Bi%2Ct%7D%20-%20g_%7Bi%2Ct-1%7D%20%5Cge%20r_%7Bi%7D%5E%7B%5Ctext%7Bdown%7D%7D" />:
Ramp-down constraint.</p></li>
<li><p><img alt="- ( f_{l}^{\text{max}} + v_{l,t} ) \le f_{l,t} \le ( f_{l}^{\text{max}} + v_{l,t} )" src="https://render.githubusercontent.com/render/math?math=-%20%28%20f_%7Bl%7D%5E%7B%5Ctext%7Bmax%7D%7D%20%2B%20v_%7Bl%2Ct%7D%20%29%20%5Cle%20f_%7Bl%2Ct%7D%20%5Cle%20%28%20f_%7Bl%7D%5E%7B%5Ctext%7Bmax%7D%7D%20%2B%20v_%7Bl%2Ct%7D%20%29" />:
Power flow over each branch is limited by the branch power limit, and can only exceed this value by using the ‘violation’ variable (if enabled), which is penalized in the objective function.</p></li>
<li><p><img alt="f_{l,t} = \frac{1}{x_{l}} \sum_{b \in B} m_{l,b}^{\text{line}} \theta_{b,t}" src="https://render.githubusercontent.com/render/math?math=f_%7Bl%2Ct%7D%20%3D%20%5Cfrac%7B1%7D%7Bx_%7Bl%7D%7D%20%5Csum_%7Bb%20%5Cin%20B%7D%20m_%7Bl%2Cb%7D%5E%7B%5Ctext%7Bline%7D%7D%20%5Ctheta_%7Bb%2Ct%7D" />:
Power flow over each branch is proportional to the admittance and the angle difference.</p></li>
</ul>
</div>
<div class="section" id="objective-function">
<h3>Objective function<a class="headerlink" href="#objective-function" title="Permalink to this headline">¶</a></h3>
<p><img alt="\min \left [ \sum_{t \in T} \sum_{i \in I} [ C_{i}^{\text{min}} + \sum_{s \in S} c_{i,s} g_{i,s,t} ] + p^{\text{s}} \sum_{t \in T} \sum_{b \in B} s_{b,t} + p^{\text{v}} \sum_{t \in T} \sum_{l \in L} v_{l,t} + p^{\text{e}} \sum_{\b \in B} [E_{b,0} - E_{b,|T|}] \right ]" src="https://render.githubusercontent.com/render/math?math=%5Cmin%20%5Cleft%20%5B%20%5Csum_%7Bt%20%5Cin%20T%7D%20%5Csum_%7Bi%20%5Cin%20I%7D%20%5B%20C_%7Bi%7D%5E%7B%5Ctext%7Bmin%7D%7D%20%2B%20%5Csum_%7Bs%20%5Cin%20S%7D%20c_%7Bi%2Cs%7D%20g_%7Bi%2Cs%2Ct%7D%20%5D%20%2B%20p%5E%7B%5Ctext%7Bs%7D%7D%20%5Csum_%7Bt%20%5Cin%20T%7D%20%5Csum_%7Bb%20%5Cin%20B%7D%20s_%7Bb%2Ct%7D%20%2B%20p%5E%7B%5Ctext%7Bv%7D%7D%20%5Csum_%7Bt%20%5Cin%20T%7D%20%5Csum_%7Bl%20%5Cin%20L%7D%20v_%7Bl%2Ct%7D%20%2B%20p%5E%7B%5Ctext%7Be%7D%7D%20%5Csum_%7B%5Cb%20%5Cin%20B%7D%20%5BE_%7Bb%2C0%7D%20-%20E_%7Bb%2C%7CT%7C%7D%5D%20%5Cright%20%5D" />
There are four main components of the objective function:</p>
<ul class="simple">
<li><p><img alt="\sum_{t \in T} \sum_{i \in I} [ C_{i}^{\text{min}} + \sum_{s \in S} c_{i,s} g_{i,s,t} ]" src="https://render.githubusercontent.com/render/math?math=%5Csum_%7Bt%20%5Cin%20T%7D%20%5Csum_%7Bi%20%5Cin%20I%7D%20%5B%20C_%7Bi%7D%5E%7B%5Ctext%7Bmin%7D%7D%20%2B%20%5Csum_%7Bs%20%5Cin%20S%7D%20c_%7Bi%2Cs%7D%20g_%7Bi%2Cs%2Ct%7D%20%5D" />:
The cost of operating generators, fixed costs plus variable costs, which can consist of several cost curve segments for each generator.</p></li>
<li><p><img alt="p^{\text{s}} \sum_{t \in T} \sum_{b \in B} s_{b,t}" src="https://render.githubusercontent.com/render/math?math=p%5E%7B%5Ctext%7Bs%7D%7D%20%5Csum_%7Bt%20%5Cin%20T%7D%20%5Csum_%7Bb%20%5Cin%20B%7D%20s_%7Bb%2Ct%7D" />:
Penalty for load shedding (if load shedding is enabled).</p></li>
<li><p><img alt="p^{\text{v}} \sum_{t \in T} \sum_{l \in L} v_{l,t}" src="https://render.githubusercontent.com/render/math?math=p%5E%7B%5Ctext%7Bv%7D%7D%20%5Csum_%7Bt%20%5Cin%20T%7D%20%5Csum_%7Bl%20%5Cin%20L%7D%20v_%7Bl%2Ct%7D" />:
Penalty for transmission line limit violations (if transmission violations are enabled).</p></li>
<li><p><img alt="p^{\text{e}} \sum_{\b \in B} [E_{b,0} - E_{b,|T|}]" src="https://render.githubusercontent.com/render/math?math=p%5E%7B%5Ctext%7Be%7D%7D%20%5Csum_%7B%5Cb%20%5Cin%20B%7D%20%5BE_%7Bb%2C0%7D%20-%20E_%7Bb%2C%7CT%7C%7D%5D" />:
Penalty for ending the interval with less stored energy than the start, or reward for ending with more.</p></li>
</ul>
</div>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<p class="logo">
  <a href="index.html">
    <img class="logo" src="_static/img/BE_Sciences_RGB_Horizontal_Color.svg" alt="Logo"/>
    
  </a>
</p>



<p class="blurb">Modeling a clean energy future for the United States</p>




<p>
<iframe src="https://ghbtns.com/github-btn.html?user=Breakthrough-Energy&repo=docs&type=watch&count=true&size=large&v=2"
  allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
</p>





<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="user/installation_guide.html">Installation Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="code_of_conduct.html">Code of Conduct</a></li>
<li class="toctree-l1"><a class="reference internal" href="dev/contribution_guide.html">Contribution Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="user/git_guide.html">Working with Git</a></li>
<li class="toctree-l1"><a class="reference internal" href="powersimdata_package.html">PowerSimData</a></li>
<li class="toctree-l1"><a class="reference internal" href="prereise_package.html">PreREISE</a></li>
<li class="toctree-l1"><a class="reference internal" href="postreise_package.html">PostREISE</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">REISE.jl</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#dependencies">Dependencies</a></li>
<li class="toctree-l2"><a class="reference internal" href="#installation">Installation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#julia-package">Julia package</a></li>
<li class="toctree-l3"><a class="reference internal" href="#associated-python-scripts">Associated python scripts</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#usage-julia">Usage (Julia)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#usage-python">Usage (Python)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#running-a-simulation">Running a Simulation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#extracting-simulation-results">Extracting Simulation Results</a></li>
<li class="toctree-l3"><a class="reference internal" href="#compatibility-with-powersimdata">Compatibility with PowerSimData</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#docker">Docker</a></li>
<li class="toctree-l2"><a class="reference internal" href="#package-structure">Package Structure</a></li>
<li class="toctree-l2"><a class="reference internal" href="#formulation">Formulation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#sets">Sets</a></li>
<li class="toctree-l3"><a class="reference internal" href="#variables">Variables</a></li>
<li class="toctree-l3"><a class="reference internal" href="#parameters">Parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="#constraints">Constraints</a></li>
<li class="toctree-l3"><a class="reference internal" href="#objective-function">Objective function</a></li>
</ul>
</li>
</ul>
</li>
</ul>

<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="postreise_package.html" title="previous chapter">PostREISE</a></li>
  </ul></li>
</ul><h3>Useful Links</h3>
<ul>
  <li><a href="https://www.breakthroughenergy.org/">Breakthrough Energy</a></li>
  <li><a href="https://science.breakthroughenergy.org/">Breakthrough Energy Sciences</a></li>
  <li><a href="https://arxiv.org/abs/2002.06155">publication</a></li>
  <li><a href="https://zenodo.org/record/3530898">data @ zenodo</a></li>
</ul>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script><ul>
<h3>Code</h3>
<a href="py-modindex.html">Module Index</a>
</ul>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2021, Breakthrough Energy Foundation.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 3.4.3</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/reisejl_package.md.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>