
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>4. Working with Git/GitHub &#8212; documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/sphinx_highlight.js"></script>
    <script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
    <script>mermaid.initialize({startOnLoad:true});</script>
    <link rel="shortcut icon" href="../_static/favicon.svg"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="5. PowerSimData" href="../powersimdata/index.html" />
    <link rel="prev" title="3. Contribution Guide" href="../dev/contribution_guide.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="working-with-git-github">
<h1><span class="section-number">4. </span>Working with Git/GitHub<a class="headerlink" href="#working-with-git-github" title="Permalink to this heading">¶</a></h1>
<section id="setup-git">
<h2><span class="section-number">4.1. </span>Setup Git<a class="headerlink" href="#setup-git" title="Permalink to this heading">¶</a></h2>
<p>If not already done:</p>
<ul class="simple">
<li><p>Download and install the latest version of Git. Follow the instructions on the
<a class="reference external" href="https://git-scm.com/downloads">Git website</a></p></li>
<li><p>Create a GitHub account</p></li>
<li><p>Set your <a class="reference external" href="https://docs.github.com/en/github/getting-started-with-github/setting-your-username-in-git">username</a></p></li>
<li><p>Set your <a class="reference external" href="https://docs.github.com/en/github/setting-up-and-managing-your-github-user-account/setting-your-commit-email-address">commit email address</a></p></li>
</ul>
</section>
<section id="for-users">
<h2><span class="section-number">4.2. </span>For Users<a class="headerlink" href="#for-users" title="Permalink to this heading">¶</a></h2>
<p>If you only plan to use the framework, you can clone the repositories using:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">git clone https://github.com/Breakthrough-Energy/REPO_NAME.git</span>
</pre></div>
</div>
<p>and keep the repository up-to-date via:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">git pull origin develop</span>
</pre></div>
</div>
</section>
<section id="for-contributors">
<h2><span class="section-number">4.3. </span>For Contributors<a class="headerlink" href="#for-contributors" title="Permalink to this heading">¶</a></h2>
<p>You will work with forks. GitHub has a good <a class="reference external" href="https://docs.github.com/en/free-pro-team&#64;latest/github/getting-started-with-github/fork-a-repo">tutorial</a> on their utilities.
You will find below a drawing summarizing the workflow.</p>
<figure class="align-default" id="id2">
<img alt="../_images/fork_and_clone.png" src="../_images/fork_and_clone.png" />
<figcaption>
<p><span class="caption-text">The image is taken from the Peer Production (Open Source Software, Wikipedia, and Beyond) course by James Howison available <a class="reference external" href="https://jameshowison.github.io/peer_production_course/pp_syllabus.html">here</a>.</span><a class="headerlink" href="#id2" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<section id="get-the-repository">
<h3><span class="section-number">4.3.1. </span>Get the Repository<a class="headerlink" href="#get-the-repository" title="Permalink to this heading">¶</a></h3>
<p>Select the repository you wish to fork on the main page of the Breakthrough Energy
Sciences’ <a class="reference external" href="https://github.com/Breakthrough-Energy">GitHub</a> account. Then, click on
<strong>Fork</strong> in the top right corner of the page to fork your own copy of the repository
to your account. Note that to do so, you need to have a GitHub account.</p>
<p>Create a local clone of your fork with:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">git clone https://github.com/YOUR_USERNAME/REPO_NAME.git</span>
</pre></div>
</div>
<p>where <code class="docutils literal notranslate"><span class="pre">REPO_NAME</span></code> can be <code class="docutils literal notranslate"><span class="pre">PowerSimData</span></code> or <code class="docutils literal notranslate"><span class="pre">REISE.jl</span></code> for example.</p>
</section>
<section id="sync-your-copy">
<h3><span class="section-number">4.3.2. </span>Sync your Copy<a class="headerlink" href="#sync-your-copy" title="Permalink to this heading">¶</a></h3>
<p>Configure Git to sync your fork with the original repository:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">git remote add upstream https://github.com/Breakthrough-Energy/REPO_NAME.git</span>
</pre></div>
</div>
<p>Your local Git client can keep track of many different ‘remote’ versions of the same
repository. By default, when you clone a repository from Github, the first remote is
named <code class="docutils literal notranslate"><span class="pre">origin</span></code>. The command above adds another remote and names it <code class="docutils literal notranslate"><span class="pre">upstream</span></code>. This
will be useful when the upstream version of the repository has code changes, and you
want your local branch to include those changes, so that the only difference between
your branch and the original repository is the code changes for your feature.</p>
</section>
<section id="branching">
<h3><span class="section-number">4.3.3. </span>Branching<a class="headerlink" href="#branching" title="Permalink to this heading">¶</a></h3>
<p>We recommend that you follow this <a class="reference external" href="https://nvie.com/posts/a-successful-git-branching-model/">branching model</a>. The main take on this is:</p>
<ul>
<li><p>Branch off from <code class="docutils literal notranslate"><span class="pre">develop</span></code> to create a feature branch:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">git checkout -b YOUR_USERNAME/FEATURE_NAME upstream/develop</span>
</pre></div>
</div>
</li>
<li><p>Keep it up-to-date, i.e., move your branch to the newest <code class="docutils literal notranslate"><span class="pre">HEAD</span></code> of <code class="docutils literal notranslate"><span class="pre">develop</span></code> via:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">git pull --rebase upstream develop</span>
</pre></div>
</div>
<p>Note that the more you wait to rebase the more you risk having to deal with merge
conflicts. We recommend that you rebase onto <code class="docutils literal notranslate"><span class="pre">develop</span></code> frequently.</p>
</li>
</ul>
</section>
<section id="commit-message">
<h3><span class="section-number">4.3.4. </span>Commit message<a class="headerlink" href="#commit-message" title="Permalink to this heading">¶</a></h3>
<p>This is how we structure our commit messages:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">feat: add hat wobble</span>
<span class="go">^--^  ^------------^</span>
<span class="go">|     |</span>
<span class="go">|     +-&gt; Summary in present tense.</span>
<span class="go">|</span>
<span class="go">+-------&gt; Type: chore, docs, feat, fix, refactor, style, or test.</span>
</pre></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">chore</span></code>: (updating grunt tasks etc; no production code change)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ci</span></code>: (changes to the CI configuration files and scripts)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">docs</span></code>: (changes to the documentation)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">feat</span></code>: (new feature for the user, not a new feature for build script)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">fix</span></code>: (bug fix for the user, not a fix to a build script)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">perf</span></code>: (code change that improves performance)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">refactor</span></code>: (refactoring production code, eg. renaming a variable)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">style</span></code>: (formatting, missing semi colons, etc; no production code change)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">test</span></code>: (adding missing tests, refactoring tests; no production code change)</p></li>
</ul>
<p>as suggested <a class="reference external" href="https://seesparkbox.com/foundry/semantic_commit_messages">here</a>. Note
that you must follow this semantic if you want to merge your branch into our code base.
We like to keep our commit history clean.</p>
</section>
<section id="don-t-git-pull">
<h3><span class="section-number">4.3.5. </span>Don’t <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">pull</span></code>…<a class="headerlink" href="#don-t-git-pull" title="Permalink to this heading">¶</a></h3>
<p>…unless you understand how this command behaves and you’re sure that’s what you want.</p>
<p>By default, <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">pull</span></code> will perform two distinct actions:</p>
<ul class="simple">
<li><p>Making your local Git client aware of the latest commits in the default remote
(running <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">fetch</span></code>).</p></li>
<li><p>If there are any differences between the commit history of the currently checked-out
branch in your local Git client and the latest commits of the corresponding branch in
the default remote, they will be merged (running <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">merge</span></code>).</p></li>
</ul>
<p>If the commit histories of the two branches have diverged (i.e. each branch has at least
one commit that’s not present in the other), then Git will automatically create a merge
commit. This is contrary to the branching model we typically follow (see the Branching
section above), and will make integrating your code back into our codebase more
difficult. If there are no commits in your local branch that aren’t present in the
remote, then the <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">merge</span></code> command will result in a ‘fast-forward’ merge, where the
commit history of your local branch is identical to the remote (this is good).</p>
<p>Since you probably don’t want a new merge commit, if you do want to run <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">pull</span></code>, we
encourage it to be run in a non-default mode with different behavior:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">pull</span> <span class="pre">--ff-only</span></code>: this will run <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">fetch</span></code> as normal but only execute the
<code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">merge</span></code> step if it can be completed with a fast-forward merge (i.e. without
creating a merge commit). This will only work if there are no new commits in your
local branch.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">pull</span> <span class="pre">--rebase</span></code>: this will run <code class="docutils literal notranslate"><span class="pre">get</span> <span class="pre">fetch</span></code> as normal and then attempt to
rebase any new commits in your local branch (any commits since the history deviated
from the remote) after the new commits of the remote branch. This will only work if
the distinct commits in the two versions of the branch don’t have any instances of
editing the same part of the same file.</p></li>
</ul>
<p>If neither of these steps can be completed automatically, then your local branch’s
commit history will need to be reconciled in a more manual way, e.g. rebasing and
manually resolving conflicts.</p>
<p>For more information, see
<a class="reference external" href="https://git-scm.com/docs/git-pull">the git pull documentation</a>.</p>
<p>Git can be configured to set either of these behaviors as the default behavior when
<code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">pull</span></code> is called. To configure <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">pull</span></code> to use fast-forward-only by default:
run <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">config</span> <span class="pre">pull.ff</span> <span class="pre">only</span></code>. To instead configure <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">pull</span></code> to use a rebase to
resolve the commit history by default: <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">config</span> <span class="pre">pull.rebase</span> <span class="pre">true</span></code>. By default
<code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">config</span></code> changes configurations on a per-repository basis, but it can
alternatively configure behavior across all repositories via a <code class="docutils literal notranslate"><span class="pre">--global</span></code> flag, e.g.
<code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">config</span> <span class="pre">--global</span> <span class="pre">pull.ff</span> <span class="pre">only</span></code> or <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">config</span> <span class="pre">--global</span> <span class="pre">pull.rebase</span> <span class="pre">true</span></code>.</p>
<p>For more information, see
<a class="reference external" href="https://git-scm.com/docs/git-config">the git config documentation</a>.</p>
</section>
<section id="clean-up-personal-commit-history">
<h3><span class="section-number">4.3.6. </span>Clean up personal commit history<a class="headerlink" href="#clean-up-personal-commit-history" title="Permalink to this heading">¶</a></h3>
<p>If you did not follow our commit message convention or your commit history is messy,
use the interactive rebase tool (see this <a class="reference external" href="https://git-scm.com/book/en/v2/Git-Tools-Rewriting-History">website</a> for more details) to
revise your commit history. You will be able to reorder, reword, drop and meld commits.
In short:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">git rebase -i upstream/BRANCH</span>
</pre></div>
</div>
<p>where <code class="docutils literal notranslate"><span class="pre">BRANCH</span></code> is the name of the branch you branched off, e.g., <code class="docutils literal notranslate"><span class="pre">develop</span></code>.</p>
</section>
<section id="pull-request">
<h3><span class="section-number">4.3.7. </span>Pull request<a class="headerlink" href="#pull-request" title="Permalink to this heading">¶</a></h3>
<p>PRs are critical to good software development by:</p>
<ul class="simple">
<li><p>Reducing code defects</p></li>
<li><p>Keeping the team up to date with new code in the code base</p></li>
<li><p>Teaching each other how to get better at coding.</p></li>
</ul>
<p>You will find below the tasks that you have to go through for the PR:</p>
<ul>
<li><p>Keep your PRs simple (&lt; 400 lines) - Short PRs get reviewed faster, get better
feedback, and more bugs are caught</p></li>
<li><p>Make sure your commit history is clean</p></li>
<li><p>Fill out the form when creating the PR</p></li>
<li><p>Select one (several) Breakthrough Energy Sciences Team member(s) who is (are)
familiar with your project for reviewer(s)</p></li>
<li><p>Set yourself together with the main reviewer as the PR assignees</p></li>
<li><p>Keep branch up to date during the entire process using:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">git pull --rebase upstream develop</span>
</pre></div>
</div>
</li>
<li><p>Perform a <strong>merge commit</strong> once your PR is approved</p></li>
</ul>
</section>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<p class="logo">
  <a href="../index.html">
    <img class="logo" src="../_static/img/BE_Sciences_RGB_Horizontal_Color.svg" alt="Logo"/>
    
  </a>
</p>



<p class="blurb">Modeling a clean energy future for the United States</p>




<p>
<iframe src="https://ghbtns.com/github-btn.html?user=Breakthrough-Energy&repo=docs&type=watch&count=true&size=large&v=2"
  allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
</p>





<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation_guide.html">1. Installation Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../communication/code_of_conduct.html">2. Code of Conduct</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev/contribution_guide.html">3. Contribution Guide</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">4. Working with Git/GitHub</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#setup-git">4.1. Setup Git</a></li>
<li class="toctree-l2"><a class="reference internal" href="#for-users">4.2. For Users</a></li>
<li class="toctree-l2"><a class="reference internal" href="#for-contributors">4.3. For Contributors</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#get-the-repository">4.3.1. Get the Repository</a></li>
<li class="toctree-l3"><a class="reference internal" href="#sync-your-copy">4.3.2. Sync your Copy</a></li>
<li class="toctree-l3"><a class="reference internal" href="#branching">4.3.3. Branching</a></li>
<li class="toctree-l3"><a class="reference internal" href="#commit-message">4.3.4. Commit message</a></li>
<li class="toctree-l3"><a class="reference internal" href="#don-t-git-pull">4.3.5. Don’t <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">pull</span></code>…</a></li>
<li class="toctree-l3"><a class="reference internal" href="#clean-up-personal-commit-history">4.3.6. Clean up personal commit history</a></li>
<li class="toctree-l3"><a class="reference internal" href="#pull-request">4.3.7. Pull request</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../powersimdata/index.html">5. PowerSimData</a></li>
<li class="toctree-l1"><a class="reference internal" href="../prereise/index.html">6. PreREISE</a></li>
<li class="toctree-l1"><a class="reference internal" href="../postreise/index.html">7. PostREISE</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reisejl/index.html">8. REISE.jl</a></li>
</ul>

<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
      <li>Previous: <a href="../dev/contribution_guide.html" title="previous chapter"><span class="section-number">3. </span>Contribution Guide</a></li>
      <li>Next: <a href="../powersimdata/index.html" title="next chapter"><span class="section-number">5. </span>PowerSimData</a></li>
  </ul></li>
</ul><h3>Useful Links</h3>
<ul>
  <li><a href="https://www.breakthroughenergy.org/">Breakthrough Energy</a></li>
  <li><a href="https://science.breakthroughenergy.org/">Breakthrough Energy Sciences</a></li>
  <li><a href="https://arxiv.org/abs/2002.06155">publication</a></li>
  <li><a href="https://zenodo.org/record/3530898">data @ zenodo</a></li>
</ul>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script><ul>
<h3>Code</h3>
<a href="../py-modindex.html">Module Index</a>
</ul>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2021, Breakthrough Energy Foundation.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 5.3.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../_sources/user/git_guide.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>